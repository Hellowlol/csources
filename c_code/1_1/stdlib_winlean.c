/* Generated by Nim Compiler v0.10.3 */
/*   (c) 2015 Andreas Rumpf */
/* The generated code is subject to the original license. */
#define NIM_INTBITS 32
#include "nimbase.h"

#include <string.h>

#include "winsock2.h"
typedef struct tguid105614 tguid105614;
typedef struct TGenericSeq TGenericSeq;
typedef struct NimStringDesc NimStringDesc;
typedef struct twin32finddata104219 twin32finddata104219;
typedef struct tfiletime103245 tfiletime103245;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct tsecurityattributes103239 tsecurityattributes103239;
typedef struct tstartupinfo103241 tstartupinfo103241;
typedef struct tprocessinformation103243 tprocessinformation103243;
typedef struct addrinfo104868 addrinfo104868;
typedef struct tfdset104864 tfdset104864;
typedef struct timeval104866 timeval104866;
typedef NI8 TY105627[8];
struct  tguid105614  {
NI32 D1;
NI16 D2;
NI16 D3;
TY105627 D4;
};
typedef NI8 TY105708[8];
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
typedef N_STDCALL_PTR(int, TY105236) (NI16 wversionrequired, WSADATA* wsdata);
typedef N_STDCALL_PTR(NI32, TY103663) (NI32 dwflags, void* lpsource, NI32 dwmessageid, NI32 dwlanguageid, void* lpbuffer, NI32 nsize, void* arguments);
typedef N_STDCALL_PTR(void, TY103805) (void* p);
typedef N_STDCALL_PTR(NI32, TY103658) (void);
typedef N_STDCALL_PTR(NI32, TY104411) (NI16* lpfilename, NI32 nbufferlength, NI16* lpbuffer, NI16** lpfilepart);
typedef N_STDCALL_PTR(NI32, TY103829) (NI handle, NI16* buf, NI32 size);
typedef N_STDCALL_PTR(NI, TY104240) (NI16* lpfilename, twin32finddata104219* lpfindfiledata);
typedef N_STDCALL_PTR(NI32, TY104245) (NI hfindfile, twin32finddata104219* lpfindfiledata);
typedef N_STDCALL_PTR(void, TY104405) (NI hfindfile);
typedef N_STDCALL_PTR(NI32, TY103818) (NI16* pathname, void* security);
typedef N_STDCALL_PTR(NI, TY105318) (NI16* lpfilename, NI32 dwdesiredaccess, NI32 dwsharemode, void* lpsecurityattributes, NI32 dwcreationdisposition, NI32 dwflagsandattributes, NI htemplatefile);
typedef N_STDCALL_PTR(NI32, TY103425) (NI hobject);
typedef N_STDCALL_PTR(NI32, TY105411) (NI hfile, NI32 ldistancetomove, NI32* lpdistancetomovehigh, NI32 dwmovemethod);
typedef N_STDCALL_PTR(NI32, TY105405) (NI hfile);
typedef N_STDCALL_PTR(NI, TY105440) (NI hfile, void* lpfilemappingattributes, NI32 flprotect, NI32 dwmaximumsizehigh, NI32 dwmaximumsizelow, void* lpname);
typedef N_STDCALL_PTR(void*, TY105429) (NI hfilemappingobject, NI32 dwdesiredaccess, NI32 dwfileoffsethigh, NI32 dwfileoffsetlow, NI32 dwnumberofbytestomap, void* lpbaseaddress);
typedef N_STDCALL_PTR(NI32, TY105421) (NI hfile, NI32* lpfilesizehigh);
typedef N_STDCALL_PTR(NI32, TY104418) (NI16* lpfilename);
typedef N_STDCALL_PTR(NI32, TY105602) (void* lpbaseaddress);
typedef N_STDCALL_PTR(NI16*, TY104440) (void);
typedef N_STDCALL_PTR(NI16*, TY104435) (void);
typedef N_STDCALL_PTR(NI32, TY104437) (NI16* para1);
typedef N_STDCALL_PTR(NI32, TY103825) (NI16* lpname, NI16* lpvalue);
typedef N_STDCALL_PTR(NI32, TY103811) (NI32 nbufferlength, NI16* lpbuffer);
typedef N_STDCALL_PTR(void, TY104625) (tfiletime103245* lpsystemtimeasfiletime);
struct  tfiletime103245  {
NI32 Dwlowdatetime;
NI32 Dwhighdatetime;
};
typedef N_NIMCALL_PTR(void, TY3289) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, TY3294) (void* p);
struct  TNimType  {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY3289 marker;
TY3294 deepcopy;
};
typedef N_STDCALL_PTR(NI32, TY103453) (NI* hreadpipe, NI* hwritepipe, tsecurityattributes103239* lppipeattributes, NI32 nsize);
typedef N_STDCALL_PTR(NI, TY103639) (NI32 nstdhandle);
typedef N_STDCALL_PTR(NI32, TY103464) (NI16* lpapplicationname, NI16* lpcommandline, tsecurityattributes103239* lpprocessattributes, tsecurityattributes103239* lpthreadattributes, NI32 binherithandles, NI32 dwcreationflags, NI16* lpenvironment, NI16* lpcurrentdirectory, tstartupinfo103241* lpstartupinfo, tprocessinformation103243* lpprocessinformation);
typedef N_STDCALL_PTR(NI32, TY103431) (NI hfile, void* buffer, NI32 nnumberofbytestoread, NI32* lpnumberofbytesread, void* lpoverlapped);
typedef N_STDCALL_PTR(NI32, TY103442) (NI hfile, void* buffer, NI32 nnumberofbytestowrite, NI32* lpnumberofbyteswritten, void* lpoverlapped);
typedef N_STDCALL_PTR(NI32, TY103617) (NI hhandle, NI32 dwmilliseconds);
typedef N_STDCALL_PTR(NI32, TY103631) (NI hprocess, NI32* lpexitcode);
typedef N_STDCALL_PTR(void, TY104632) (NI32 dwmilliseconds);
typedef N_STDCALL_PTR(NI, TY105024) (int af, int typ, int protocol);
typedef N_STDCALL_PTR(int, TY105048) (NI s, SOCKADDR* name, int namelen);
typedef N_STDCALL_PTR(int, TY105244) (NCSTRING nodename, NCSTRING servname, addrinfo104868* hints, addrinfo104868** res);
typedef N_STDCALL_PTR(void, TY105256) (addrinfo104868* ai);
typedef N_STDCALL_PTR(int, TY105097) (NI s, int backlog);
typedef N_STDCALL_PTR(int, TY105138) (NI s, void* buf, int len, int flags);
typedef N_STDCALL_PTR(NI, TY105038) (NI s, SOCKADDR* a, int* addrlen);
typedef N_STDCALL_PTR(NCSTRING, TY105263) (IN_ADDR i);
typedef NI TY104915[64];
struct  tfdset104864  {
int Fdcount;
TY104915 Fdarray;
};
typedef N_STDCALL_PTR(int, TY105126) (int nfds, tfdset104864* readfds, tfdset104864* writefds, tfdset104864* exceptfds, timeval104866* timeout);
typedef N_STDCALL_PTR(NIM_BOOL, TY105185) (NI s, tfdset104864* set);
typedef N_STDCALL_PTR(int, TY105104) (NI s, void* buf, int len, int flags);
typedef N_STDCALL_PTR(int, TY105032) (NI s);
typedef NIM_CHAR TY104873[257];
typedef NIM_CHAR TY104876[129];
typedef NI16 TY104228[260];
typedef NI16 TY104232[14];
struct  twin32finddata104219  {
NI32 Dwfileattributes;
tfiletime103245 Ftcreationtime;
tfiletime103245 Ftlastaccesstime;
tfiletime103245 Ftlastwritetime;
NI32 Nfilesizehigh;
NI32 Nfilesizelow;
NI32 Dwreserved0;
NI32 Dwreserved1;
TY104228 Cfilename;
TY104232 Calternatefilename;
};
struct  TNimNode  {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct  tsecurityattributes103239  {
NI32 Nlength;
void* Lpsecuritydescriptor;
NI32 Binherithandle;
};
struct  tstartupinfo103241  {
NI32 Cb;
NCSTRING Lpreserved;
NCSTRING Lpdesktop;
NCSTRING Lptitle;
NI32 Dwx;
NI32 Dwy;
NI32 Dwxsize;
NI32 Dwysize;
NI32 Dwxcountchars;
NI32 Dwycountchars;
NI32 Dwfillattribute;
NI32 Dwflags;
NI16 Wshowwindow;
NI16 Cbreserved2;
void* Lpreserved2;
NI Hstdinput;
NI Hstdoutput;
NI Hstderror;
};
struct  tprocessinformation103243  {
NI Hprocess;
NI Hthread;
NI32 Dwprocessid;
NI32 Dwthreadid;
};
typedef NIM_CHAR TY104883[14];
struct  addrinfo104868  {
int Aiflags;
int Aifamily;
int Aisocktype;
int Aiprotocol;
NI Aiaddrlen;
NCSTRING Aicanonname;
SOCKADDR* Aiaddr;
addrinfo104868* Ainext;
};
struct  timeval104866  {
NI32 Tvsec;
NI32 Tvusec;
};
N_NIMCALL(void*, nimLoadLibrary)(NimStringDesc* path);
N_NOINLINE(void, nimLoadLibraryError)(NimStringDesc* path);
N_NIMCALL(void*, nimGetProcAddr)(void* lib, NCSTRING name);
NIM_CONST TY105708 TMP19 = {((NI8) -114),
((NI8) -23),
((NI8) 118),
((NI8) -27),
((NI8) -116),
((NI8) 116),
((NI8) 6),
((NI8) 62)}
;
NIM_CONST TY105708 TMP20 = {((NI8) -107),
((NI8) -54),
((NI8) 0),
((NI8) -128),
((NI8) 95),
((NI8) 72),
((NI8) -95),
((NI8) -110)}
;
STRING_LITERAL(TMP996, "Ws2_32.dll", 10);
STRING_LITERAL(TMP997, "Ws2_32.dll", 10);
STRING_LITERAL(TMP1003, "kernel32", 8);
STRING_LITERAL(TMP1004, "kernel32", 8);
tguid105614 wsaidconnectex_105710;
tguid105614 wsaidacceptex_105714;
tguid105614 wsaidgetacceptexsockaddrs_105718;
static void* TMP995;
TY105236 Dl_105235;
static void* TMP1002;
TY103663 Dl_103662;
TY103805 Dl_103804;
TY103658 Dl_103657;
TY104411 Dl_104410;
TY103829 Dl_103828;
TY104240 Dl_104239;
TY104245 Dl_104244;
TY104405 Dl_104404;
TY103818 Dl_103817;
TY105318 Dl_105317;
TY103425 Dl_103424;
TY105411 Dl_105410;
TY105405 Dl_105404;
TY105440 Dl_105439;
TY105429 Dl_105428;
TY105421 Dl_105420;
TY104418 Dl_104417;
TY105602 Dl_105601;
TY104440 Dl_104439;
TY104435 Dl_104434;
TY104437 Dl_104436;
TY103825 Dl_103824;
TY103811 Dl_103810;
TY104625 Dl_104624;
TNimType NTI103219; /* THandle */
TY103453 Dl_103452;
TY103639 Dl_103638;
TY103464 Dl_103463;
TY103431 Dl_103430;
TY103442 Dl_103441;
TY103617 Dl_103616;
TY103631 Dl_103630;
TY104632 Dl_104631;
TY105024 Dl_105023;
TY105048 Dl_105047;
TY105244 Dl_105243;
TY105256 Dl_105255;
TY105097 Dl_105096;
TY105138 Dl_105137;
TY105038 Dl_105037;
TY105263 Dl_105262;
TY105126 Dl_105125;
TY105185 Dl_105184;
TY105104 Dl_105103;
TY105032 Dl_105031;

N_NIMCALL(NI64, rdfiletime_104604)(tfiletime103245 f) {
	NI64 result;
	result = 0;
	result = (NI64)(((NI64)(NU64)(NU32)(f.Dwlowdatetime)) | (NI64)((NU64)(((NI64)(NU64)(NU32)(f.Dwhighdatetime))) << (NU64)(IL64(32))));
	return result;
}

N_NIMCALL(void, fdzero_105225)(tfdset104864* s) {
	(*s).Fdcount = ((int) 0);
}

N_NIMCALL(void, fdset_105204)(NI socket, tfdset104864* s) {
	{
		if (!((*s).Fdcount < ((NI32) 64))) goto LA3;
		(*s).Fdarray[(((NI) ((*s).Fdcount)))- 0] = socket;
		(*s).Fdcount += ((NI) 1);
	}
	LA3: ;
}

N_NIMCALL(int, fdisset_105192)(NI socket, tfdset104864* set) {
	int result;
	result = 0;
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = Dl_105184(socket, set);
		if (!LOC3) goto LA4;
		result = ((NI32) 1);
	}
	goto LA1;
	LA4: ;
	{
		result = ((NI32) 0);
	}
	LA1: ;
	return result;
}
NIM_EXTERNC N_NOINLINE(void, stdlib_winleanInit)(void) {
	tguid105614 LOC1;
	tguid105614 LOC2;
	tguid105614 LOC3;
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC1.D1 = ((NI32) 631375801);
	LOC1.D2 = ((NI16) -8717);
	LOC1.D3 = ((NI16) 18016);
	memcpy((void*)LOC1.D4, (NIM_CONST void*)TMP19, sizeof(LOC1.D4));
	wsaidconnectex_105710 = LOC1;
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.D1 = ((NI32) -1254720015);
	LOC2.D2 = ((NI16) -13396);
	LOC2.D3 = ((NI16) 4559);
	memcpy((void*)LOC2.D4, (NIM_CONST void*)TMP20, sizeof(LOC2.D4));
	wsaidacceptex_105714 = LOC2;
	memset((void*)(&LOC3), 0, sizeof(LOC3));
	LOC3.D1 = ((NI32) -1254720014);
	LOC3.D2 = ((NI16) -13396);
	LOC3.D3 = ((NI16) 4559);
	memcpy((void*)LOC3.D4, (NIM_CONST void*)TMP20, sizeof(LOC3.D4));
	wsaidgetacceptexsockaddrs_105718 = LOC3;
}

NIM_EXTERNC N_NOINLINE(void, stdlib_winleanDatInit)(void) {
NTI103219.size = sizeof(NI);
NTI103219.kind = 31;
NTI103219.base = 0;
NTI103219.flags = 3;
if (!((TMP995 = nimLoadLibrary((NimStringDesc*) &TMP996))
)) nimLoadLibraryError((NimStringDesc*) &TMP997);
	Dl_105235 = (TY105236) nimGetProcAddr(TMP995, "WSAStartup");
if (!((TMP1002 = nimLoadLibrary((NimStringDesc*) &TMP1003))
)) nimLoadLibraryError((NimStringDesc*) &TMP1004);
	Dl_103662 = (TY103663) nimGetProcAddr(TMP1002, "FormatMessageW");
	Dl_103804 = (TY103805) nimGetProcAddr(TMP1002, "LocalFree");
	Dl_103657 = (TY103658) nimGetProcAddr(TMP1002, "GetLastError");
	Dl_104410 = (TY104411) nimGetProcAddr(TMP1002, "GetFullPathNameW");
	Dl_103828 = (TY103829) nimGetProcAddr(TMP1002, "GetModuleFileNameW");
	Dl_104239 = (TY104240) nimGetProcAddr(TMP1002, "FindFirstFileW");
	Dl_104244 = (TY104245) nimGetProcAddr(TMP1002, "FindNextFileW");
	Dl_104404 = (TY104405) nimGetProcAddr(TMP1002, "FindClose");
	Dl_103817 = (TY103818) nimGetProcAddr(TMP1002, "CreateDirectoryW");
	Dl_105317 = (TY105318) nimGetProcAddr(TMP1002, "CreateFileW");
	Dl_103424 = (TY103425) nimGetProcAddr(TMP1002, "CloseHandle");
	Dl_105410 = (TY105411) nimGetProcAddr(TMP1002, "SetFilePointer");
	Dl_105404 = (TY105405) nimGetProcAddr(TMP1002, "SetEndOfFile");
	Dl_105439 = (TY105440) nimGetProcAddr(TMP1002, "CreateFileMappingW");
	Dl_105428 = (TY105429) nimGetProcAddr(TMP1002, "MapViewOfFileEx");
	Dl_105420 = (TY105421) nimGetProcAddr(TMP1002, "GetFileSize");
	Dl_104417 = (TY104418) nimGetProcAddr(TMP1002, "GetFileAttributesW");
	Dl_105601 = (TY105602) nimGetProcAddr(TMP1002, "UnmapViewOfFile");
	Dl_104439 = (TY104440) nimGetProcAddr(TMP1002, "GetCommandLineW");
	Dl_104434 = (TY104435) nimGetProcAddr(TMP1002, "GetEnvironmentStringsW");
	Dl_104436 = (TY104437) nimGetProcAddr(TMP1002, "FreeEnvironmentStringsW");
	Dl_103824 = (TY103825) nimGetProcAddr(TMP1002, "SetEnvironmentVariableW");
	Dl_103810 = (TY103811) nimGetProcAddr(TMP1002, "GetCurrentDirectoryW");
	Dl_104624 = (TY104625) nimGetProcAddr(TMP1002, "GetSystemTimeAsFileTime");
	Dl_103452 = (TY103453) nimGetProcAddr(TMP1002, "CreatePipe");
	Dl_103638 = (TY103639) nimGetProcAddr(TMP1002, "GetStdHandle");
	Dl_103463 = (TY103464) nimGetProcAddr(TMP1002, "CreateProcessW");
	Dl_103430 = (TY103431) nimGetProcAddr(TMP1002, "ReadFile");
	Dl_103441 = (TY103442) nimGetProcAddr(TMP1002, "WriteFile");
	Dl_103616 = (TY103617) nimGetProcAddr(TMP1002, "WaitForSingleObject");
	Dl_103630 = (TY103631) nimGetProcAddr(TMP1002, "GetExitCodeProcess");
	Dl_104631 = (TY104632) nimGetProcAddr(TMP1002, "Sleep");
	Dl_105023 = (TY105024) nimGetProcAddr(TMP995, "socket");
	Dl_105047 = (TY105048) nimGetProcAddr(TMP995, "bind");
	Dl_105243 = (TY105244) nimGetProcAddr(TMP995, "getaddrinfo");
	Dl_105255 = (TY105256) nimGetProcAddr(TMP995, "freeaddrinfo");
	Dl_105096 = (TY105097) nimGetProcAddr(TMP995, "listen");
	Dl_105137 = (TY105138) nimGetProcAddr(TMP995, "send");
	Dl_105037 = (TY105038) nimGetProcAddr(TMP995, "accept");
	Dl_105262 = (TY105263) nimGetProcAddr(TMP995, "inet_ntoa");
	Dl_105125 = (TY105126) nimGetProcAddr(TMP995, "select");
	Dl_105184 = (TY105185) nimGetProcAddr(TMP995, "__WSAFDIsSet");
	Dl_105103 = (TY105104) nimGetProcAddr(TMP995, "recv");
	Dl_105031 = (TY105032) nimGetProcAddr(TMP995, "closesocket");
}

