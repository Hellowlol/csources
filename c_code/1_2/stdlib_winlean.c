/* Generated by Nim Compiler v0.14.3 */
/*   (c) 2016 Andreas Rumpf */
/* The generated code is subject to the original license. */
#define NIM_INTBITS 64

#include "nimbase.h"
#include <string.h>
#include "winsock2.h"
typedef struct Guid116811 Guid116811;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct Win32finddata115413 Win32finddata115413;
typedef struct Securityattributes114427 Securityattributes114427;
typedef struct Startupinfo114429 Startupinfo114429;
typedef struct Processinformation114431 Processinformation114431;
typedef struct Filetime114433 Filetime114433;
typedef struct Addrinfo116053 Addrinfo116053;
typedef struct Tfdset116049 Tfdset116049;
typedef struct Timeval116051 Timeval116051;
typedef NI8 TY116825[8];
struct  Guid116811  {
NI32 D1;
NI16 D2;
NI16 D3;
TY116825 D4;
};
typedef N_STDCALL_PTR(NCSTRING, inetntopproc117001) (int family0, void* paddr0, NCSTRING pstringbuffer0, NI32 stringbufsize0);
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
typedef N_STDCALL_PTR(NI, TY114821) (NI32 nstdhandle0);
typedef NU8 Tnimkind3403;
typedef NU8 Tnimtypeflag3409Set;
typedef N_NIMCALL_PTR(void, TY3489) (void* p0, NI op0);
typedef N_NIMCALL_PTR(void*, TY3494) (void* p0);
struct  TNimType  {
NI size;
Tnimkind3403 kind;
Tnimtypeflag3409Set flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY3489 marker;
TY3494 deepcopy;
};
typedef N_STDCALL_PTR(int, TY116347) (NI16 wversionrequired0, WSADATA* Wsdata0);
typedef N_STDCALL_PTR(NI32, TY114836) (NI32 dwflags0, void* lpsource0, NI32 dwmessageid0, NI32 dwlanguageid0, void* lpbuffer0, NI32 nsize0, void* Arguments0);
typedef N_STDCALL_PTR(void, TY115002) (void* p0);
typedef N_STDCALL_PTR(NI32, TY114831) (void);
typedef N_STDCALL_PTR(NI32, TY115605) (NI16* lpfilename0, NI32 nbufferlength0, NI16* lpbuffer0, NI16** lpfilepart0);
typedef N_STDCALL_PTR(NI32, TY115023) (NI handle0, NI16* buf0, NI32 size0);
typedef N_STDCALL_PTR(NI, TY115433) (NI16* lpfilename0, Win32finddata115413* lpfindfiledata0);
typedef N_STDCALL_PTR(void, TY115602) (NI hfindfile0);
typedef N_STDCALL_PTR(NI32, TY115438) (NI hfindfile0, Win32finddata115413* lpfindfiledata0);
typedef N_STDCALL_PTR(NI32, TY115012) (NI16* pathname0, void* security0);
typedef N_STDCALL_PTR(NI, TY116424) (NI16* lpfilename0, NI32 dwdesiredaccess0, NI32 dwsharemode0, void* lpsecurityattributes0, NI32 dwcreationdisposition0, NI32 dwflagsandattributes0, NI htemplatefile0);
typedef N_STDCALL_PTR(NI32, TY114604) (NI hobject0);
typedef N_STDCALL_PTR(NI32, TY116605) (NI hfile0, NI32 ldistancetomove0, NI32* lpdistancetomovehigh0, NI32 dwmovemethod0);
typedef N_STDCALL_PTR(NI32, TY116602) (NI hfile0);
typedef N_STDCALL_PTR(NI, TY116625) (NI hfile0, void* lpfilemappingattributes0, NI32 flprotect0, NI32 dwmaximumsizehigh0, NI32 dwmaximumsizelow0, void* lpname0);
typedef N_STDCALL_PTR(void*, TY116617) (NI hfilemappingobject0, NI32 dwdesiredaccess0, NI32 dwfileoffsethigh0, NI32 dwfileoffsetlow0, NI32 dwnumberofbytestomap0, void* lpbaseaddress0);
typedef N_STDCALL_PTR(NI32, TY116612) (NI hfile0, NI32* lpfilesizehigh0);
typedef N_STDCALL_PTR(NI32, TY116802) (void* lpbaseaddress0);
typedef N_STDCALL_PTR(NI32, TY115612) (NI16* lpfilename0);
typedef N_STDCALL_PTR(NI16*, TY115633) (void);
typedef N_STDCALL_PTR(NI16*, TY115628) (void);
typedef N_STDCALL_PTR(NI32, TY115630) (NI16* para10);
typedef N_STDCALL_PTR(NI32, TY115019) (NI16* lpname0, NI16* lpvalue0);
typedef N_STDCALL_PTR(NI32, TY115005) (NI32 nbufferlength0, NI16* lpbuffer0);
typedef N_STDCALL_PTR(NI32, TY114623) (NI* hreadpipe0, NI* hwritepipe0, Securityattributes114427* lppipeattributes0, NI32 nsize0);
typedef N_STDCALL_PTR(NI, TY114631) (NI16* lpname0, NI32 dwopenmode0, NI32 dwpipemode0, NI32 nmaxinstances0, NI32 noutbuffersize0, NI32 ninbuffersize0, NI32 ndefaulttimeout0, Securityattributes114427* lpsecurityattributes0);
typedef N_STDCALL_PTR(NI, TY116422) (void);
typedef N_STDCALL_PTR(NI32, TY116412) (NI hsourceprocesshandle0, NI hsourcehandle0, NI htargetprocesshandle0, NI* lptargethandle0, NI32 dwdesiredaccess0, NI32 binherithandle0, NI32 dwoptions0);
typedef N_STDCALL_PTR(NI32, TY114653) (NI16* lpapplicationname0, NI16* lpcommandline0, Securityattributes114427* lpprocessattributes0, Securityattributes114427* lpthreadattributes0, NI32 binherithandles0, NI32 dwcreationflags0, NI16* lpenvironment0, NI16* lpcurrentdirectory0, Startupinfo114429* lpstartupinfo0, Processinformation114431* lpprocessinformation0);
typedef N_STDCALL_PTR(NI32, TY114607) (NI hfile0, void* Buffer0, NI32 nnumberofbytestoread0, NI32* lpnumberofbytesread0, void* lpoverlapped0);
typedef N_STDCALL_PTR(NI32, TY114615) (NI hfile0, void* Buffer0, NI32 nnumberofbytestowrite0, NI32* lpnumberofbyteswritten0, void* lpoverlapped0);
typedef N_STDCALL_PTR(NI32, TY114808) (NI hhandle0, NI32 dwmilliseconds0);
typedef N_STDCALL_PTR(NI32, TY114816) (NI hprocess0, NI32* lpexitcode0);
typedef N_STDCALL_PTR(NI32, TY116433) (NI16* pathname0);
typedef N_STDCALL_PTR(NI32, TY115615) (NI16* lpfilename0, NI32 dwfileattributes0);
typedef N_STDCALL_PTR(NI32, TY115016) (NI16* lppathname0);
typedef N_STDCALL_PTR(NI32, TY115009) (NI16* lppathname0);
typedef N_STDCALL_PTR(NI32, TY115624) (NI16* lpexistingfilename0, NI16* lpnewfilename0);
typedef N_STDCALL_PTR(NI32, TY115619) (NI16* lpexistingfilename0, NI16* lpnewfilename0, NI32 bfailifexists0);
struct  Filetime114433  {
NI32 dwlowdatetime;
NI32 dwhighdatetime;
};
typedef N_STDCALL_PTR(void, TY115810) (Filetime114433* lpsystemtimeasfiletime0);
typedef N_STDCALL_PTR(void, TY115814) (NI32 dwmilliseconds0);
typedef N_STDCALL_PTR(NI, TY116200) (int af0, int typ0, int protocol0);
typedef N_STDCALL_PTR(int, TY116215) (NI s0, SOCKADDR* name0, unsigned int namelen0);
typedef N_STDCALL_PTR(int, TY116352) (NCSTRING nodename0, NCSTRING servname0, Addrinfo116053* hints0, Addrinfo116053** res0);
typedef N_STDCALL_PTR(void, TY116361) (Addrinfo116053* ai0);
typedef N_STDCALL_PTR(int, TY116256) (NI s0, int backlog0);
typedef N_STDCALL_PTR(int, TY116285) (NI s0, void* buf0, int len0, int flags0);
typedef N_STDCALL_PTR(NI, TY116208) (NI s0, SOCKADDR* a0, unsigned int* addrlen0);
typedef N_STDCALL_PTR(NCSTRING, TY116365) (IN_ADDR i0);
typedef NI TY116101[64];
struct  Tfdset116049  {
int fdcount;
TY116101 fdarray;
};
typedef N_STDCALL_PTR(int, TY116276) (int nfds0, Tfdset116049* readfds0, Tfdset116049* writefds0, Tfdset116049* exceptfds0, Timeval116051* timeout0);
typedef N_STDCALL_PTR(NIM_BOOL, TY116317) (NI s0, Tfdset116049* set0);
typedef N_STDCALL_PTR(int, TY116260) (NI s0, void* buf0, int len0, int flags0);
typedef N_STDCALL_PTR(int, TY116205) (NI s0);
typedef NU8 Tnimnodekind3405;
struct  TNimNode  {
Tnimnodekind3405 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef NIM_CHAR TY116059[257];
typedef NIM_CHAR TY116062[129];
typedef NI16 TY115424[260];
typedef NI16 TY115428[14];
struct  Win32finddata115413  {
NI32 dwfileattributes;
Filetime114433 ftcreationtime;
Filetime114433 ftlastaccesstime;
Filetime114433 ftlastwritetime;
NI32 nfilesizehigh;
NI32 nfilesizelow;
NI32 dwreserved0;
NI32 dwreserved1;
TY115424 cfilename;
TY115428 calternatefilename;
};
struct  Securityattributes114427  {
NI32 nlength;
void* lpsecuritydescriptor;
NI32 binherithandle;
};
struct  Startupinfo114429  {
NI32 cb;
NCSTRING lpreserved;
NCSTRING lpdesktop;
NCSTRING lptitle;
NI32 dwx;
NI32 dwy;
NI32 dwxsize;
NI32 dwysize;
NI32 dwxcountchars;
NI32 dwycountchars;
NI32 dwfillattribute;
NI32 dwflags;
NI16 wshowwindow;
NI16 cbreserved2;
void* lpreserved2;
NI hstdinput;
NI hstdoutput;
NI hstderror;
};
struct  Processinformation114431  {
NI hprocess;
NI hthread;
NI32 dwprocessid;
NI32 dwthreadid;
};
typedef NIM_CHAR TY116069[14];
struct  Addrinfo116053  {
int aiflags;
int aifamily;
int aisocktype;
int aiprotocol;
NI aiaddrlen;
NCSTRING aicanonname;
SOCKADDR* aiaddr;
Addrinfo116053* ainext;
};
struct  Timeval116051  {
NI32 tvsec;
NI32 tvusec;
};
N_NIMCALL(void*, loadlib_113431_730713720)(NimStringDesc* path0, NIM_BOOL globalsymbols0);
N_NIMCALL(void*, symaddr_113454_730713720)(void* lib0, NCSTRING name0);
N_NIMCALL(void*, nimLoadLibrary)(NimStringDesc* path0);
N_NOINLINE(void, nimLoadLibraryError)(NimStringDesc* path0);
N_NIMCALL(void*, nimGetProcAddr)(void* lib0, NCSTRING name0);
NIM_CONST TY116825 T114176342_2 = {((NI8) -114),
((NI8) -23),
((NI8) 118),
((NI8) -27),
((NI8) -116),
((NI8) 116),
((NI8) 6),
((NI8) 62)}
;
NIM_CONST TY116825 T114176342_3 = {((NI8) -107),
((NI8) -54),
((NI8) 0),
((NI8) -128),
((NI8) 95),
((NI8) 72),
((NI8) -95),
((NI8) -110)}
;
STRING_LITERAL(T114176342_4, "Ws2_32.dll", 10);
STRING_LITERAL(T114176342_7, "kernel32", 8);
STRING_LITERAL(T114176342_8, "kernel32", 8);
STRING_LITERAL(T114176342_13, "Ws2_32.dll", 10);
STRING_LITERAL(T114176342_14, "Ws2_32.dll", 10);
Guid116811 Wsaidconnectex_116906_114176342;
Guid116811 Wsaidacceptex_116910_114176342;
Guid116811 Wsaidgetacceptexsockaddrs_116914_114176342;
inetntopproc117001 inetntopreal_117013_114176342;
void* ws2_117015_114176342;
static void* T114176342_5;
TY114821 Dl_114820;
TNimType NTI114403; /* Handle */
static void* T114176342_11;
TY116347 Dl_116346;
TY114836 Dl_114835;
TY115002 Dl_115001;
TY114831 Dl_114830;
TY115605 Dl_115604;
TY115023 Dl_115022;
TY115433 Dl_115432;
TY115602 Dl_115601;
TY115438 Dl_115437;
TY115012 Dl_115011;
TY116424 Dl_116423;
TY114604 Dl_114603;
TY116605 Dl_116604;
TY116602 Dl_116601;
TY116625 Dl_116624;
TY116617 Dl_116616;
TY116612 Dl_116611;
TY116802 Dl_116801;
TY115612 Dl_115611;
TY115633 Dl_115632;
TY115628 Dl_115627;
TY115630 Dl_115629;
TY115019 Dl_115018;
TY115005 Dl_115004;
TY114623 Dl_114622;
TY114631 Dl_114630;
TY116422 Dl_116421;
TY116412 Dl_116411;
TY114653 Dl_114652;
TY114607 Dl_114606;
TY114615 Dl_114614;
TY114808 Dl_114807;
TY114816 Dl_114815;
TY116433 Dl_116432;
TY115615 Dl_115614;
TY115016 Dl_115015;
TY115009 Dl_115008;
TY115624 Dl_115623;
TY115619 Dl_115618;
TY115810 Dl_115809;
TY115814 Dl_115813;
TY116200 Dl_116199;
TY116215 Dl_116214;
TY116352 Dl_116351;
TY116361 Dl_116360;
TY116256 Dl_116255;
TY116285 Dl_116284;
TY116208 Dl_116207;
TY116365 Dl_116364;
TY116276 Dl_116275;
TY116317 Dl_116316;
TY116260 Dl_116259;
TY116205 Dl_116204;

N_NIMCALL(NI64, rdfiletime_115801_114176342)(Filetime114433 f0) {
	NI64 result0;
	result0 = (NI64)0;
	result0 = (NI64)(((NI64)(NU64)(NU32)(f0.dwlowdatetime)) | (NI64)((NU64)(((NI64)(NU64)(NU32)(f0.dwhighdatetime))) << (NU64)(IL64(32))));
	return result0;
}

N_NIMCALL(void, Fdzero_116342_114176342)(Tfdset116049* s0) {
	(*s0).fdcount = ((int) 0);
}

N_NIMCALL(void, Fdset_116327_114176342)(NI socket0, Tfdset116049* s0) {
	{
		if (!((*s0).fdcount < ((NI32) 64))) goto LA3;
		(*s0).fdarray[(((NI) ((*s0).fdcount)))- 0] = socket0;
		(*s0).fdcount += ((NI) 1);
	}
	LA3: ;
}

N_NIMCALL(int, Fdisset_116321_114176342)(NI socket0, Tfdset116049* set0) {
	int result0;
	result0 = (int)0;
	{
		NIM_BOOL LOC3;
		LOC3 = (NIM_BOOL)0;
		LOC3 = Dl_116316(socket0, set0);
		if (!LOC3) goto LA4;
		result0 = ((NI32) 1);
	}
	goto LA1;
	LA4: ;
	{
		result0 = ((NI32) 0);
	}
	LA1: ;
	return result0;
}
NIM_EXTERNC N_NOINLINE(void, stdlib_winleanInit000)(void) {
	Guid116811 LOC1;
	Guid116811 LOC2;
	Guid116811 LOC3;
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC1.D1 = ((NI32) 631375801);
	LOC1.D2 = ((NI16) -8717);
	LOC1.D3 = ((NI16) 18016);
	memcpy((void*)LOC1.D4, (NIM_CONST void*)T114176342_2, sizeof(TY116825));
	Wsaidconnectex_116906_114176342 = LOC1;
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.D1 = ((NI32) -1254720015);
	LOC2.D2 = ((NI16) -13396);
	LOC2.D3 = ((NI16) 4559);
	memcpy((void*)LOC2.D4, (NIM_CONST void*)T114176342_3, sizeof(TY116825));
	Wsaidacceptex_116910_114176342 = LOC2;
	memset((void*)(&LOC3), 0, sizeof(LOC3));
	LOC3.D1 = ((NI32) -1254720014);
	LOC3.D2 = ((NI16) -13396);
	LOC3.D3 = ((NI16) 4559);
	memcpy((void*)LOC3.D4, (NIM_CONST void*)T114176342_3, sizeof(TY116825));
	Wsaidgetacceptexsockaddrs_116914_114176342 = LOC3;
	inetntopreal_117013_114176342 = NIM_NIL;
	ws2_117015_114176342 = loadlib_113431_730713720(((NimStringDesc*) &T114176342_4), NIM_FALSE);
	{
		void* LOC8;
		if (!!((ws2_117015_114176342 == NIM_NIL))) goto LA6;
		LOC8 = (void*)0;
		LOC8 = symaddr_113454_730713720(ws2_117015_114176342, "inet_ntop");
		inetntopreal_117013_114176342 = ((inetntopproc117001) (LOC8));
	}
	LA6: ;
}

NIM_EXTERNC N_NOINLINE(void, stdlib_winleanDatInit000)(void) {
NTI114403.size = sizeof(NI);
NTI114403.kind = 31;
NTI114403.base = 0;
NTI114403.flags = 3;
if (!((T114176342_5 = nimLoadLibrary((NimStringDesc*) &T114176342_7))
)) nimLoadLibraryError((NimStringDesc*) &T114176342_8);
	Dl_114820 = (TY114821) nimGetProcAddr(T114176342_5, "GetStdHandle");
if (!((T114176342_11 = nimLoadLibrary((NimStringDesc*) &T114176342_13))
)) nimLoadLibraryError((NimStringDesc*) &T114176342_14);
	Dl_116346 = (TY116347) nimGetProcAddr(T114176342_11, "WSAStartup");
	Dl_114835 = (TY114836) nimGetProcAddr(T114176342_5, "FormatMessageW");
	Dl_115001 = (TY115002) nimGetProcAddr(T114176342_5, "LocalFree");
	Dl_114830 = (TY114831) nimGetProcAddr(T114176342_5, "GetLastError");
	Dl_115604 = (TY115605) nimGetProcAddr(T114176342_5, "GetFullPathNameW");
	Dl_115022 = (TY115023) nimGetProcAddr(T114176342_5, "GetModuleFileNameW");
	Dl_115432 = (TY115433) nimGetProcAddr(T114176342_5, "FindFirstFileW");
	Dl_115601 = (TY115602) nimGetProcAddr(T114176342_5, "FindClose");
	Dl_115437 = (TY115438) nimGetProcAddr(T114176342_5, "FindNextFileW");
	Dl_115011 = (TY115012) nimGetProcAddr(T114176342_5, "CreateDirectoryW");
	Dl_116423 = (TY116424) nimGetProcAddr(T114176342_5, "CreateFileW");
	Dl_114603 = (TY114604) nimGetProcAddr(T114176342_5, "CloseHandle");
	Dl_116604 = (TY116605) nimGetProcAddr(T114176342_5, "SetFilePointer");
	Dl_116601 = (TY116602) nimGetProcAddr(T114176342_5, "SetEndOfFile");
	Dl_116624 = (TY116625) nimGetProcAddr(T114176342_5, "CreateFileMappingW");
	Dl_116616 = (TY116617) nimGetProcAddr(T114176342_5, "MapViewOfFileEx");
	Dl_116611 = (TY116612) nimGetProcAddr(T114176342_5, "GetFileSize");
	Dl_116801 = (TY116802) nimGetProcAddr(T114176342_5, "UnmapViewOfFile");
	Dl_115611 = (TY115612) nimGetProcAddr(T114176342_5, "GetFileAttributesW");
	Dl_115632 = (TY115633) nimGetProcAddr(T114176342_5, "GetCommandLineW");
	Dl_115627 = (TY115628) nimGetProcAddr(T114176342_5, "GetEnvironmentStringsW");
	Dl_115629 = (TY115630) nimGetProcAddr(T114176342_5, "FreeEnvironmentStringsW");
	Dl_115018 = (TY115019) nimGetProcAddr(T114176342_5, "SetEnvironmentVariableW");
	Dl_115004 = (TY115005) nimGetProcAddr(T114176342_5, "GetCurrentDirectoryW");
	Dl_114622 = (TY114623) nimGetProcAddr(T114176342_5, "CreatePipe");
	Dl_114630 = (TY114631) nimGetProcAddr(T114176342_5, "CreateNamedPipeW");
	Dl_116421 = (TY116422) nimGetProcAddr(T114176342_5, "GetCurrentProcess");
	Dl_116411 = (TY116412) nimGetProcAddr(T114176342_5, "DuplicateHandle");
	Dl_114652 = (TY114653) nimGetProcAddr(T114176342_5, "CreateProcessW");
	Dl_114606 = (TY114607) nimGetProcAddr(T114176342_5, "ReadFile");
	Dl_114614 = (TY114615) nimGetProcAddr(T114176342_5, "WriteFile");
	Dl_114807 = (TY114808) nimGetProcAddr(T114176342_5, "WaitForSingleObject");
	Dl_114815 = (TY114816) nimGetProcAddr(T114176342_5, "GetExitCodeProcess");
	Dl_116432 = (TY116433) nimGetProcAddr(T114176342_5, "DeleteFileW");
	Dl_115614 = (TY115615) nimGetProcAddr(T114176342_5, "SetFileAttributesW");
	Dl_115015 = (TY115016) nimGetProcAddr(T114176342_5, "RemoveDirectoryW");
	Dl_115008 = (TY115009) nimGetProcAddr(T114176342_5, "SetCurrentDirectoryW");
	Dl_115623 = (TY115624) nimGetProcAddr(T114176342_5, "MoveFileW");
	Dl_115618 = (TY115619) nimGetProcAddr(T114176342_5, "CopyFileW");
	Dl_115809 = (TY115810) nimGetProcAddr(T114176342_5, "GetSystemTimeAsFileTime");
	Dl_115813 = (TY115814) nimGetProcAddr(T114176342_5, "Sleep");
	Dl_116199 = (TY116200) nimGetProcAddr(T114176342_11, "socket");
	Dl_116214 = (TY116215) nimGetProcAddr(T114176342_11, "bind");
	Dl_116351 = (TY116352) nimGetProcAddr(T114176342_11, "getaddrinfo");
	Dl_116360 = (TY116361) nimGetProcAddr(T114176342_11, "freeaddrinfo");
	Dl_116255 = (TY116256) nimGetProcAddr(T114176342_11, "listen");
	Dl_116284 = (TY116285) nimGetProcAddr(T114176342_11, "send");
	Dl_116207 = (TY116208) nimGetProcAddr(T114176342_11, "accept");
	Dl_116364 = (TY116365) nimGetProcAddr(T114176342_11, "inet_ntoa");
	Dl_116275 = (TY116276) nimGetProcAddr(T114176342_11, "select");
	Dl_116316 = (TY116317) nimGetProcAddr(T114176342_11, "__WSAFDIsSet");
	Dl_116259 = (TY116260) nimGetProcAddr(T114176342_11, "recv");
	Dl_116204 = (TY116205) nimGetProcAddr(T114176342_11, "closesocket");
}

