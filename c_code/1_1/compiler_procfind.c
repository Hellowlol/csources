/* Generated by Nim Compiler v0.10.3 */
/*   (c) 2015 Andreas Rumpf */
/* The generated code is subject to the original license. */
#define NIM_INTBITS 32
#include "nimbase.h"

#include <string.h>
typedef struct tsym210848 tsym210848;
typedef struct tcontext268021 tcontext268021;
typedef struct tscope210842 tscope210842;
typedef struct tidentiter219141 tidentiter219141;
typedef struct tident186021 tident186021;
typedef struct tstrtable210822 tstrtable210822;
typedef struct tsymseq210820 tsymseq210820;
typedef struct TGenericSeq TGenericSeq;
typedef struct tnodeseq210812 tnodeseq210812;
typedef struct tnode210818 tnode210818;
typedef struct tidobj186015 tidobj186015;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct ttypeseq210850 ttypeseq210850;
typedef struct ttype210854 ttype210854;
typedef struct TY210949 TY210949;
typedef struct tinstantiation210838 tinstantiation210838;
typedef struct tlineinfo182340 tlineinfo182340;
typedef struct tloc210832 tloc210832;
typedef struct trope179009 trope179009;
typedef struct tlib210836 tlib210836;
typedef struct NimStringDesc NimStringDesc;
typedef struct tpasscontext265005 tpasscontext265005;
typedef struct tproccon268011 tproccon268011;
typedef struct intset207056 intset207056;
typedef struct ttrunk207052 ttrunk207052;
typedef struct ttrunkseq207054 ttrunkseq207054;
typedef struct tlinkedlist130028 tlinkedlist130028;
typedef struct tlistentry130022 tlistentry130022;
typedef struct tidtable210866 tidtable210866;
typedef struct tidpairseq210864 tidpairseq210864;
typedef struct tidpair210862 tidpair210862;
typedef struct tctx267048 tctx267048;
typedef struct TY268134 TY268134;
typedef struct tinstantiationpair268013 tinstantiationpair268013;
typedef struct TY210938 TY210938;
typedef struct TY267250 TY267250;
typedef struct TY183142 TY183142;
typedef struct pprocHEX3Aobjecttype267230 pprocHEX3Aobjecttype267230;
typedef struct TY267269 TY267269;
typedef struct TY267270 TY267270;
typedef struct vmargs267042 vmargs267042;
typedef struct TY267231 TY267231;
typedef struct tblock267030 tblock267030;
typedef struct TY267211 TY267211;
typedef struct TY267237 TY267237;
struct  tidentiter219141  {
NI H;
tident186021* Name;
};
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  tstrtable210822  {
NI Counter;
tsymseq210820* Data;
};
struct  tscope210842  {
NI Depthlevel;
tstrtable210822 Symbols;
tnodeseq210812* Usingsyms;
tscope210842* Parent;
};
typedef N_NIMCALL_PTR(void, TY3289) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, TY3294) (void* p);
struct  TNimType  {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY3289 marker;
TY3294 deepcopy;
};
struct  TNimObject  {
TNimType* m_type;
};
struct  tidobj186015  {
  TNimObject Sup;
NI Id;
};
struct  tlineinfo182340  {
NI16 Line;
NI16 Col;
NI32 Fileindex;
};
struct  tloc210832  {
NU8 K;
NU8 S;
NU16 Flags;
ttype210854* T;
trope179009* R;
trope179009* Heaproot;
};
struct  tsym210848  {
  tidobj186015 Sup;
NU8 Kind;
union{
struct {ttypeseq210850* Typeinstcache;
tscope210842* Typscope;
} S1;
struct {TY210949* Procinstcache;
tscope210842* Scope;
} S2;
struct {TY210949* Usedgenerics;
tstrtable210822 Tab;
} S3;
struct {tsym210848* Guard;
} S4;
} kindU;
NU16 Magic;
ttype210854* Typ;
tident186021* Name;
tlineinfo182340 Info;
tsym210848* Owner;
NU32 Flags;
tnode210818* Ast;
NU32 Options;
NI Position;
NI Offset;
tloc210832 Loc;
tlib210836* Annex;
tnode210818* Constraint;
};
struct  ttype210854  {
  tidobj186015 Sup;
NU8 Kind;
NU8 Callconv;
NU32 Flags;
ttypeseq210850* Sons;
tnode210818* N;
tsym210848* Owner;
tsym210848* Sym;
tsym210848* Destructor;
tsym210848* Deepcopy;
NI64 Size;
NI16 Align;
NI16 Locklevel;
tloc210832 Loc;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
typedef NimStringDesc* TY171951[2];
struct  tident186021  {
  tidobj186015 Sup;
NimStringDesc* S;
tident186021* Next;
NI H;
};
struct  tpasscontext265005  {
  TNimObject Sup;
NIM_BOOL Fromcache;
};
struct  intset207056  {
NI Counter;
NI Max;
ttrunk207052* Head;
ttrunkseq207054* Data;
};
struct  tlinkedlist130028  {
tlistentry130022* Head;
tlistentry130022* Tail;
NI Counter;
};
struct  tidpair210862  {
tidobj186015* Key;
TNimObject* Val;
};
struct  tidtable210866  {
NI Counter;
tidpairseq210864* Data;
};
typedef N_NIMCALL_PTR(tnode210818*, TY268065) (tcontext268021* c, tnode210818* n);
typedef N_NIMCALL_PTR(tnode210818*, TY268070) (tcontext268021* c, tnode210818* n, NU16 flags);
typedef N_NIMCALL_PTR(tnode210818*, TY268078) (tcontext268021* c, tnode210818* n, NU16 flags);
typedef N_NIMCALL_PTR(tnode210818*, TY268086) (tcontext268021* c, tnode210818* n);
typedef N_NIMCALL_PTR(tnode210818*, TY268091) (tcontext268021* c, tnode210818* n, NU16 flags);
typedef N_NIMCALL_PTR(tnode210818*, TY268099) (tcontext268021* c, tnode210818* n);
typedef N_NIMCALL_PTR(tnode210818*, TY268104) (tcontext268021* c, tnode210818* n, tnode210818* norig, NU32 filter);
typedef N_NIMCALL_PTR(ttype210854*, TY268111) (tcontext268021* c, tnode210818* n, ttype210854* prev);
typedef struct {
N_NIMCALL_PTR(tnode210818*, ClPrc) (tcontext268021* c, tidtable210866 pt, tnode210818* n, void* ClEnv);
void* ClEnv;
} TY268117;
typedef struct {
N_NIMCALL_PTR(tsym210848*, ClPrc) (tcontext268021* c, tsym210848* fn, tidtable210866 pt, tlineinfo182340 info, void* ClEnv);
void* ClEnv;
} TY268123;
struct  tinstantiationpair268013  {
tsym210848* Genericsym;
tinstantiation210838* Inst;
};
typedef N_NIMCALL_PTR(tsym210848*, TY268139) (tcontext268021* c, tsym210848* dc, ttype210854* t, tlineinfo182340 info);
struct  tcontext268021  {
  tpasscontext265005 Sup;
tsym210848* Module;
tscope210842* Currentscope;
tscope210842* Importtable;
tscope210842* Toplevelscope;
tproccon268011* P;
tsymseq210820* Friendmodules;
NI Instcounter;
intset207056 Ambiguoussymbols;
NI Intypeclass;
NI Ingenericcontext;
NI Inunrolledcontext;
NI Incompilescontext;
NI Ingenericinst;
tsymseq210820* Converters;
tsymseq210820* Patterns;
tlinkedlist130028 Optionstack;
tidtable210866 Symmapping;
tlinkedlist130028 Libs;
TY268065 Semconstexpr;
TY268070 Semexpr;
TY268078 Semtryexpr;
TY268086 Semtryconstexpr;
TY268091 Semoperand;
TY268099 Semconstboolexpr;
TY268104 Semoverloadedcall;
TY268111 Semtypenode;
TY268117 Seminferredlambda;
TY268123 Semgenerateinstance;
intset207056 Includedfiles;
tstrtable210822 Userpragmas;
tctx267048* Evalcontext;
intset207056 Unknownidents;
TY268134* Generics;
NI Lastgenericidx;
NI Hloloopdetector;
NI Inparallelstmt;
TY268139 Instdeepcopy;
};
struct  tnode210818  {
ttype210854* Typ;
tlineinfo182340 Info;
NU16 Flags;
NU8 Kind;
union{
struct {NI64 Intval;
} S1;
struct {NF Floatval;
} S2;
struct {NimStringDesc* Strval;
} S3;
struct {tsym210848* Sym;
} S4;
struct {tident186021* Ident;
} S5;
struct {tnodeseq210812* Sons;
} S6;
} kindU;
NimStringDesc* Comment;
};
struct  TNimNode  {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct  tinstantiation210838  {
tsym210848* Sym;
ttypeseq210850* Concretetypes;
TY210938* Usedby;
};
struct  trope179009  {
  TNimObject Sup;
trope179009* Left;
trope179009* Right;
NI Length;
NimStringDesc* Data;
};
struct  tlistentry130022  {
  TNimObject Sup;
tlistentry130022* Prev;
tlistentry130022* Next;
};
struct  tlib210836  {
  tlistentry130022 Sup;
NU8 Kind;
NIM_BOOL Generated;
NIM_BOOL Isoverriden;
trope179009* Name;
tnode210818* Path;
};
struct  tproccon268011  {
tsym210848* Owner;
tsym210848* Resultsym;
NI Nestedloopcounter;
NI Nestedblockcounter;
NI Intrystmt;
tproccon268011* Next;
NIM_BOOL Wasforwarded;
};
typedef NI TY26820[16];
struct  ttrunk207052  {
ttrunk207052* Next;
NI Key;
TY26820 Bits;
};
struct  vmargs267042  {
NI Ra;
NI Rb;
NI Rc;
void* Slots;
tnode210818* Currentexception;
};
typedef struct {
N_NIMCALL_PTR(void, ClPrc) (vmargs267042* args, void* ClEnv);
void* ClEnv;
} vmcallback267044;
struct TY267270 {
NimStringDesc* Field0;
vmcallback267044 Field1;
};
struct  tctx267048  {
  tpasscontext265005 Sup;
TY267250* Code;
TY183142* Debug;
tnode210818* Globals;
tnode210818* Constants;
ttypeseq210850* Types;
tnode210818* Currentexceptiona;
tnode210818* Currentexceptionb;
NI Exceptioninstr;
pprocHEX3Aobjecttype267230* Prc;
tsym210848* Module;
tnode210818* Callsite;
NU8 Mode;
NU8 Features;
NIM_BOOL Traceactive;
NI Loopiterations;
tlineinfo182340 Comesfromheuristic;
TY267269* Callbacks;
NimStringDesc* Errorflag;
};
struct  tblock267030  {
tsym210848* Label;
TY267211* Fixups;
};
struct TY267237 {
NIM_BOOL Field0;
NU8 Field1;
};
typedef TY267237 TY267234[256];
struct  pprocHEX3Aobjecttype267230  {
TY267231* Blocks;
tsym210848* Sym;
TY267234 Slots;
NI Maxslots;
};
struct tsymseq210820 {
  TGenericSeq Sup;
  tsym210848* data[SEQ_DECL_SIZE];
};
struct tnodeseq210812 {
  TGenericSeq Sup;
  tnode210818* data[SEQ_DECL_SIZE];
};
struct ttypeseq210850 {
  TGenericSeq Sup;
  ttype210854* data[SEQ_DECL_SIZE];
};
struct TY210949 {
  TGenericSeq Sup;
  tinstantiation210838* data[SEQ_DECL_SIZE];
};
struct ttrunkseq207054 {
  TGenericSeq Sup;
  ttrunk207052* data[SEQ_DECL_SIZE];
};
struct tidpairseq210864 {
  TGenericSeq Sup;
  tidpair210862 data[SEQ_DECL_SIZE];
};
struct TY268134 {
  TGenericSeq Sup;
  tinstantiationpair268013 data[SEQ_DECL_SIZE];
};
struct TY210938 {
  TGenericSeq Sup;
  NI32 data[SEQ_DECL_SIZE];
};
struct TY267250 {
  TGenericSeq Sup;
  NU32 data[SEQ_DECL_SIZE];
};
struct TY183142 {
  TGenericSeq Sup;
  tlineinfo182340 data[SEQ_DECL_SIZE];
};
struct TY267269 {
  TGenericSeq Sup;
  TY267270 data[SEQ_DECL_SIZE];
};
struct TY267211 {
  TGenericSeq Sup;
  NI data[SEQ_DECL_SIZE];
};
struct TY267231 {
  TGenericSeq Sup;
  tblock267030 data[SEQ_DECL_SIZE];
};
N_NIMCALL(tsym210848*, searchforprocnew_283215)(tcontext268021* c, tscope210842* scope, tsym210848* fn);
N_NIMCALL(tsym210848*, initidentiter_219147)(tidentiter219141* ti, tstrtable210822 tab, tident186021* s);
N_NIMCALL(NIM_BOOL, sametype_248126)(ttype210854* a, ttype210854* b, NU8 flags);
N_NIMCALL(NU8, equalparams_243086)(tnode210818* a, tnode210818* b);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* formatstr, NimStringDesc** a, NI aLen0);
N_NIMCALL(NimStringDesc*, getprocheader_243488)(tsym210848* sym, NU8 prefer);
N_NIMCALL(NimStringDesc*, HEX24_183883)(tlineinfo182340 info);
N_NIMCALL(void, localerror_184637)(tlineinfo182340 info, NU16 msg, NimStringDesc* arg);
N_NIMCALL(tsym210848*, nextidentiter_219156)(tidentiter219141* ti, tstrtable210822 tab);
STRING_LITERAL(TMP3053, "public implementation \'$1\' has non-public forward declaration i"
"n $2", 67);

N_NIMCALL(tsym210848*, searchforprocnew_283215)(tcontext268021* c, tscope210842* scope, tsym210848* fn) {
	tsym210848* result;
	tidentiter219141 it;
{	result = 0;
	memset((void*)(&it), 0, sizeof(it));
	result = initidentiter_219147((&it), (*scope).Symbols, (*fn).Name);
	{
		while (1) {
			if (!!((result == NIM_NIL))) goto LA2;
			{
				NIM_BOOL LOC5;
				NU8 LOC9;
				LOC5 = 0;
				LOC5 = ((520192 &(1<<(((*result).Kind)&31)))!=0);
				if (!(LOC5)) goto LA6;
				LOC5 = sametype_248126((*result).Typ, (*fn).Typ, 30);
				LA6: ;
				if (!LOC5) goto LA7;
				LOC9 = 0;
				LOC9 = equalparams_243086((*(*result).Typ).N, (*(*fn).Typ).N);
				switch (LOC9) {
				case ((NU8) 1):
				{
					{
						NIM_BOOL LOC13;
						NimStringDesc* message;
						TY171951 LOC17;
						LOC13 = 0;
						LOC13 = !((((*result).Flags &(1<<((((NU8) 1))&31)))!=0));
						if (!(LOC13)) goto LA14;
						LOC13 = (((*fn).Flags &(1<<((((NU8) 1))&31)))!=0);
						LA14: ;
						if (!LOC13) goto LA15;
						memset((void*)LOC17, 0, sizeof(LOC17));
						LOC17[0] = getprocheader_243488(result, ((NU8) 0));
						LOC17[1] = HEX24_183883((*result).Info);
						message = nsuFormatOpenArray(((NimStringDesc*) &TMP3053), LOC17, 2);
						localerror_184637((*fn).Info, ((NU16) 4), message);
					}
					LA15: ;
					goto BeforeRet;
				}
				break;
				case ((NU8) 2):
				{
					localerror_184637((*fn).Info, ((NU16) 66), (*(*fn).Name).S);
					goto BeforeRet;
				}
				break;
				case ((NU8) 0):
				{
				}
				break;
				}
			}
			LA7: ;
			result = nextidentiter_219156((&it), (*scope).Symbols);
		} LA2: ;
	}
	result = NIM_NIL;
	goto BeforeRet;
	}BeforeRet: ;
	return result;
}

N_NIMCALL(tsym210848*, searchforproc_283312)(tcontext268021* c, tscope210842* scope, tsym210848* fn) {
	tsym210848* result;
	result = 0;
	result = searchforprocnew_283215(c, scope, fn);
	return result;
}
NIM_EXTERNC N_NOINLINE(void, compiler_procfindInit)(void) {
}

NIM_EXTERNC N_NOINLINE(void, compiler_procfindDatInit)(void) {
}

