/* Generated by Nim Compiler v0.10.3 */
/*   (c) 2015 Andreas Rumpf */
/* The generated code is subject to the original license. */
#define NIM_INTBITS 32
#include "nimbase.h"

#include <string.h>

#include <stdio.h>
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct trstnode321011 trstnode321011;
typedef struct trstnodeseq321009 trstnodeseq321009;
typedef struct trstparser322659 trstparser322659;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct ttokenseq322137 ttokenseq322137;
typedef struct ttoken322135 ttoken322135;
typedef struct tsharedstate322655 tsharedstate322655;
typedef struct TY322680 TY322680;
typedef struct TY322669 TY322669;
typedef struct tsubstitution322653 tsubstitution322653;
typedef struct tcell45346 tcell45346;
typedef struct tcellseq45362 tcellseq45362;
typedef struct tgcheap47616 tgcheap47616;
typedef struct tcellset45358 tcellset45358;
typedef struct tpagedesc45354 tpagedesc45354;
typedef struct tmemregion27610 tmemregion27610;
typedef struct tsmallchunk26840 tsmallchunk26840;
typedef struct tllchunk27604 tllchunk27604;
typedef struct tbigchunk26842 tbigchunk26842;
typedef struct tintset26817 tintset26817;
typedef struct ttrunk26813 ttrunk26813;
typedef struct tavlnode27608 tavlnode27608;
typedef struct tgcstat47614 tgcstat47614;
typedef struct eparseerror322661 eparseerror322661;
typedef struct valueerror3449 valueerror3449;
typedef struct Exception Exception;
typedef struct tlexer322139 tlexer322139;
typedef struct keyvaluepair132008 keyvaluepair132008;
typedef struct TY120808 TY120808;
typedef struct tbasechunk26838 tbasechunk26838;
typedef struct tfreecell26830 tfreecell26830;
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct  trstnode321011  {
NU8 Kind;
NimStringDesc* Text;
NI Level;
trstnodeseq321009* Sons;
};
typedef N_NIMCALL_PTR(NimStringDesc*, tfindfilehandler322023) (NimStringDesc* filename);
typedef N_NIMCALL_PTR(void, tmsghandler322021) (NimStringDesc* filename, NI line, NI col, NU8 msgkind, NimStringDesc* arg);
typedef N_NIMCALL_PTR(void, TY3289) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, TY3294) (void* p);
struct  TNimType  {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY3289 marker;
TY3294 deepcopy;
};
struct  TNimObject  {
TNimType* m_type;
};
struct  ttoken322135  {
NU8 Kind;
NI Ival;
NimStringDesc* Symbol;
NI Line;
NI Col;
};
struct  trstparser322659  {
  TNimObject Sup;
NI Idx;
ttokenseq322137* Tok;
tsharedstate322655* S;
TY322680* Indentstack;
NimStringDesc* Filename;
NI Line;
NI Col;
NIM_BOOL Hastoc;
};
struct  TNimNode  {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct  tsubstitution322653  {
NimStringDesc* Key;
trstnode321011* Value;
};
typedef NI skiptable97742[256];
struct  tsharedstate322655  {
NU8 Options;
NI Ulevel;
NI Olevel;
TY322669* Subs;
TY322669* Refs;
skiptable97742 Underlinetolevel;
skiptable97742 Overlinetolevel;
tmsghandler322021 Msghandler;
tfindfilehandler322023 Findfile;
};
struct  tcell45346  {
NI Refcount;
TNimType* Typ;
};
struct  tcellseq45362  {
NI Len;
NI Cap;
tcell45346** D;
};
struct  tcellset45358  {
NI Counter;
NI Max;
tpagedesc45354* Head;
tpagedesc45354** Data;
};
typedef tsmallchunk26840* TY27622[512];
typedef ttrunk26813* ttrunkbuckets26815[256];
struct  tintset26817  {
ttrunkbuckets26815 Data;
};
struct  tmemregion27610  {
NI Minlargeobj;
NI Maxlargeobj;
TY27622 Freesmallchunks;
tllchunk27604* Llmem;
NI Currmem;
NI Maxmem;
NI Freemem;
NI Lastsize;
tbigchunk26842* Freechunkslist;
tintset26817 Chunkstarts;
tavlnode27608* Root;
tavlnode27608* Deleted;
tavlnode27608* Last;
tavlnode27608* Freeavlnodes;
};
struct  tgcstat47614  {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
NI64 Maxpause;
};
struct  tgcheap47616  {
void* Stackbottom;
NI Cyclethreshold;
tcellseq45362 Zct;
tcellseq45362 Decstack;
tcellset45358 Cycleroots;
tcellseq45362 Tempstack;
NI Recgclock;
tmemregion27610 Region;
tgcstat47614 Stat;
};
typedef NimStringDesc* TY322053[10];
typedef NimStringDesc* TY322825[5];
struct  Exception  {
  TNimObject Sup;
Exception* parent;
NCSTRING name;
NimStringDesc* message;
NimStringDesc* trace;
};
struct  valueerror3449  {
  Exception Sup;
};
struct  eparseerror322661  {
  valueerror3449 Sup;
};
typedef NimStringDesc* TY183990[1];
struct  tlexer322139  {
  TNimObject Sup;
NCSTRING Buf;
NI Bufpos;
NI Line;
NI Col;
NI Baseindent;
NIM_BOOL Skippounds;
};
typedef NU8 TY197407[32];
typedef NimStringDesc* TY325584[13];
typedef N_NIMCALL_PTR(trstnode321011*, tsectionparser329012) (trstparser322659* p);
struct keyvaluepair132008 {
NimStringDesc* Field0;
NimStringDesc* Field1;
};
typedef keyvaluepair132008 TY322093[34];
typedef NimStringDesc* TY328530[3];
typedef NI TY328535[3];
typedef NI TY26820[16];
struct  tpagedesc45354  {
tpagedesc45354* Next;
NI Key;
TY26820 Bits;
};
struct  tbasechunk26838  {
NI Prevsize;
NI Size;
NIM_BOOL Used;
};
struct  tsmallchunk26840  {
  tbasechunk26838 Sup;
tsmallchunk26840* Next;
tsmallchunk26840* Prev;
tfreecell26830* Freelist;
NI Free;
NI Acc;
NF Data;
};
struct  tllchunk27604  {
NI Size;
NI Acc;
tllchunk27604* Next;
};
struct  tbigchunk26842  {
  tbasechunk26838 Sup;
tbigchunk26842* Next;
tbigchunk26842* Prev;
NI Align;
NF Data;
};
struct  ttrunk26813  {
ttrunk26813* Next;
NI Key;
TY26820 Bits;
};
typedef tavlnode27608* TY27614[2];
struct  tavlnode27608  {
TY27614 Link;
NI Key;
NI Upperbound;
NI Level;
};
struct  tfreecell26830  {
tfreecell26830* Next;
NI Zerofield;
};
struct trstnodeseq321009 {
  TGenericSeq Sup;
  trstnode321011* data[SEQ_DECL_SIZE];
};
struct ttokenseq322137 {
  TGenericSeq Sup;
  ttoken322135 data[SEQ_DECL_SIZE];
};
struct TY322680 {
  TGenericSeq Sup;
  NI data[SEQ_DECL_SIZE];
};
struct TY322669 {
  TGenericSeq Sup;
  tsubstitution322653 data[SEQ_DECL_SIZE];
};
struct TY120808 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
N_NIMCALL(void, rstnodetorefnameaux_323397)(trstnode321011* n, NimStringDesc** r, NIM_BOOL* b);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* s, NIM_CHAR c);
N_NIMCALL(NI, len_321084)(trstnode321011* n);
N_NIMCALL(void, addnodesaux_323338)(trstnode321011* n, NimStringDesc** result);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* dest, NI addlen);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* a, NimStringDesc* b);
N_NIMCALL(NimStringDesc*, addnodes_322067)(trstnode321011* n);
N_NIMCALL(NimStringDesc*, nsuStrip)(NimStringDesc* s, NIM_BOOL leading, NIM_BOOL trailing);
N_NIMCALL(void, nimGCvisit)(void* d, NI op);
N_NIMCALL(void, TMP2468)(void* p, NI op);
N_NIMCALL(void, TMP2480)(void* p, NI op);
N_NIMCALL(void, TMP2481)(void* p, NI op);
N_NIMCALL(void, TMP2482)(void* p, NI op);
N_NIMCALL(void, initparser_323289)(trstparser322659* p, tsharedstate322655* sharedstate);
N_NIMCALL(void, genericSeqAssign)(void* dest, void* src_80404, TNimType* mt);
N_NIMCALL(void*, newSeq)(TNimType* typ, NI len);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
N_NIMCALL(tsharedstate322655*, newsharedstate_322890)(NU8 options, tfindfilehandler322023 findfile, tmsghandler322021 msghandler);
N_NIMCALL(void*, newObj)(TNimType* typ, NI size);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
static N_INLINE(tcell45346*, usrtocell_49246)(void* usr);
static N_INLINE(void, rtladdzct_50804)(tcell45346* c);
N_NOINLINE(void, addzct_49217)(tcellseq45362* s, tcell45346* c);
N_NIMCALL(void*, newSeqRC1)(TNimType* typ, NI len);
N_NIMCALL(void, defaultmsghandler_322807)(NimStringDesc* filename, NI line, NI col, NU8 msgkind, NimStringDesc* arg);
N_NIMCALL(NU8, whichmsgclass_322689)(NU8 k);
N_NIMCALL(NimStringDesc*, reprEnum)(NI e_81707, TNimType* typ);
N_NIMCALL(NimStringDesc*, nsuFormatSingleElem)(NimStringDesc* formatstr, NimStringDesc* a);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* formatstr, NimStringDesc** a, NI aLen0);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI x);
N_NIMCALL(void, TMP2502)(void* p, NI op);
N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
N_NIMCALL(void, raiseException)(Exception* e, NCSTRING ename);
static N_INLINE(void, writeln_172205)(FILE* f_172209, NimStringDesc** x_172213, NI x_172213Len0);
N_NIMCALL(void, write_13265)(FILE* f, NimStringDesc* s);
N_NIMCALL(NimStringDesc*, defaultfindfile_322880)(NimStringDesc* filename);
N_NIMCALL(NIM_BOOL, nosexistsFile)(NimStringDesc* filename);
N_NIMCALL(NI, gettokens_322465)(NimStringDesc* buffer, NIM_BOOL skippounds, ttokenseq322137** tokens);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* seq, NI elemsize, NI newlen);
N_NIMCALL(void, rawgettok_322410)(tlexer322139* l, ttoken322135* tok);
N_NIMCALL(void, getthing_322161)(tlexer322139* l, ttoken322135* tok, TY197407 s);
N_NIMCALL(void, getindent_322383)(tlexer322139* l, ttoken322135* tok);
N_NIMCALL(NI, getindentaux_322265)(tlexer322139* l, NI start);
N_NIMCALL(NimStringDesc*, nsuRepeatChar)(NI count, NIM_CHAR c);
N_NIMCALL(NimStringDesc*, rawNewString)(NI space);
N_NIMCALL(void, getadornment_322220)(tlexer322139* l, ttoken322135* tok);
N_NIMCALL(trstnode321011*, resolvesubs_330086)(trstparser322659* p, trstnode321011* n);
N_NIMCALL(NI, findsub_323517)(trstparser322659* p, trstnode321011* n);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b);
N_NIMCALL(NimStringDesc*, getenv_121442)(NimStringDesc* key);
N_NIMCALL(trstnode321011*, newrstnode_321151)(NU8 kind, NimStringDesc* s);
N_NIMCALL(void, rstmessage_322972)(trstparser322659* p, NU8 msgkind, NimStringDesc* arg);
N_NIMCALL(trstnode321011*, findref_323722)(trstparser322659* p, NimStringDesc* key);
N_NIMCALL(NimStringDesc*, rstnodetorefname_322061)(trstnode321011* n);
N_NIMCALL(trstnode321011*, newrstnode_321105)(NU8 kind);
N_NIMCALL(void, add_321183)(trstnode321011* father, trstnode321011* son);
static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src);
N_NIMCALL(trstnode321011*, parsedoc_327678)(trstparser322659* p);
N_NIMCALL(trstnode321011*, parsesectionwrapper_328925)(trstparser322659* p);
N_NIMCALL(void, parsesection_325719)(trstparser322659* p, trstnode321011* result);
N_NIMCALL(NI, currind_323201)(trstparser322659* p);
N_NIMCALL(void, pushind_323211)(trstparser322659* p, NI ind);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* seq, NI elemsize);
N_NIMCALL(void, popind_323240)(trstparser322659* p);
N_NIMCALL(NU8, whichsection_326941)(trstparser322659* p);
N_NIMCALL(NIM_BOOL, match_323995)(trstparser322659* p, NI start, NimStringDesc* expr);
N_NIMCALL(NIM_BOOL, allcharsinset_97479)(NimStringDesc* s, TY197407 theset);
N_NIMCALL(NI, tokenafternewline_326832)(trstparser322659* p);
N_NIMCALL(NIM_BOOL, prednl_326885)(trstparser322659* p);
N_NIMCALL(NIM_BOOL, islineblock_326873)(trstparser322659* p);
N_NIMCALL(void, rstmessage_322996)(trstparser322659* p, NU8 msgkind);
N_NIMCALL(NIM_BOOL, isdeflist_326905)(trstparser322659* p);
N_NIMCALL(NIM_BOOL, isoptionlist_326931)(trstparser322659* p);
N_NIMCALL(trstnode321011*, parseliteralblock_326707)(trstparser322659* p);
N_NIMCALL(trstnode321011*, parsebulletlist_328234)(trstparser322659* p);
N_NIMCALL(trstnode321011*, parselineblock_326960)(trstparser322659* p);
N_NIMCALL(trstnode321011*, parsedotdot_326700)(trstparser322659* p);
N_NIMCALL(NimStringDesc*, getdirective_325329)(trstparser322659* p);
N_NIMCALL(NU8, getdirkind_325591)(NimStringDesc* s);
static N_INLINE(NI, find_325596)(TY325584 a_325601, NimStringDesc* item_325603);
N_NIMCALL(trstnode321011*, dirinclude_329221)(trstparser322659* p);
N_NIMCALL(trstnode321011*, parsedirective_329188)(trstparser322659* p, NU8 flags, tsectionparser329012 contentparser);
N_NIMCALL(trstnode321011*, parsedirective_329023)(trstparser322659* p, NU8 flags);
N_NIMCALL(trstnode321011*, newleaf_323762)(trstparser322659* p);
N_NIMCALL(void, parseline_325683)(trstparser322659* p, trstnode321011* father);
N_NIMCALL(void, parseinline_325182)(trstparser322659* p, trstnode321011* father);
N_NIMCALL(NIM_BOOL, isinlinemarkupstart_323938)(trstparser322659* p, NimStringDesc* markup);
N_NIMCALL(void, parseuntil_325001)(trstparser322659* p, trstnode321011* father, NimStringDesc* postfix, NIM_BOOL interpretbackslash);
N_NIMCALL(NIM_BOOL, isinlinemarkupend_323884)(trstparser322659* p, NimStringDesc* markup);
N_NIMCALL(void, parsebackslash_324749)(trstparser322659* p, trstnode321011* father);
N_NIMCALL(void, rstmessage_322983)(trstparser322659* p, NU8 msgkind, NimStringDesc* arg, NI line, NI col);
N_NIMCALL(trstnode321011*, parsemarkdowncodeblock_325104)(trstparser322659* p);
N_NIMCALL(trstnode321011*, parsepostfix_324275)(trstparser322659* p, trstnode321011* n);
N_NIMCALL(void, fixupembeddedref_324178)(trstnode321011* n, trstnode321011* a, trstnode321011* b);
N_NIMCALL(void, setref_323654)(trstparser322659* p, NimStringDesc* key, trstnode321011* value);
N_NIMCALL(trstnode321011*, parsesmiley_324380)(trstparser322659* p);
N_NIMCALL(NI, matchverbatim_324322)(trstparser322659* p, NI start, NimStringDesc* expr);
N_NIMCALL(NIM_BOOL, nsuContinuesWith)(NimStringDesc* s, NimStringDesc* substr, NI start);
N_NIMCALL(void, parseurl_324691)(trstparser322659* p, trstnode321011* father);
N_NIMCALL(NIM_BOOL, isurl_324601)(trstparser322659* p, NI i);
static N_INLINE(NIM_BOOL, contains_324619)(NimStringDesc** a_324625, NI a_324625Len0, NimStringDesc* item_324628);
static N_INLINE(NI, find_324631)(NimStringDesc** a_324636, NI a_324636Len0, NimStringDesc* item_324638);
N_NIMCALL(trstnode321011*, parsefields_325761)(trstparser322659* p);
N_NIMCALL(trstnode321011*, parsefield_325727)(trstparser322659* p);
N_NIMCALL(NIM_BOOL, indfollows_329168)(trstparser322659* p);
N_NIMCALL(NimStringDesc*, getfieldvalue_322073)(trstnode321011* n, NimStringDesc* fieldname);
N_NIMCALL(NimStringDesc*, readfile_13242)(NimStringDesc* filename);
N_NIMCALL(trstnode321011*, dirimage_329807)(trstparser322659* p);
N_NIMCALL(trstnode321011*, dirfigure_329819)(trstparser322659* p);
N_NIMCALL(trstnode321011*, dirtitle_329831)(trstparser322659* p);
N_NIMCALL(trstnode321011*, dircontainer_329408)(trstparser322659* p);
N_NIMCALL(trstnode321011*, dircontents_329843)(trstparser322659* p);
N_NIMCALL(trstnode321011*, dirraw_329886)(trstparser322659* p);
N_NIMCALL(NI, nsuCmpIgnoreCase)(NimStringDesc* a, NimStringDesc* b);
N_NIMCALL(void, dirrawaux_329868)(trstparser322659* p, trstnode321011** result, NU8 kind, tsectionparser329012 contentparser);
N_NIMCALL(trstnode321011*, parsedirbody_329209)(trstparser322659* p, tsectionparser329012 contentparser);
N_NIMCALL(trstnode321011*, dircodeblock_329253)(trstparser322659* p, NIM_BOOL nimrodextension);
N_NIMCALL(trstnode321011*, dirindex_329855)(trstparser322659* p);
N_NIMCALL(trstnode321011*, getreferencename_323773)(trstparser322659* p, NimStringDesc* endstr);
N_NIMCALL(trstnode321011*, untileol_323817)(trstparser322659* p);
N_NIMCALL(void, expect_323861)(trstparser322659* p, NimStringDesc* tok);
N_NIMCALL(void, setsub_323586)(trstparser322659* p, NimStringDesc* key, trstnode321011* value);
N_NIMCALL(trstnode321011*, parsecomment_325470)(trstparser322659* p);
N_NIMCALL(trstnode321011*, parseenumlist_328524)(trstparser322659* p);
N_NIMCALL(trstnode321011*, parsedefinitionlist_328427)(trstparser322659* p);
N_NIMCALL(trstnode321011*, parsetransition_328072)(trstparser322659* p);
N_NIMCALL(trstnode321011*, parseheadline_327104)(trstparser322659* p);
N_NIMCALL(void, parseuntilnewline_325701)(trstparser322659* p, trstnode321011* father);
N_NIMCALL(NI, getlevel_326806)(NI* map, NI* lvl, NIM_CHAR c);
N_NIMCALL(trstnode321011*, parseoverline_328137)(trstparser322659* p);
N_NIMCALL(trstnode321011*, parsesimpletable_327685)(trstparser322659* p);
N_NIMCALL(void, getcolumns_327437)(trstparser322659* p, TY322680** cols);
N_NIMCALL(NI, tokend_327427)(trstparser322659* p);
N_NIMCALL(trstnode321011*, parseoptionlist_328306)(trstparser322659* p);
N_NIMCALL(void, parseparagraph_327031)(trstparser322659* p, trstnode321011* result);
N_NIMCALL(void, addifnotnil_321211)(trstnode321011* father, trstnode321011* son);
N_NIMCALL(NU8, sonkind_328620)(trstnode321011* father, NI i);
STRING_LITERAL(TMP2121, "", 0);
STRING_LITERAL(TMP2209, "\001\001", 2);
NIM_CONST struct {
  TGenericSeq Sup;
  NI data[1];
} CNSTSEQ2485 = {{1, 1}, {0}};
NIM_CONST TY322680* TMP2483 = ((TY322680*)&CNSTSEQ2485);
STRING_LITERAL(TMP2488, "cannot open \'$1\'", 16);
STRING_LITERAL(TMP2489, "\'$1\' expected", 13);
STRING_LITERAL(TMP2490, "grid table is not implemented", 29);
STRING_LITERAL(TMP2491, "new section expected", 20);
STRING_LITERAL(TMP2492, "general parse error", 19);
STRING_LITERAL(TMP2493, "invalid directive: \'$1\'", 23);
STRING_LITERAL(TMP2494, "redefinition of label \'$1\'", 26);
STRING_LITERAL(TMP2495, "unknown substitution \'$1\'", 25);
STRING_LITERAL(TMP2496, "language \'$1\' not supported", 27);
STRING_LITERAL(TMP2497, "field \'$1\' not supported", 24);
NIM_CONST TY322053 messages_322052 = {((NimStringDesc*) &TMP2488),
((NimStringDesc*) &TMP2489),
((NimStringDesc*) &TMP2490),
((NimStringDesc*) &TMP2491),
((NimStringDesc*) &TMP2492),
((NimStringDesc*) &TMP2493),
((NimStringDesc*) &TMP2494),
((NimStringDesc*) &TMP2495),
((NimStringDesc*) &TMP2496),
((NimStringDesc*) &TMP2497)}
;
STRING_LITERAL(TMP2498, "$1($2, $3) $4: $5", 17);
STRING_LITERAL(TMP2503, "\012", 1);
static NIM_CONST TY197407 TMP2505 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0xFE, 0xFF, 0xFF, 0x07, 0xFE, 0xFF, 0xFF, 0x07,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}
;
static NIM_CONST TY197407 TMP2506 = {
0x00, 0x02, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP2507, "#", 1);
static NIM_CONST TY197407 TMP2508 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP2509, "ii", 2);
STRING_LITERAL(TMP2510, " a", 2);
STRING_LITERAL(TMP2511, "i", 1);
STRING_LITERAL(TMP2512, "ai", 2);
STRING_LITERAL(TMP2513, "::", 2);
STRING_LITERAL(TMP2514, "+", 1);
STRING_LITERAL(TMP2515, "*", 1);
STRING_LITERAL(TMP2516, "-", 1);
STRING_LITERAL(TMP2517, "|", 1);
STRING_LITERAL(TMP2518, "..", 2);
STRING_LITERAL(TMP2519, ":w:", 3);
STRING_LITERAL(TMP2520, "(e) ", 4);
STRING_LITERAL(TMP2521, "+a+", 3);
STRING_LITERAL(TMP2522, "-w", 2);
STRING_LITERAL(TMP2523, "--w", 3);
STRING_LITERAL(TMP2524, "/w", 2);
STRING_LITERAL(TMP2525, "//w", 3);
STRING_LITERAL(TMP2526, "e) ", 3);
STRING_LITERAL(TMP2527, "e. ", 3);
STRING_LITERAL(TMP2528, "author", 6);
STRING_LITERAL(TMP2529, "authors", 7);
STRING_LITERAL(TMP2530, "code", 4);
STRING_LITERAL(TMP2531, "code-block", 10);
STRING_LITERAL(TMP2532, "container", 9);
STRING_LITERAL(TMP2533, "contents", 8);
STRING_LITERAL(TMP2534, "figure", 6);
STRING_LITERAL(TMP2535, "image", 5);
STRING_LITERAL(TMP2536, "include", 7);
STRING_LITERAL(TMP2537, "index", 5);
STRING_LITERAL(TMP2538, "raw", 3);
STRING_LITERAL(TMP2539, "title", 5);
NIM_CONST TY325584 dirids_325583 = {((NimStringDesc*) &TMP2121),
((NimStringDesc*) &TMP2528),
((NimStringDesc*) &TMP2529),
((NimStringDesc*) &TMP2530),
((NimStringDesc*) &TMP2531),
((NimStringDesc*) &TMP2532),
((NimStringDesc*) &TMP2533),
((NimStringDesc*) &TMP2534),
((NimStringDesc*) &TMP2535),
((NimStringDesc*) &TMP2536),
((NimStringDesc*) &TMP2537),
((NimStringDesc*) &TMP2538),
((NimStringDesc*) &TMP2539)}
;
static NIM_CONST TY197407 TMP2540 = {
0x00, 0x00, 0x00, 0x00, 0x84, 0xA1, 0x00, 0x14,
0x00, 0x00, 0x00, 0x88, 0x00, 0x00, 0x00, 0x08,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP2541, "\\", 1);
STRING_LITERAL(TMP2542, "***", 3);
static NIM_CONST TY197407 TMP2543 = {
0x00, 0x00, 0x00, 0x00, 0x86, 0xF2, 0x00, 0xCC,
0x00, 0x00, 0x00, 0xB0, 0x00, 0x00, 0x00, 0x20,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP2544, "``", 2);
STRING_LITERAL(TMP2545, "\\\\", 2);
STRING_LITERAL(TMP2546, " ", 1);
STRING_LITERAL(TMP2547, "**", 2);
STRING_LITERAL(TMP2548, "```", 3);
STRING_LITERAL(TMP2549, "`", 1);
STRING_LITERAL(TMP2550, "_", 1);
STRING_LITERAL(TMP2551, ">", 1);
STRING_LITERAL(TMP2552, "<", 1);
STRING_LITERAL(TMP2553, "idx", 3);
STRING_LITERAL(TMP2554, "literal", 7);
STRING_LITERAL(TMP2555, "strong", 6);
STRING_LITERAL(TMP2556, "emphasis", 8);
STRING_LITERAL(TMP2557, "sub", 3);
STRING_LITERAL(TMP2558, "subscript", 9);
STRING_LITERAL(TMP2559, "sup", 3);
STRING_LITERAL(TMP2560, "supscript", 9);
STRING_LITERAL(TMP2561, ":D", 2);
STRING_LITERAL(TMP2562, "icon_e_biggrin", 14);
STRING_LITERAL(TMP2563, ":-D", 3);
STRING_LITERAL(TMP2564, ":)", 2);
STRING_LITERAL(TMP2565, "icon_e_smile", 12);
STRING_LITERAL(TMP2566, ":-)", 3);
STRING_LITERAL(TMP2567, ";)", 2);
STRING_LITERAL(TMP2568, "icon_e_wink", 11);
STRING_LITERAL(TMP2569, ";-)", 3);
STRING_LITERAL(TMP2570, ":(", 2);
STRING_LITERAL(TMP2571, "icon_e_sad", 10);
STRING_LITERAL(TMP2572, ":-(", 3);
STRING_LITERAL(TMP2573, ":o", 2);
STRING_LITERAL(TMP2574, "icon_e_surprised", 16);
STRING_LITERAL(TMP2575, ":-o", 3);
STRING_LITERAL(TMP2576, ":shock:", 7);
STRING_LITERAL(TMP2577, "icon_eek", 8);
STRING_LITERAL(TMP2578, ":?", 2);
STRING_LITERAL(TMP2579, "icon_e_confused", 15);
STRING_LITERAL(TMP2580, ":-?", 3);
STRING_LITERAL(TMP2581, ":-/", 3);
STRING_LITERAL(TMP2582, "8-)", 3);
STRING_LITERAL(TMP2583, "icon_cool", 9);
STRING_LITERAL(TMP2584, ":lol:", 5);
STRING_LITERAL(TMP2585, "icon_lol", 8);
STRING_LITERAL(TMP2586, ":x", 2);
STRING_LITERAL(TMP2587, "icon_mad", 8);
STRING_LITERAL(TMP2588, ":-x", 3);
STRING_LITERAL(TMP2589, ":P", 2);
STRING_LITERAL(TMP2590, "icon_razz", 9);
STRING_LITERAL(TMP2591, ":-P", 3);
STRING_LITERAL(TMP2592, ":oops:", 6);
STRING_LITERAL(TMP2593, "icon_redface", 12);
STRING_LITERAL(TMP2594, ":cry:", 5);
STRING_LITERAL(TMP2595, "icon_cry", 8);
STRING_LITERAL(TMP2596, ":evil:", 6);
STRING_LITERAL(TMP2597, "icon_evil", 9);
STRING_LITERAL(TMP2598, ":twisted:", 9);
STRING_LITERAL(TMP2599, "icon_twisted", 12);
STRING_LITERAL(TMP2600, ":roll:", 6);
STRING_LITERAL(TMP2601, "icon_rolleyes", 13);
STRING_LITERAL(TMP2602, ":!:", 3);
STRING_LITERAL(TMP2603, "icon_exclaim", 12);
STRING_LITERAL(TMP2604, ":?:", 3);
STRING_LITERAL(TMP2605, "icon_question", 13);
STRING_LITERAL(TMP2606, ":idea:", 6);
STRING_LITERAL(TMP2607, "icon_idea", 9);
STRING_LITERAL(TMP2608, ":arrow:", 7);
STRING_LITERAL(TMP2609, "icon_arrow", 10);
STRING_LITERAL(TMP2610, ":|", 2);
STRING_LITERAL(TMP2611, "icon_neutral", 12);
STRING_LITERAL(TMP2612, ":-|", 3);
STRING_LITERAL(TMP2613, ":mrgreen:", 9);
STRING_LITERAL(TMP2614, "icon_mrgreen", 12);
STRING_LITERAL(TMP2615, ":geek:", 6);
STRING_LITERAL(TMP2616, "icon_e_geek", 11);
STRING_LITERAL(TMP2617, ":ugeek:", 7);
STRING_LITERAL(TMP2618, "icon_e_ugeek", 12);
NIM_CONST TY322093 smilies_322092 = {{((NimStringDesc*) &TMP2561),
((NimStringDesc*) &TMP2562)}
,
{((NimStringDesc*) &TMP2563),
((NimStringDesc*) &TMP2562)}
,
{((NimStringDesc*) &TMP2564),
((NimStringDesc*) &TMP2565)}
,
{((NimStringDesc*) &TMP2566),
((NimStringDesc*) &TMP2565)}
,
{((NimStringDesc*) &TMP2567),
((NimStringDesc*) &TMP2568)}
,
{((NimStringDesc*) &TMP2569),
((NimStringDesc*) &TMP2568)}
,
{((NimStringDesc*) &TMP2570),
((NimStringDesc*) &TMP2571)}
,
{((NimStringDesc*) &TMP2572),
((NimStringDesc*) &TMP2571)}
,
{((NimStringDesc*) &TMP2573),
((NimStringDesc*) &TMP2574)}
,
{((NimStringDesc*) &TMP2575),
((NimStringDesc*) &TMP2574)}
,
{((NimStringDesc*) &TMP2576),
((NimStringDesc*) &TMP2577)}
,
{((NimStringDesc*) &TMP2578),
((NimStringDesc*) &TMP2579)}
,
{((NimStringDesc*) &TMP2580),
((NimStringDesc*) &TMP2579)}
,
{((NimStringDesc*) &TMP2581),
((NimStringDesc*) &TMP2579)}
,
{((NimStringDesc*) &TMP2582),
((NimStringDesc*) &TMP2583)}
,
{((NimStringDesc*) &TMP2584),
((NimStringDesc*) &TMP2585)}
,
{((NimStringDesc*) &TMP2586),
((NimStringDesc*) &TMP2587)}
,
{((NimStringDesc*) &TMP2588),
((NimStringDesc*) &TMP2587)}
,
{((NimStringDesc*) &TMP2589),
((NimStringDesc*) &TMP2590)}
,
{((NimStringDesc*) &TMP2591),
((NimStringDesc*) &TMP2590)}
,
{((NimStringDesc*) &TMP2592),
((NimStringDesc*) &TMP2593)}
,
{((NimStringDesc*) &TMP2594),
((NimStringDesc*) &TMP2595)}
,
{((NimStringDesc*) &TMP2596),
((NimStringDesc*) &TMP2597)}
,
{((NimStringDesc*) &TMP2598),
((NimStringDesc*) &TMP2599)}
,
{((NimStringDesc*) &TMP2600),
((NimStringDesc*) &TMP2601)}
,
{((NimStringDesc*) &TMP2602),
((NimStringDesc*) &TMP2603)}
,
{((NimStringDesc*) &TMP2604),
((NimStringDesc*) &TMP2605)}
,
{((NimStringDesc*) &TMP2606),
((NimStringDesc*) &TMP2607)}
,
{((NimStringDesc*) &TMP2608),
((NimStringDesc*) &TMP2609)}
,
{((NimStringDesc*) &TMP2610),
((NimStringDesc*) &TMP2611)}
,
{((NimStringDesc*) &TMP2612),
((NimStringDesc*) &TMP2611)}
,
{((NimStringDesc*) &TMP2613),
((NimStringDesc*) &TMP2614)}
,
{((NimStringDesc*) &TMP2615),
((NimStringDesc*) &TMP2616)}
,
{((NimStringDesc*) &TMP2617),
((NimStringDesc*) &TMP2618)}
}
;
STRING_LITERAL(TMP2619, ":", 1);
STRING_LITERAL(TMP2620, "//", 2);
STRING_LITERAL(TMP2622, "http", 4);
STRING_LITERAL(TMP2623, "https", 5);
STRING_LITERAL(TMP2624, "ftp", 3);
STRING_LITERAL(TMP2625, "telnet", 6);
STRING_LITERAL(TMP2626, "file", 4);
NIM_CONST TY322825 TMP2621 = {((NimStringDesc*) &TMP2622),
((NimStringDesc*) &TMP2623),
((NimStringDesc*) &TMP2624),
((NimStringDesc*) &TMP2625),
((NimStringDesc*) &TMP2626)}
;
STRING_LITERAL(TMP2629, "html", 4);
STRING_LITERAL(TMP2630, "latex", 5);
STRING_LITERAL(TMP2631, "default-language", 16);
STRING_LITERAL(TMP2632, "Nimrod", 6);
STRING_LITERAL(TMP2633, " _", 2);
STRING_LITERAL(TMP2634, " |", 2);
STRING_LITERAL(TMP2635, "replace", 7);
STRING_LITERAL(TMP2636, " [", 2);
STRING_LITERAL(TMP2637, "]", 1);
NIM_CONST TY328530 wildcards_328529 = {((NimStringDesc*) &TMP2520),
((NimStringDesc*) &TMP2526),
((NimStringDesc*) &TMP2527)}
;
NIM_CONST TY328535 wildpos_328534 = {1,
0,
0}
;
extern TNimType NTI3411; /* RootObj */
TNimType NTI322659; /* TRstParser */
extern TNimType NTI108; /* int */
TNimType NTI322135; /* TToken */
TNimType NTI322133; /* TTokType */
extern TNimType NTI149; /* string */
TNimType NTI322137; /* TTokenSeq */
TNimType NTI322655; /* TSharedState */
TNimType NTI322013; /* TRstParseOption */
TNimType NTI322015; /* TRstParseOptions */
TNimType NTI322653; /* TSubstitution */
extern TNimType NTI321007; /* PRstNode */
TNimType NTI322669; /* seq[TSubstitution] */
extern TNimType NTI97742; /* SkipTable */
TNimType NTI322021; /* TMsgHandler */
TNimType NTI322023; /* TFindFileHandler */
TNimType NTI322657; /* PSharedState */
TNimType NTI322680; /* seq[int] */
extern TNimType NTI138; /* bool */
extern tgcheap47616 gch_47644;
TNimType NTI322019; /* TMsgKind */
TNimType NTI322017; /* TMsgClass */
extern TNimType NTI3449; /* ValueError */
TNimType NTI322661; /* EParseError */
TNimType NTI322840; /* ref EParseError */
TNimType NTI322139; /* TLexer */
extern TNimType NTI151; /* cstring */
extern TNimType NTI120808; /* seq[string] */

N_NIMCALL(void, rstnodetorefnameaux_323397)(trstnode321011* n, NimStringDesc** r, NIM_BOOL* b) {
	{
		if (!((*n).Kind == ((NU8) 64))) goto LA3;
		{
			NI i_323425;
			NI HEX3Atmp_323469;
			NI res_323472;
			i_323425 = 0;
			HEX3Atmp_323469 = 0;
			HEX3Atmp_323469 = (NI32)((*n).Text->Sup.len - 1);
			res_323472 = 0;
			{
				while (1) {
					if (!(res_323472 <= HEX3Atmp_323469)) goto LA7;
					i_323425 = res_323472;
					switch (((NU8)((*n).Text->data[i_323425]))) {
					case 48 ... 57:
					{
						{
							if (!(*b)) goto LA11;
							(*r) = addChar((*r), 45);
							(*b) = NIM_FALSE;
						}
						LA11: ;
						{
							if (!((*r)->Sup.len == 0)) goto LA15;
							(*r) = addChar((*r), 90);
						}
						LA15: ;
						(*r) = addChar((*r), (*n).Text->data[i_323425]);
					}
					break;
					case 97 ... 122:
					{
						{
							if (!(*b)) goto LA20;
							(*r) = addChar((*r), 45);
							(*b) = NIM_FALSE;
						}
						LA20: ;
						(*r) = addChar((*r), (*n).Text->data[i_323425]);
					}
					break;
					case 65 ... 90:
					{
						{
							if (!(*b)) goto LA25;
							(*r) = addChar((*r), 45);
							(*b) = NIM_FALSE;
						}
						LA25: ;
						(*r) = addChar((*r), ((NIM_CHAR) (((NI) ((NI32)(((NI) ((NI32)(((NI) (((NU8)((*n).Text->data[i_323425])))) - 65))) + 97))))));
					}
					break;
					default:
					{
						{
							if (!(0 < (*r)->Sup.len)) goto LA30;
							(*b) = NIM_TRUE;
						}
						LA30: ;
					}
					break;
					}
					res_323472 += 1;
				} LA7: ;
			}
		}
	}
	goto LA1;
	LA3: ;
	{
		{
			NI i_323467;
			NI HEX3Atmp_323475;
			NI LOC34;
			NI res_323478;
			i_323467 = 0;
			HEX3Atmp_323475 = 0;
			LOC34 = 0;
			LOC34 = len_321084(n);
			HEX3Atmp_323475 = (NI32)(LOC34 - 1);
			res_323478 = 0;
			{
				while (1) {
					if (!(res_323478 <= HEX3Atmp_323475)) goto LA36;
					i_323467 = res_323478;
					rstnodetorefnameaux_323397((*n).Sons->data[i_323467], r, b);
					res_323478 += 1;
				} LA36: ;
			}
		}
	}
	LA1: ;
}

N_NIMCALL(NimStringDesc*, rstnodetorefname_322061)(trstnode321011* n) {
	NimStringDesc* result;
	NIM_BOOL b;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP2121));
	b = NIM_FALSE;
	rstnodetorefnameaux_323397(n, (&result), (&b));
	return result;
}

static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	memcpy(((NCSTRING) ((&(*dest).data[((*dest).Sup.len)- 0]))), ((NCSTRING) ((*src).data)), (NI32)((*src).Sup.len + 1));
	(*dest).Sup.len += (*src).Sup.len;
}

N_NIMCALL(void, addnodesaux_323338)(trstnode321011* n, NimStringDesc** result) {
	{
		if (!((*n).Kind == ((NU8) 64))) goto LA3;
		(*result) = resizeString((*result), (*n).Text->Sup.len + 0);
appendString((*result), (*n).Text);
	}
	goto LA1;
	LA3: ;
	{
		{
			NI i_323364;
			NI HEX3Atmp_323366;
			NI LOC7;
			NI res_323369;
			i_323364 = 0;
			HEX3Atmp_323366 = 0;
			LOC7 = 0;
			LOC7 = len_321084(n);
			HEX3Atmp_323366 = (NI32)(LOC7 - 1);
			res_323369 = 0;
			{
				while (1) {
					if (!(res_323369 <= HEX3Atmp_323366)) goto LA9;
					i_323364 = res_323369;
					addnodesaux_323338((*n).Sons->data[i_323364], result);
					res_323369 += 1;
				} LA9: ;
			}
		}
	}
	LA1: ;
}

N_NIMCALL(NimStringDesc*, addnodes_322067)(trstnode321011* n) {
	NimStringDesc* result;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP2121));
	addnodesaux_323338(n, (&result));
	return result;
}

N_NIMCALL(NimStringDesc*, getfieldvalue_322073)(trstnode321011* n, NimStringDesc* fieldname) {
	NimStringDesc* result;
{	result = 0;
	result = copyString(((NimStringDesc*) &TMP2121));
	{
		if (!((*n).Sons->data[1] == NIM_NIL)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	{
		if (!!(((*(*n).Sons->data[1]).Kind == ((NU8) 13)))) goto LA7;
		goto BeforeRet;
	}
	LA7: ;
	{
		NI i_326650;
		NI HEX3Atmp_326653;
		NI LOC10;
		NI res_326656;
		i_326650 = 0;
		HEX3Atmp_326653 = 0;
		LOC10 = 0;
		LOC10 = len_321084((*n).Sons->data[1]);
		HEX3Atmp_326653 = (NI32)(LOC10 - 1);
		res_326656 = 0;
		{
			while (1) {
				trstnode321011* f;
				if (!(res_326656 <= HEX3Atmp_326653)) goto LA12;
				i_326650 = res_326656;
				f = (*(*n).Sons->data[1]).Sons->data[i_326650];
				{
					NimStringDesc* LOC15;
					NI LOC16;
					LOC15 = 0;
					LOC15 = addnodes_322067((*f).Sons->data[0]);
					LOC16 = 0;
					LOC16 = nsuCmpIgnoreStyle(LOC15, fieldname);
					if (!(LOC16 == 0)) goto LA17;
					result = addnodes_322067((*f).Sons->data[1]);
					{
						if (!((result) && (result)->Sup.len == 0)) goto LA21;
						result = copyString(((NimStringDesc*) &TMP2209));
					}
					LA21: ;
					goto BeforeRet;
				}
				LA17: ;
				res_326656 += 1;
			} LA12: ;
		}
	}
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NimStringDesc*, getargument_322080)(trstnode321011* n) {
	NimStringDesc* result;
	result = 0;
	{
		if (!((*n).Sons->data[0] == NIM_NIL)) goto LA3;
		result = copyString(((NimStringDesc*) &TMP2121));
	}
	goto LA1;
	LA3: ;
	{
		result = addnodes_322067((*n).Sons->data[0]);
	}
	LA1: ;
	return result;
}

N_NIMCALL(NimStringDesc*, getfieldvalue_325823)(trstnode321011* n) {
	NimStringDesc* result;
	NimStringDesc* LOC1;
	result = 0;
	LOC1 = 0;
	LOC1 = addnodes_322067((*n).Sons->data[1]);
	result = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE);
	return result;
}
N_NIMCALL(void, TMP2468)(void* p, NI op) {
	ttokenseq322137* a;
	NI LOC1;
	a = (ttokenseq322137*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Symbol, op);
	}
}
N_NIMCALL(void, TMP2480)(void* p, NI op) {
	TY322669* a;
	NI LOC1;
	a = (TY322669*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Key, op);
	nimGCvisit((void*)a->data[LOC1].Value, op);
	}
}
N_NIMCALL(void, TMP2481)(void* p, NI op) {
	tsharedstate322655* a;
	NI LOC1;
	NI LOC2;
	a = (tsharedstate322655*)p;
	nimGCvisit((void*)(*a).Subs, op);
	nimGCvisit((void*)(*a).Refs, op);
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < 256; LOC1++) {
	}
	LOC2 = 0;
	for (LOC2 = 0; LOC2 < 256; LOC2++) {
	}
}
N_NIMCALL(void, TMP2482)(void* p, NI op) {
	TY322680* a;
	NI LOC1;
	a = (TY322680*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	}
}

N_NIMCALL(void, initparser_323289)(trstparser322659* p, tsharedstate322655* sharedstate) {
	genericSeqAssign((&(*p).Indentstack), TMP2483, (&NTI322680));
	unsureAsgnRef((void**) (&(*p).Tok), (ttokenseq322137*) newSeq((&NTI322137), 0));
	(*p).Idx = 0;
	unsureAsgnRef((void**) (&(*p).Filename), copyString(((NimStringDesc*) &TMP2121)));
	(*p).Hastoc = NIM_FALSE;
	(*p).Col = 0;
	(*p).Line = 1;
	unsureAsgnRef((void**) (&(*p).S), sharedstate);
}

static N_INLINE(tcell45346*, usrtocell_49246)(void* usr) {
	tcell45346* result;
	result = 0;
	result = ((tcell45346*) ((NI)((NU32)(((NI) (usr))) - (NU32)(((NI)sizeof(tcell45346))))));
	return result;
}

static N_INLINE(void, rtladdzct_50804)(tcell45346* c) {
	addzct_49217((&gch_47644.Zct), c);
}

static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	tcell45346* c;
	c = usrtocell_49246(p);
	{
		(*c).Refcount -= 8;
		if (!((NU32)((*c).Refcount) < (NU32)(8))) goto LA3;
		rtladdzct_50804(c);
	}
	LA3: ;
}

N_NIMCALL(NU8, whichmsgclass_322689)(NU8 k) {
	NU8 result;
	result = 0;
	switch (((NU8)(reprEnum(k, (&NTI322019))->data[1]))) {
	case 101:
	case 69:
	{
		result = ((NU8) 2);
	}
	break;
	case 119:
	case 87:
	{
		result = ((NU8) 1);
	}
	break;
	case 104:
	case 72:
	{
		result = ((NU8) 0);
	}
	break;
	default:
	{
	}
	break;
	}
	return result;
}
N_NIMCALL(void, TMP2502)(void* p, NI op) {
	eparseerror322661* a;
	a = (eparseerror322661*)p;
	nimGCvisit((void*)(*a).Sup.Sup.parent, op);
	nimGCvisit((void*)(*a).Sup.Sup.message, op);
	nimGCvisit((void*)(*a).Sup.Sup.trace, op);
}

static N_INLINE(void, writeln_172205)(FILE* f_172209, NimStringDesc** x_172213, NI x_172213Len0) {
	{
		NimStringDesc* i_172226;
		NI i_172234;
		i_172226 = 0;
		i_172234 = 0;
		{
			while (1) {
				if (!(i_172234 < x_172213Len0)) goto LA3;
				i_172226 = x_172213[i_172234];
				write_13265(f_172209, i_172226);
				i_172234 += 1;
			} LA3: ;
		}
	}
	write_13265(f_172209, ((NimStringDesc*) &TMP2503));
}

N_NIMCALL(void, defaultmsghandler_322807)(NimStringDesc* filename, NI line, NI col, NU8 msgkind, NimStringDesc* arg) {
	NU8 mc;
	NimStringDesc* a;
	NimStringDesc* message;
	TY322825 LOC1;
	mc = whichmsgclass_322689(msgkind);
	a = nsuFormatSingleElem(messages_322052[(msgkind)- 0], arg);
	memset((void*)LOC1, 0, sizeof(LOC1));
	LOC1[0] = copyString(filename);
	LOC1[1] = nimIntToStr(line);
	LOC1[2] = nimIntToStr(col);
	LOC1[3] = copyString(reprEnum(mc, (&NTI322017)));
	LOC1[4] = copyString(a);
	message = nsuFormatOpenArray(((NimStringDesc*) &TMP2498), LOC1, 5);
	{
		eparseerror322661* e_322839;
		NimStringDesc* LOC6;
		if (!(mc == ((NU8) 2))) goto LA4;
		e_322839 = 0;
		e_322839 = (eparseerror322661*) newObj((&NTI322840), sizeof(eparseerror322661));
		(*e_322839).Sup.Sup.Sup.m_type = (&NTI322661);
		LOC6 = 0;
		LOC6 = (*e_322839).Sup.Sup.message; (*e_322839).Sup.Sup.message = copyStringRC1(message);
		if (LOC6) nimGCunrefNoCycle(LOC6);
		raiseException((Exception*)e_322839, "EParseError");
	}
	goto LA2;
	LA4: ;
	{
		TY183990 LOC8;
		memset((void*)LOC8, 0, sizeof(LOC8));
		LOC8[0] = copyString(message);
		writeln_172205(stdout, LOC8, 1);
	}
	LA2: ;
}

N_NIMCALL(NimStringDesc*, defaultfindfile_322880)(NimStringDesc* filename) {
	NimStringDesc* result;
	result = 0;
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = nosexistsFile(filename);
		if (!LOC3) goto LA4;
		result = copyString(filename);
	}
	goto LA1;
	LA4: ;
	{
		result = copyString(((NimStringDesc*) &TMP2121));
	}
	LA1: ;
	return result;
}

N_NIMCALL(tsharedstate322655*, newsharedstate_322890)(NU8 options, tfindfilehandler322023 findfile, tmsghandler322021 msghandler) {
	tsharedstate322655* result;
	result = 0;
	result = (tsharedstate322655*) newObj((&NTI322657), sizeof(tsharedstate322655));
	if ((*result).Subs) nimGCunrefNoCycle((*result).Subs);
	(*result).Subs = (TY322669*) newSeqRC1((&NTI322669), 0);
	if ((*result).Refs) nimGCunrefNoCycle((*result).Refs);
	(*result).Refs = (TY322669*) newSeqRC1((&NTI322669), 0);
	(*result).Options = options;
	{
		if (!!(msghandler == 0)) goto LA3;
		(*result).Msghandler = msghandler;
	}
	goto LA1;
	LA3: ;
	{
		(*result).Msghandler = defaultmsghandler_322807;
	}
	LA1: ;
	{
		if (!!(findfile == 0)) goto LA8;
		(*result).Findfile = findfile;
	}
	goto LA6;
	LA8: ;
	{
		(*result).Findfile = defaultfindfile_322880;
	}
	LA6: ;
	return result;
}

N_NIMCALL(void, getthing_322161)(tlexer322139* l, ttoken322135* tok, TY197407 s) {
	NI pos;
	(*tok).Kind = ((NU8) 3);
	(*tok).Line = (*l).Line;
	(*tok).Col = (*l).Col;
	pos = (*l).Bufpos;
	{
		while (1) {
			(*tok).Symbol = addChar((*tok).Symbol, (*l).Buf[pos]);
			pos += 1;
			{
				if (!!(((s[((NU8)((*l).Buf[pos]))/8] &(1<<(((NU8)((*l).Buf[pos]))%8)))!=0))) goto LA5;
				goto LA1;
			}
			LA5: ;
		}
	} LA1: ;
	(*l).Col += (NI32)(pos - (*l).Bufpos);
	(*l).Bufpos = pos;
}

N_NIMCALL(NI, getindentaux_322265)(tlexer322139* l, NI start) {
	NI result;
	NI pos;
	NCSTRING buf;
	result = 0;
	pos = start;
	buf = (*l).Buf;
	{
		if (!((NU8)(buf[pos]) == (NU8)(13))) goto LA3;
		{
			if (!((NU8)(buf[(NI32)(pos + 1)]) == (NU8)(10))) goto LA7;
			pos += 2;
		}
		goto LA5;
		LA7: ;
		{
			pos += 1;
		}
		LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		if (!((NU8)(buf[pos]) == (NU8)(10))) goto LA11;
		pos += 1;
	}
	goto LA1;
	LA11: ;
	LA1: ;
	{
		if (!(*l).Skippounds) goto LA15;
		{
			if (!((NU8)(buf[pos]) == (NU8)(35))) goto LA19;
			pos += 1;
		}
		LA19: ;
		{
			if (!((NU8)(buf[pos]) == (NU8)(35))) goto LA23;
			pos += 1;
		}
		LA23: ;
	}
	LA15: ;
	{
		while (1) {
			switch (((NU8)(buf[pos]))) {
			case 32:
			case 11:
			case 12:
			{
				pos += 1;
				result += 1;
			}
			break;
			case 9:
			{
				pos += 1;
				result = (NI32)((NI32)(result - ((NI) ((NI32)(result % 8)))) + 8);
			}
			break;
			default:
			{
				goto LA25;
			}
			break;
			}
		}
	} LA25: ;
	{
		if (!((NU8)(buf[pos]) == (NU8)(0))) goto LA32;
		result = 0;
	}
	goto LA30;
	LA32: ;
	{
		NIM_BOOL LOC35;
		LOC35 = 0;
		LOC35 = ((NU8)(buf[pos]) == (NU8)(10));
		if (LOC35) goto LA36;
		LOC35 = ((NU8)(buf[pos]) == (NU8)(13));
		LA36: ;
		if (!LOC35) goto LA37;
		result = getindentaux_322265(l, pos);
	}
	goto LA30;
	LA37: ;
	LA30: ;
	(*l).Bufpos = pos;
	return result;
}

N_NIMCALL(void, getindent_322383)(tlexer322139* l, ttoken322135* tok) {
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	(*tok).Col = 0;
	(*tok).Kind = ((NU8) 1);
	(*tok).Ival = getindentaux_322265(l, (*l).Bufpos);
	(*l).Line += 1;
	(*tok).Line = (*l).Line;
	(*l).Col = (*tok).Ival;
	(*tok).Ival = (((NI32)((*tok).Ival - (*l).Baseindent) >= 0) ? (NI32)((*tok).Ival - (*l).Baseindent) : 0);
	LOC1 = 0;
	LOC2 = 0;
	LOC2 = nsuRepeatChar((*tok).Ival, 32);
	LOC1 = rawNewString(LOC2->Sup.len + 1);
appendString(LOC1, ((NimStringDesc*) &TMP2503));
appendString(LOC1, LOC2);
	unsureAsgnRef((void**) (&(*tok).Symbol), LOC1);
}

N_NIMCALL(void, getadornment_322220)(tlexer322139* l, ttoken322135* tok) {
	NI pos;
	NIM_CHAR c;
	(*tok).Kind = ((NU8) 4);
	(*tok).Line = (*l).Line;
	(*tok).Col = (*l).Col;
	pos = (*l).Bufpos;
	c = (*l).Buf[pos];
	{
		while (1) {
			(*tok).Symbol = addChar((*tok).Symbol, (*l).Buf[pos]);
			pos += 1;
			{
				if (!!(((NU8)((*l).Buf[pos]) == (NU8)(c)))) goto LA5;
				goto LA1;
			}
			LA5: ;
		}
	} LA1: ;
	(*l).Col += (NI32)(pos - (*l).Bufpos);
	(*l).Bufpos = pos;
}

N_NIMCALL(void, rawgettok_322410)(tlexer322139* l, ttoken322135* tok) {
	NIM_CHAR c;
	unsureAsgnRef((void**) (&(*tok).Symbol), copyString(((NimStringDesc*) &TMP2121)));
	(*tok).Ival = 0;
	c = (*l).Buf[(*l).Bufpos];
	switch (((NU8)(c))) {
	case 97 ... 122:
	case 65 ... 90:
	case 128 ... 255:
	case 48 ... 57:
	{
		getthing_322161(l, tok, TMP2505);
	}
	break;
	case 32:
	case 9:
	case 11:
	case 12:
	{
		getthing_322161(l, tok, TMP2506);
		(*tok).Kind = ((NU8) 2);
		{
			if (!(((NU8)((*l).Buf[(*l).Bufpos])) == ((NU8)(13)) || ((NU8)((*l).Buf[(*l).Bufpos])) == ((NU8)(10)))) goto LA5;
			rawgettok_322410(l, tok);
		}
		LA5: ;
	}
	break;
	case 13:
	case 10:
	{
		getindent_322383(l, tok);
	}
	break;
	case 33:
	case 34:
	case 35:
	case 36:
	case 37:
	case 38:
	case 39:
	case 40:
	case 41:
	case 42:
	case 43:
	case 44:
	case 45:
	case 46:
	case 47:
	case 58:
	case 59:
	case 60:
	case 61:
	case 62:
	case 63:
	case 64:
	case 91:
	case 92:
	case 93:
	case 94:
	case 95:
	case 96:
	case 123:
	case 124:
	case 125:
	case 126:
	{
		getadornment_322220(l, tok);
		{
			if (!((*tok).Symbol->Sup.len <= 3)) goto LA11;
			(*tok).Kind = ((NU8) 5);
		}
		LA11: ;
	}
	break;
	default:
	{
		(*tok).Line = (*l).Line;
		(*tok).Col = (*l).Col;
		{
			if (!((NU8)(c) == (NU8)(0))) goto LA16;
			(*tok).Kind = ((NU8) 0);
		}
		goto LA14;
		LA16: ;
		{
			(*tok).Kind = ((NU8) 6);
			(*tok).Symbol = addChar((*tok).Symbol, c);
			(*l).Bufpos += 1;
			(*l).Col += 1;
		}
		LA14: ;
	}
	break;
	}
	(*tok).Col = (((NI32)((*tok).Col - (*l).Baseindent) >= 0) ? (NI32)((*tok).Col - (*l).Baseindent) : 0);
}

N_NIMCALL(NI, gettokens_322465)(NimStringDesc* buffer, NIM_BOOL skippounds, ttokenseq322137** tokens) {
	NI result;
	tlexer322139 l;
	NI length;
	result = 0;
	memset((void*)(&l), 0, sizeof(l));
	l.Sup.m_type = (&NTI322139);
	length = (*tokens)->Sup.len;
	l.Buf = buffer->data;
	l.Line = 0;
	{
		NIM_BOOL LOC3;
		NIM_BOOL LOC4;
		LOC3 = 0;
		LOC4 = 0;
		LOC4 = ((NU8)(l.Buf[0]) == (NU8)(239));
		if (!(LOC4)) goto LA5;
		LOC4 = ((NU8)(l.Buf[1]) == (NU8)(187));
		LA5: ;
		LOC3 = LOC4;
		if (!(LOC3)) goto LA6;
		LOC3 = ((NU8)(l.Buf[2]) == (NU8)(191));
		LA6: ;
		if (!LOC3) goto LA7;
		l.Bufpos += 3;
	}
	LA7: ;
	l.Skippounds = skippounds;
	{
		if (!skippounds) goto LA11;
		{
			if (!((NU8)(l.Buf[l.Bufpos]) == (NU8)(35))) goto LA15;
			l.Bufpos += 1;
			result += 1;
		}
		LA15: ;
		{
			if (!((NU8)(l.Buf[l.Bufpos]) == (NU8)(35))) goto LA19;
			l.Bufpos += 1;
			result += 1;
		}
		LA19: ;
		l.Baseindent = 0;
		{
			while (1) {
				if (!((NU8)(l.Buf[l.Bufpos]) == (NU8)(32))) goto LA22;
				l.Bufpos += 1;
				l.Baseindent += 1;
				result += 1;
			} LA22: ;
		}
	}
	LA11: ;
	{
		while (1) {
			length += 1;
			(*tokens) = (ttokenseq322137*) setLengthSeq(&((*tokens))->Sup, sizeof(ttoken322135), length);
			rawgettok_322410((&l), (&(*tokens)->data[(NI32)(length - 1)]));
			{
				if (!((*tokens)->data[(NI32)(length - 1)].Kind == ((NU8) 0))) goto LA27;
				goto LA23;
			}
			LA27: ;
		}
	} LA23: ;
	{
		if (!((*tokens)->data[0].Kind == ((NU8) 2))) goto LA31;
		(*tokens)->data[0].Ival = (*tokens)->data[0].Symbol->Sup.len;
		(*tokens)->data[0].Kind = ((NU8) 1);
	}
	LA31: ;
	return result;
}

static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b) {
	NIM_BOOL result;
	NIM_BOOL LOC11;
	int LOC13;
{	result = 0;
	{
		if (!(a == b)) goto LA3;
		result = NIM_TRUE;
		goto BeforeRet;
	}
	LA3: ;
	{
		NIM_BOOL LOC7;
		LOC7 = 0;
		LOC7 = (a == NIM_NIL);
		if (LOC7) goto LA8;
		LOC7 = (b == NIM_NIL);
		LA8: ;
		if (!LOC7) goto LA9;
		result = NIM_FALSE;
		goto BeforeRet;
	}
	LA9: ;
	LOC11 = 0;
	LOC11 = ((*a).Sup.len == (*b).Sup.len);
	if (!(LOC11)) goto LA12;
	LOC13 = 0;
	LOC13 = memcmp(((NCSTRING) ((*a).data)), ((NCSTRING) ((*b).data)), (NI32)((*a).Sup.len * 1));
	LOC11 = (LOC13 == ((NI32) 0));
	LA12: ;
	result = LOC11;
	goto BeforeRet;
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NI, findsub_323517)(trstparser322659* p, trstnode321011* n) {
	NI result;
	NimStringDesc* key;
{	result = 0;
	key = addnodes_322067(n);
	{
		NI i_323536;
		NI HEX3Atmp_323551;
		NI res_323554;
		i_323536 = 0;
		HEX3Atmp_323551 = 0;
		HEX3Atmp_323551 = ((*(*p).S).Subs->Sup.len-1);
		res_323554 = 0;
		{
			while (1) {
				if (!(res_323554 <= HEX3Atmp_323551)) goto LA3;
				i_323536 = res_323554;
				{
					if (!eqStrings(key, (*(*p).S).Subs->data[i_323536].Key)) goto LA6;
					result = i_323536;
					goto BeforeRet;
				}
				LA6: ;
				res_323554 += 1;
			} LA3: ;
		}
	}
	{
		NI i_323549;
		NI HEX3Atmp_323557;
		NI res_323560;
		i_323549 = 0;
		HEX3Atmp_323557 = 0;
		HEX3Atmp_323557 = ((*(*p).S).Subs->Sup.len-1);
		res_323560 = 0;
		{
			while (1) {
				if (!(res_323560 <= HEX3Atmp_323557)) goto LA10;
				i_323549 = res_323560;
				{
					NI LOC13;
					LOC13 = 0;
					LOC13 = nsuCmpIgnoreStyle(key, (*(*p).S).Subs->data[i_323549].Key);
					if (!(LOC13 == 0)) goto LA14;
					result = i_323549;
					goto BeforeRet;
				}
				LA14: ;
				res_323560 += 1;
			} LA10: ;
		}
	}
	result = -1;
	}BeforeRet: ;
	return result;
}

N_NIMCALL(void, rstmessage_322972)(trstparser322659* p, NU8 msgkind, NimStringDesc* arg) {
	(*(*p).S).Msghandler((*p).Filename, (NI32)((*p).Line + (*p).Tok->data[(*p).Idx].Line), (NI32)((*p).Col + (*p).Tok->data[(*p).Idx].Col), msgkind, arg);
}

N_NIMCALL(trstnode321011*, findref_323722)(trstparser322659* p, NimStringDesc* key) {
	trstnode321011* result;
{	result = 0;
	{
		NI i_323740;
		NI HEX3Atmp_323742;
		NI res_323745;
		i_323740 = 0;
		HEX3Atmp_323742 = 0;
		HEX3Atmp_323742 = ((*(*p).S).Refs->Sup.len-1);
		res_323745 = 0;
		{
			while (1) {
				if (!(res_323745 <= HEX3Atmp_323742)) goto LA3;
				i_323740 = res_323745;
				{
					if (!eqStrings(key, (*(*p).S).Refs->data[i_323740].Key)) goto LA6;
					result = (*(*p).S).Refs->data[i_323740].Value;
					goto BeforeRet;
				}
				LA6: ;
				res_323745 += 1;
			} LA3: ;
		}
	}
	}BeforeRet: ;
	return result;
}

static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src) {
	{
		tcell45346* c;
		if (!!((src == NIM_NIL))) goto LA3;
		c = usrtocell_49246(src);
		(*c).Refcount += 8;
	}
	LA3: ;
	{
		tcell45346* c;
		if (!!(((*dest) == NIM_NIL))) goto LA7;
		c = usrtocell_49246((*dest));
		{
			(*c).Refcount -= 8;
			if (!((NU32)((*c).Refcount) < (NU32)(8))) goto LA11;
			rtladdzct_50804(c);
		}
		LA11: ;
	}
	LA7: ;
	(*dest) = src;
}

N_NIMCALL(trstnode321011*, resolvesubs_330086)(trstparser322659* p, trstnode321011* n) {
	trstnode321011* result;
{	result = 0;
	result = n;
	{
		if (!(n == NIM_NIL)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	switch ((*n).Kind) {
	case ((NU8) 62):
	{
		NI x;
		x = findsub_323517(p, n);
		{
			if (!(0 <= x)) goto LA8;
			result = (*(*p).S).Subs->data[x].Value;
		}
		goto LA6;
		LA8: ;
		{
			NimStringDesc* key;
			NimStringDesc* e;
			key = addnodes_322067(n);
			e = getenv_121442(key);
			{
				if (!!(((e) && (e)->Sup.len == 0))) goto LA13;
				result = newrstnode_321151(((NU8) 64), e);
			}
			goto LA11;
			LA13: ;
			{
				rstmessage_322972((&(*p)), ((NU8) 7), key);
			}
			LA11: ;
		}
		LA6: ;
	}
	break;
	case ((NU8) 39):
	{
		trstnode321011* y;
		NimStringDesc* LOC17;
		LOC17 = 0;
		LOC17 = rstnodetorefname_322061(n);
		y = findref_323722(p, LOC17);
		{
			if (!!((y == NIM_NIL))) goto LA20;
			result = newrstnode_321105(((NU8) 38));
			(*n).Kind = ((NU8) 0);
			add_321183(result, n);
			add_321183(result, y);
		}
		LA20: ;
	}
	break;
	case ((NU8) 64):
	{
	}
	break;
	case ((NU8) 44):
	{
		(*p).Hastoc = NIM_TRUE;
	}
	break;
	default:
	{
		{
			NI i_330142;
			NI HEX3Atmp_330144;
			NI LOC26;
			NI res_330147;
			i_330142 = 0;
			HEX3Atmp_330144 = 0;
			LOC26 = 0;
			LOC26 = len_321084(n);
			HEX3Atmp_330144 = (NI32)(LOC26 - 1);
			res_330147 = 0;
			{
				while (1) {
					if (!(res_330147 <= HEX3Atmp_330144)) goto LA28;
					i_330142 = res_330147;
					asgnRefNoCycle((void**) (&(*n).Sons->data[i_330142]), resolvesubs_330086(p, (*n).Sons->data[i_330142]));
					res_330147 += 1;
				} LA28: ;
			}
		}
	}
	break;
	}
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NI, currind_323201)(trstparser322659* p) {
	NI result;
	result = 0;
	result = (*p).Indentstack->data[((*p).Indentstack->Sup.len-1)];
	return result;
}

N_NIMCALL(void, pushind_323211)(trstparser322659* p, NI ind) {
	(*p).Indentstack = (TY322680*) incrSeq(&((*p).Indentstack)->Sup, sizeof(NI));
	(*p).Indentstack->data[(*p).Indentstack->Sup.len-1] = ind;
}

N_NIMCALL(void, popind_323240)(trstparser322659* p) {
	{
		if (!(1 < (*p).Indentstack->Sup.len)) goto LA3;
		(*p).Indentstack = (TY322680*) setLengthSeq(&((*p).Indentstack)->Sup, sizeof(NI), (NI32)((*p).Indentstack->Sup.len - 1));
	}
	LA3: ;
}

N_NIMCALL(NIM_BOOL, match_323995)(trstparser322659* p, NI start, NimStringDesc* expr) {
	NIM_BOOL result;
	NI i;
	NI j;
	NI last;
{	result = 0;
	i = 0;
	j = start;
	last = (NI32)(expr->Sup.len - 1);
	{
		while (1) {
			if (!(i <= last)) goto LA2;
			switch (((NU8)(expr->data[i]))) {
			case 119:
			{
				result = ((*p).Tok->data[j].Kind == ((NU8) 3));
			}
			break;
			case 32:
			{
				result = ((*p).Tok->data[j].Kind == ((NU8) 2));
			}
			break;
			case 105:
			{
				result = ((*p).Tok->data[j].Kind == ((NU8) 1));
			}
			break;
			case 112:
			{
				result = ((*p).Tok->data[j].Kind == ((NU8) 5));
			}
			break;
			case 97:
			{
				result = ((*p).Tok->data[j].Kind == ((NU8) 4));
			}
			break;
			case 111:
			{
				result = ((*p).Tok->data[j].Kind == ((NU8) 6));
			}
			break;
			case 84:
			{
				result = NIM_TRUE;
			}
			break;
			case 69:
			{
				result = ((7 &(1<<(((*p).Tok->data[j].Kind)&7)))!=0);
			}
			break;
			case 101:
			{
				NIM_BOOL LOC12;
				LOC12 = 0;
				LOC12 = ((*p).Tok->data[j].Kind == ((NU8) 3));
				if (LOC12) goto LA13;
				LOC12 = eqStrings((*p).Tok->data[j].Symbol, ((NimStringDesc*) &TMP2507));
				LA13: ;
				result = LOC12;
				{
					if (!result) goto LA16;
					switch (((NU8)((*p).Tok->data[j].Symbol->data[0]))) {
					case 97 ... 122:
					case 65 ... 90:
					{
						result = ((*p).Tok->data[j].Symbol->Sup.len == 1);
					}
					break;
					case 48 ... 57:
					{
						result = allcharsinset_97479((*p).Tok->data[j].Symbol, TMP2508);
					}
					break;
					default:
					{
					}
					break;
					}
				}
				LA16: ;
			}
			break;
			default:
			{
				NIM_CHAR c;
				NI length;
				NIM_BOOL LOC26;
				NIM_BOOL LOC27;
				c = expr->data[i];
				length = 0;
				{
					while (1) {
						NIM_BOOL LOC24;
						LOC24 = 0;
						LOC24 = (i <= last);
						if (!(LOC24)) goto LA25;
						LOC24 = ((NU8)(expr->data[i]) == (NU8)(c));
						LA25: ;
						if (!LOC24) goto LA23;
						i += 1;
						length += 1;
					} LA23: ;
				}
				i -= 1;
				LOC26 = 0;
				LOC27 = 0;
				LOC27 = ((48 &(1<<(((*p).Tok->data[j].Kind)&7)))!=0);
				if (!(LOC27)) goto LA28;
				LOC27 = ((*p).Tok->data[j].Symbol->Sup.len == length);
				LA28: ;
				LOC26 = LOC27;
				if (!(LOC26)) goto LA29;
				LOC26 = ((NU8)((*p).Tok->data[j].Symbol->data[0]) == (NU8)(c));
				LA29: ;
				result = LOC26;
			}
			break;
			}
			{
				if (!!(result)) goto LA32;
				goto BeforeRet;
			}
			LA32: ;
			j += 1;
			i += 1;
		} LA2: ;
	}
	result = NIM_TRUE;
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NI, tokenafternewline_326832)(trstparser322659* p) {
	NI result;
	result = 0;
	result = (*p).Idx;
	{
		while (1) {
			switch ((*p).Tok->data[result].Kind) {
			case ((NU8) 0):
			{
				goto LA1;
			}
			break;
			case ((NU8) 1):
			{
				result += 1;
				goto LA1;
			}
			break;
			default:
			{
				result += 1;
			}
			break;
			}
		}
	} LA1: ;
	return result;
}

N_NIMCALL(NIM_BOOL, prednl_326885)(trstparser322659* p) {
	NIM_BOOL result;
	result = 0;
	result = NIM_TRUE;
	{
		NIM_BOOL LOC5;
		NI LOC7;
		if (!(0 < (*p).Idx)) goto LA3;
		LOC5 = 0;
		LOC5 = ((*p).Tok->data[(NI32)((*p).Idx - 1)].Kind == ((NU8) 1));
		if (!(LOC5)) goto LA6;
		LOC7 = 0;
		LOC7 = currind_323201(p);
		LOC5 = ((*p).Tok->data[(NI32)((*p).Idx - 1)].Ival == LOC7);
		LA6: ;
		result = LOC5;
	}
	LA3: ;
	return result;
}

N_NIMCALL(NIM_BOOL, islineblock_326873)(trstparser322659* p) {
	NIM_BOOL result;
	NI j;
	NIM_BOOL LOC1;
	NIM_BOOL LOC2;
	result = 0;
	j = tokenafternewline_326832(p);
	LOC1 = 0;
	LOC2 = 0;
	LOC2 = ((*p).Tok->data[(*p).Idx].Col == (*p).Tok->data[j].Col);
	if (!(LOC2)) goto LA3;
	LOC2 = eqStrings((*p).Tok->data[j].Symbol, ((NimStringDesc*) &TMP2517));
	LA3: ;
	LOC1 = LOC2;
	if (LOC1) goto LA4;
	LOC1 = ((*p).Tok->data[(*p).Idx].Col < (*p).Tok->data[j].Col);
	LA4: ;
	result = LOC1;
	return result;
}

N_NIMCALL(void, rstmessage_322996)(trstparser322659* p, NU8 msgkind) {
	(*(*p).S).Msghandler((*p).Filename, (NI32)((*p).Line + (*p).Tok->data[(*p).Idx].Line), (NI32)((*p).Col + (*p).Tok->data[(*p).Idx].Col), msgkind, (*p).Tok->data[(*p).Idx].Symbol);
}

N_NIMCALL(NIM_BOOL, isdeflist_326905)(trstparser322659* p) {
	NIM_BOOL result;
	NI j;
	NIM_BOOL LOC1;
	NIM_BOOL LOC2;
	result = 0;
	j = tokenafternewline_326832(p);
	LOC1 = 0;
	LOC2 = 0;
	LOC2 = ((*p).Tok->data[(*p).Idx].Col < (*p).Tok->data[j].Col);
	if (!(LOC2)) goto LA3;
	LOC2 = ((104 &(1<<(((*p).Tok->data[j].Kind)&7)))!=0);
	LA3: ;
	LOC1 = LOC2;
	if (!(LOC1)) goto LA4;
	LOC1 = !(eqStrings((*p).Tok->data[(NI32)(j - 2)].Symbol, ((NimStringDesc*) &TMP2513)));
	LA4: ;
	result = LOC1;
	return result;
}

N_NIMCALL(NIM_BOOL, isoptionlist_326931)(trstparser322659* p) {
	NIM_BOOL result;
	NIM_BOOL LOC1;
	NIM_BOOL LOC2;
	NIM_BOOL LOC3;
	result = 0;
	LOC1 = 0;
	LOC2 = 0;
	LOC3 = 0;
	LOC3 = match_323995(p, (*p).Idx, ((NimStringDesc*) &TMP2522));
	if (LOC3) goto LA4;
	LOC3 = match_323995(p, (*p).Idx, ((NimStringDesc*) &TMP2523));
	LA4: ;
	LOC2 = LOC3;
	if (LOC2) goto LA5;
	LOC2 = match_323995(p, (*p).Idx, ((NimStringDesc*) &TMP2524));
	LA5: ;
	LOC1 = LOC2;
	if (LOC1) goto LA6;
	LOC1 = match_323995(p, (*p).Idx, ((NimStringDesc*) &TMP2525));
	LA6: ;
	result = LOC1;
	return result;
}

N_NIMCALL(NU8, whichsection_326941)(trstparser322659* p) {
	NU8 result;
	result = 0;
	switch ((*p).Tok->data[(*p).Idx].Kind) {
	case ((NU8) 4):
	{
		{
			NIM_BOOL LOC4;
			LOC4 = 0;
			LOC4 = match_323995(p, (NI32)((*p).Idx + 1), ((NimStringDesc*) &TMP2509));
			if (!LOC4) goto LA5;
			result = ((NU8) 3);
		}
		goto LA2;
		LA5: ;
		{
			NIM_BOOL LOC8;
			LOC8 = 0;
			LOC8 = match_323995(p, (NI32)((*p).Idx + 1), ((NimStringDesc*) &TMP2510));
			if (!LOC8) goto LA9;
			result = ((NU8) 29);
		}
		goto LA2;
		LA9: ;
		{
			NIM_BOOL LOC12;
			LOC12 = 0;
			LOC12 = match_323995(p, (NI32)((*p).Idx + 1), ((NimStringDesc*) &TMP2511));
			if (!LOC12) goto LA13;
			result = ((NU8) 2);
		}
		goto LA2;
		LA13: ;
		{
			result = ((NU8) 64);
		}
		LA2: ;
	}
	break;
	case ((NU8) 5):
	{
		{
			NI LOC19;
			NIM_BOOL LOC20;
			LOC19 = 0;
			LOC19 = tokenafternewline_326832(p);
			LOC20 = 0;
			LOC20 = match_323995(p, LOC19, ((NimStringDesc*) &TMP2512));
			if (!LOC20) goto LA21;
			result = ((NU8) 1);
		}
		goto LA17;
		LA21: ;
		{
			if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2513))) goto LA24;
			result = ((NU8) 24);
		}
		goto LA17;
		LA24: ;
		{
			NIM_BOOL LOC27;
			NIM_BOOL LOC28;
			NIM_BOOL LOC30;
			NIM_BOOL LOC31;
			LOC27 = 0;
			LOC28 = 0;
			LOC28 = prednl_326885(p);
			if (!(LOC28)) goto LA29;
			LOC30 = 0;
			LOC31 = 0;
			LOC31 = eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2514));
			if (LOC31) goto LA32;
			LOC31 = eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2515));
			LA32: ;
			LOC30 = LOC31;
			if (LOC30) goto LA33;
			LOC30 = eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2516));
			LA33: ;
			LOC28 = LOC30;
			LA29: ;
			LOC27 = LOC28;
			if (!(LOC27)) goto LA34;
			LOC27 = ((*p).Tok->data[(NI32)((*p).Idx + 1)].Kind == ((NU8) 2));
			LA34: ;
			if (!LOC27) goto LA35;
			result = ((NU8) 5);
		}
		goto LA17;
		LA35: ;
		{
			NIM_BOOL LOC38;
			LOC38 = 0;
			LOC38 = eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2517));
			if (!(LOC38)) goto LA39;
			LOC38 = islineblock_326873(p);
			LA39: ;
			if (!LOC38) goto LA40;
			result = ((NU8) 26);
		}
		goto LA17;
		LA40: ;
		{
			NIM_BOOL LOC43;
			LOC43 = 0;
			LOC43 = eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2518));
			if (!(LOC43)) goto LA44;
			LOC43 = prednl_326885(p);
			LA44: ;
			if (!LOC43) goto LA45;
			result = ((NU8) 40);
		}
		goto LA17;
		LA45: ;
		{
			NIM_BOOL LOC48;
			LOC48 = 0;
			LOC48 = match_323995(p, (*p).Idx, ((NimStringDesc*) &TMP2519));
			if (!(LOC48)) goto LA49;
			LOC48 = prednl_326885(p);
			LA49: ;
			if (!LOC48) goto LA50;
			result = ((NU8) 13);
		}
		goto LA17;
		LA50: ;
		{
			NIM_BOOL LOC53;
			LOC53 = 0;
			LOC53 = match_323995(p, (*p).Idx, ((NimStringDesc*) &TMP2520));
			if (!LOC53) goto LA54;
			result = ((NU8) 7);
		}
		goto LA17;
		LA54: ;
		{
			NIM_BOOL LOC57;
			LOC57 = 0;
			LOC57 = match_323995(p, (*p).Idx, ((NimStringDesc*) &TMP2521));
			if (!LOC57) goto LA58;
			result = ((NU8) 30);
			rstmessage_322996(p, ((NU8) 2));
		}
		goto LA17;
		LA58: ;
		{
			NIM_BOOL LOC61;
			LOC61 = 0;
			LOC61 = isdeflist_326905(p);
			if (!LOC61) goto LA62;
			result = ((NU8) 9);
		}
		goto LA17;
		LA62: ;
		{
			NIM_BOOL LOC65;
			LOC65 = 0;
			LOC65 = isoptionlist_326931(p);
			if (!LOC65) goto LA66;
			result = ((NU8) 17);
		}
		goto LA17;
		LA66: ;
		{
			result = ((NU8) 4);
		}
		LA17: ;
	}
	break;
	case ((NU8) 3):
	case ((NU8) 6):
	case ((NU8) 2):
	{
		{
			NI LOC72;
			NIM_BOOL LOC73;
			LOC72 = 0;
			LOC72 = tokenafternewline_326832(p);
			LOC73 = 0;
			LOC73 = match_323995(p, LOC72, ((NimStringDesc*) &TMP2512));
			if (!LOC73) goto LA74;
			result = ((NU8) 1);
		}
		goto LA70;
		LA74: ;
		{
			NIM_BOOL LOC77;
			LOC77 = 0;
			LOC77 = match_323995(p, (*p).Idx, ((NimStringDesc*) &TMP2526));
			if (LOC77) goto LA78;
			LOC77 = match_323995(p, (*p).Idx, ((NimStringDesc*) &TMP2527));
			LA78: ;
			if (!LOC77) goto LA79;
			result = ((NU8) 7);
		}
		goto LA70;
		LA79: ;
		{
			NIM_BOOL LOC82;
			LOC82 = 0;
			LOC82 = isdeflist_326905(p);
			if (!LOC82) goto LA83;
			result = ((NU8) 9);
		}
		goto LA70;
		LA83: ;
		{
			result = ((NU8) 4);
		}
		LA70: ;
	}
	break;
	default:
	{
		result = ((NU8) 64);
	}
	break;
	}
	return result;
}

N_NIMCALL(trstnode321011*, parseliteralblock_326707)(trstparser322659* p) {
	trstnode321011* result;
	trstnode321011* n;
	result = 0;
	result = newrstnode_321105(((NU8) 24));
	n = newrstnode_321151(((NU8) 64), ((NimStringDesc*) &TMP2121));
	{
		NI indent;
		if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA3;
		indent = (*p).Tok->data[(*p).Idx].Ival;
		(*p).Idx += 1;
		{
			while (1) {
				switch ((*p).Tok->data[(*p).Idx].Kind) {
				case ((NU8) 0):
				{
					goto LA5;
				}
				break;
				case ((NU8) 1):
				{
					{
						if (!((*p).Tok->data[(*p).Idx].Ival < indent)) goto LA11;
						goto LA5;
					}
					goto LA9;
					LA11: ;
					{
						NimStringDesc* LOC14;
						(*n).Text = resizeString((*n).Text, 1);
appendString((*n).Text, ((NimStringDesc*) &TMP2503));
						LOC14 = 0;
						LOC14 = nsuRepeatChar((NI32)((*p).Tok->data[(*p).Idx].Ival - indent), 32);
						(*n).Text = resizeString((*n).Text, LOC14->Sup.len + 0);
appendString((*n).Text, LOC14);
						(*p).Idx += 1;
					}
					LA9: ;
				}
				break;
				default:
				{
					(*n).Text = resizeString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol->Sup.len + 0);
appendString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol);
					(*p).Idx += 1;
				}
				break;
				}
			}
		} LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		{
			while (1) {
				if (!!(((3 &(1<<(((*p).Tok->data[(*p).Idx].Kind)&7)))!=0))) goto LA18;
				(*n).Text = resizeString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol->Sup.len + 0);
appendString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol);
				(*p).Idx += 1;
			} LA18: ;
		}
	}
	LA1: ;
	add_321183(result, n);
	return result;
}

N_NIMCALL(trstnode321011*, parsebulletlist_328234)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	result = NIM_NIL;
	{
		NimStringDesc* bullet;
		NI col;
		if (!((*p).Tok->data[(NI32)((*p).Idx + 1)].Kind == ((NU8) 2))) goto LA3;
		bullet = copyString((*p).Tok->data[(*p).Idx].Symbol);
		col = (*p).Tok->data[(*p).Idx].Col;
		result = newrstnode_321105(((NU8) 5));
		pushind_323211(p, (*p).Tok->data[(NI32)((*p).Idx + 2)].Col);
		(*p).Idx += 2;
		{
			while (1) {
				trstnode321011* item;
				item = newrstnode_321105(((NU8) 6));
				parsesection_325719(p, item);
				add_321183(result, item);
				{
					NIM_BOOL LOC9;
					NIM_BOOL LOC10;
					NIM_BOOL LOC11;
					LOC9 = 0;
					LOC10 = 0;
					LOC11 = 0;
					LOC11 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
					if (!(LOC11)) goto LA12;
					LOC11 = ((*p).Tok->data[(*p).Idx].Ival == col);
					LA12: ;
					LOC10 = LOC11;
					if (!(LOC10)) goto LA13;
					LOC10 = eqStrings((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol, bullet);
					LA13: ;
					LOC9 = LOC10;
					if (!(LOC9)) goto LA14;
					LOC9 = ((*p).Tok->data[(NI32)((*p).Idx + 2)].Kind == ((NU8) 2));
					LA14: ;
					if (!LOC9) goto LA15;
					(*p).Idx += 3;
				}
				goto LA7;
				LA15: ;
				{
					goto LA5;
				}
				LA7: ;
			}
		} LA5: ;
		popind_323240(p);
	}
	LA3: ;
	return result;
}

N_NIMCALL(trstnode321011*, parselineblock_326960)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	result = NIM_NIL;
	{
		NI col;
		if (!((*p).Tok->data[(NI32)((*p).Idx + 1)].Kind == ((NU8) 2))) goto LA3;
		col = (*p).Tok->data[(*p).Idx].Col;
		result = newrstnode_321105(((NU8) 26));
		pushind_323211(p, (*p).Tok->data[(NI32)((*p).Idx + 2)].Col);
		(*p).Idx += 2;
		{
			while (1) {
				trstnode321011* item;
				item = newrstnode_321105(((NU8) 27));
				parsesection_325719(p, item);
				add_321183(result, item);
				{
					NIM_BOOL LOC9;
					NIM_BOOL LOC10;
					NIM_BOOL LOC11;
					LOC9 = 0;
					LOC10 = 0;
					LOC11 = 0;
					LOC11 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
					if (!(LOC11)) goto LA12;
					LOC11 = ((*p).Tok->data[(*p).Idx].Ival == col);
					LA12: ;
					LOC10 = LOC11;
					if (!(LOC10)) goto LA13;
					LOC10 = eqStrings((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2517));
					LA13: ;
					LOC9 = LOC10;
					if (!(LOC9)) goto LA14;
					LOC9 = ((*p).Tok->data[(NI32)((*p).Idx + 2)].Kind == ((NU8) 2));
					LA14: ;
					if (!LOC9) goto LA15;
					(*p).Idx += 3;
				}
				goto LA7;
				LA15: ;
				{
					goto LA5;
				}
				LA7: ;
			}
		} LA5: ;
		popind_323240(p);
	}
	LA3: ;
	return result;
}

N_NIMCALL(NimStringDesc*, getdirective_325329)(trstparser322659* p) {
	NimStringDesc* result;
	result = 0;
	{
		NIM_BOOL LOC3;
		NI j;
		LOC3 = 0;
		LOC3 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2));
		if (!(LOC3)) goto LA4;
		LOC3 = ((*p).Tok->data[(NI32)((*p).Idx + 1)].Kind == ((NU8) 3));
		LA4: ;
		if (!LOC3) goto LA5;
		j = (*p).Idx;
		(*p).Idx += 1;
		result = copyString((*p).Tok->data[(*p).Idx].Symbol);
		(*p).Idx += 1;
		{
			while (1) {
				if (!((120 &(1<<(((*p).Tok->data[(*p).Idx].Kind)&7)))!=0)) goto LA8;
				{
					if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2513))) goto LA11;
					goto LA7;
				}
				LA11: ;
				result = resizeString(result, (*p).Tok->data[(*p).Idx].Symbol->Sup.len + 0);
appendString(result, (*p).Tok->data[(*p).Idx].Symbol);
				(*p).Idx += 1;
			} LA8: ;
		} LA7: ;
		{
			if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2))) goto LA15;
			(*p).Idx += 1;
		}
		LA15: ;
		{
			if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2513))) goto LA19;
			(*p).Idx += 1;
			{
				if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2))) goto LA23;
				(*p).Idx += 1;
			}
			LA23: ;
		}
		goto LA17;
		LA19: ;
		{
			(*p).Idx = j;
			result = copyString(((NimStringDesc*) &TMP2121));
		}
		LA17: ;
	}
	goto LA1;
	LA5: ;
	{
		result = copyString(((NimStringDesc*) &TMP2121));
	}
	LA1: ;
	return result;
}

static N_INLINE(NI, find_325596)(TY325584 a_325601, NimStringDesc* item_325603) {
	NI result;
{	result = 0;
	{
		NimStringDesc* i_325647;
		NI i_325663;
		i_325647 = 0;
		i_325663 = 0;
		{
			if (!(((NI) (i_325663)) <= 12)) goto LA4;
			{
				while (1) {
					i_325647 = a_325601[(i_325663)- 0];
					{
						if (!eqStrings(i_325647, item_325603)) goto LA10;
						goto BeforeRet;
					}
					LA10: ;
					result += 1;
					{
						if (!(12 <= ((NI) (i_325663)))) goto LA14;
						goto LA6;
					}
					LA14: ;
					i_325663 += 1;
				}
			} LA6: ;
		}
		LA4: ;
	}
	result = -1;
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NU8, getdirkind_325591)(NimStringDesc* s) {
	NU8 result;
	NI i;
	result = 0;
	i = find_325596(dirids_325583, s);
	{
		if (!(0 <= i)) goto LA3;
		result = ((NU8) (i));
	}
	goto LA1;
	LA3: ;
	{
		result = ((NU8) 0);
	}
	LA1: ;
	return result;
}

N_NIMCALL(trstnode321011*, newleaf_323762)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	result = newrstnode_321151(((NU8) 64), (*p).Tok->data[(*p).Idx].Symbol);
	return result;
}

N_NIMCALL(NIM_BOOL, isinlinemarkupstart_323938)(trstparser322659* p, NimStringDesc* markup) {
	NIM_BOOL result;
	NIM_CHAR d;
	NIM_BOOL LOC5;
	NIM_BOOL LOC6;
{	result = 0;
	d = 0;
	result = eqStrings((*p).Tok->data[(*p).Idx].Symbol, markup);
	{
		if (!!(result)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	LOC5 = 0;
	LOC6 = 0;
	LOC6 = ((*p).Idx == 0);
	if (LOC6) goto LA7;
	LOC6 = ((6 &(1<<(((*p).Tok->data[(NI32)((*p).Idx - 1)].Kind)&7)))!=0);
	LA7: ;
	LOC5 = LOC6;
	if (LOC5) goto LA8;
	LOC5 = ((TMP2540[((NU8)((*p).Tok->data[(NI32)((*p).Idx - 1)].Symbol->data[0]))/8] &(1<<(((NU8)((*p).Tok->data[(NI32)((*p).Idx - 1)].Symbol->data[0]))%8)))!=0);
	LA8: ;
	result = LOC5;
	{
		if (!!(result)) goto LA11;
		goto BeforeRet;
	}
	LA11: ;
	result = !(((7 &(1<<(((*p).Tok->data[(NI32)((*p).Idx + 1)].Kind)&7)))!=0));
	{
		if (!!(result)) goto LA15;
		goto BeforeRet;
	}
	LA15: ;
	{
		if (!(0 < (*p).Idx)) goto LA19;
		{
			if (!eqStrings((*p).Tok->data[(NI32)((*p).Idx - 1)].Symbol, ((NimStringDesc*) &TMP2541))) goto LA23;
			result = NIM_FALSE;
		}
		goto LA21;
		LA23: ;
		{
			NIM_CHAR c;
			c = (*p).Tok->data[(NI32)((*p).Idx - 1)].Symbol->data[0];
			switch (((NU8)(c))) {
			case 39:
			case 34:
			{
				d = c;
			}
			break;
			case 40:
			{
				d = 41;
			}
			break;
			case 91:
			{
				d = 93;
			}
			break;
			case 123:
			{
				d = 125;
			}
			break;
			case 60:
			{
				d = 62;
			}
			break;
			default:
			{
				d = 0;
			}
			break;
			}
			{
				if (!!(((NU8)(d) == (NU8)(0)))) goto LA34;
				result = !(((NU8)((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol->data[0]) == (NU8)(d)));
			}
			LA34: ;
		}
		LA21: ;
	}
	LA19: ;
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NIM_BOOL, isinlinemarkupend_323884)(trstparser322659* p, NimStringDesc* markup) {
	NIM_BOOL result;
	NIM_BOOL LOC9;
{	result = 0;
	result = eqStrings((*p).Tok->data[(*p).Idx].Symbol, markup);
	{
		if (!!(result)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	result = !(((6 &(1<<(((*p).Tok->data[(NI32)((*p).Idx - 1)].Kind)&7)))!=0));
	{
		if (!!(result)) goto LA7;
		goto BeforeRet;
	}
	LA7: ;
	LOC9 = 0;
	LOC9 = ((7 &(1<<(((*p).Tok->data[(NI32)((*p).Idx + 1)].Kind)&7)))!=0);
	if (LOC9) goto LA10;
	LOC9 = ((TMP2543[((NU8)((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol->data[0]))/8] &(1<<(((NU8)((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol->data[0]))%8)))!=0);
	LA10: ;
	result = LOC9;
	{
		if (!!(result)) goto LA13;
		goto BeforeRet;
	}
	LA13: ;
	{
		if (!(0 < (*p).Idx)) goto LA17;
		{
			NIM_BOOL LOC21;
			LOC21 = 0;
			LOC21 = !(eqStrings(markup, ((NimStringDesc*) &TMP2544)));
			if (!(LOC21)) goto LA22;
			LOC21 = eqStrings((*p).Tok->data[(NI32)((*p).Idx - 1)].Symbol, ((NimStringDesc*) &TMP2541));
			LA22: ;
			if (!LOC21) goto LA23;
			result = NIM_FALSE;
		}
		LA23: ;
	}
	LA17: ;
	}BeforeRet: ;
	return result;
}

N_NIMCALL(void, parsebackslash_324749)(trstparser322659* p, trstnode321011* father) {
	{
		trstnode321011* LOC5;
		if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2545))) goto LA3;
		LOC5 = 0;
		LOC5 = newrstnode_321151(((NU8) 64), ((NimStringDesc*) &TMP2541));
		add_321183(father, LOC5);
		(*p).Idx += 1;
	}
	goto LA1;
	LA3: ;
	{
		if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2541))) goto LA7;
		(*p).Idx += 1;
		{
			trstnode321011* LOC13;
			if (!!(((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2)))) goto LA11;
			LOC13 = 0;
			LOC13 = newleaf_323762(p);
			add_321183(father, LOC13);
		}
		LA11: ;
		{
			if (!!(((*p).Tok->data[(*p).Idx].Kind == ((NU8) 0)))) goto LA16;
			(*p).Idx += 1;
		}
		LA16: ;
	}
	goto LA1;
	LA7: ;
	{
		trstnode321011* LOC19;
		LOC19 = 0;
		LOC19 = newleaf_323762(p);
		add_321183(father, LOC19);
		(*p).Idx += 1;
	}
	LA1: ;
}

N_NIMCALL(void, rstmessage_322983)(trstparser322659* p, NU8 msgkind, NimStringDesc* arg, NI line, NI col) {
	(*(*p).S).Msghandler((*p).Filename, (NI32)((*p).Line + line), (NI32)((*p).Col + col), msgkind, arg);
}

N_NIMCALL(void, parseuntil_325001)(trstparser322659* p, trstnode321011* father, NimStringDesc* postfix, NIM_BOOL interpretbackslash) {
	NI line;
	NI col;
	line = (*p).Tok->data[(*p).Idx].Line;
	col = (*p).Tok->data[(*p).Idx].Col;
	(*p).Idx += 1;
	{
		while (1) {
			switch ((*p).Tok->data[(*p).Idx].Kind) {
			case ((NU8) 5):
			{
				{
					NIM_BOOL LOC6;
					LOC6 = 0;
					LOC6 = isinlinemarkupend_323884((&(*p)), postfix);
					if (!LOC6) goto LA7;
					(*p).Idx += 1;
					goto LA1;
				}
				goto LA4;
				LA7: ;
				{
					if (!interpretbackslash) goto LA10;
					parsebackslash_324749(p, father);
				}
				goto LA4;
				LA10: ;
				{
					trstnode321011* LOC13;
					LOC13 = 0;
					LOC13 = newleaf_323762(p);
					add_321183(father, LOC13);
					(*p).Idx += 1;
				}
				LA4: ;
			}
			break;
			case ((NU8) 4):
			case ((NU8) 3):
			case ((NU8) 6):
			{
				trstnode321011* LOC15;
				LOC15 = 0;
				LOC15 = newleaf_323762(p);
				add_321183(father, LOC15);
				(*p).Idx += 1;
			}
			break;
			case ((NU8) 1):
			{
				trstnode321011* LOC17;
				LOC17 = 0;
				LOC17 = newrstnode_321151(((NU8) 64), ((NimStringDesc*) &TMP2546));
				add_321183(father, LOC17);
				(*p).Idx += 1;
				{
					if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA20;
					rstmessage_322983((&(*p)), ((NU8) 1), postfix, line, col);
					goto LA1;
				}
				LA20: ;
			}
			break;
			case ((NU8) 2):
			{
				trstnode321011* LOC23;
				LOC23 = 0;
				LOC23 = newrstnode_321151(((NU8) 64), ((NimStringDesc*) &TMP2546));
				add_321183(father, LOC23);
				(*p).Idx += 1;
			}
			break;
			default:
			{
				rstmessage_322983((&(*p)), ((NU8) 1), postfix, line, col);
			}
			break;
			}
		}
	} LA1: ;
}

N_NIMCALL(trstnode321011*, parsemarkdowncodeblock_325104)(trstparser322659* p) {
	trstnode321011* result;
	trstnode321011* args;
	trstnode321011* n;
	trstnode321011* lb;
	result = 0;
	args = newrstnode_321105(((NU8) 41));
	{
		trstnode321011* LOC5;
		if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 3))) goto LA3;
		LOC5 = 0;
		LOC5 = newleaf_323762(p);
		add_321183(args, LOC5);
		(*p).Idx += 1;
	}
	goto LA1;
	LA3: ;
	{
		args = NIM_NIL;
	}
	LA1: ;
	n = newrstnode_321151(((NU8) 64), ((NimStringDesc*) &TMP2121));
	{
		while (1) {
			switch ((*p).Tok->data[(*p).Idx].Kind) {
			case ((NU8) 0):
			{
				rstmessage_322972((&(*p)), ((NU8) 1), ((NimStringDesc*) &TMP2548));
				goto LA7;
			}
			break;
			case ((NU8) 5):
			{
				{
					if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2548))) goto LA13;
					(*p).Idx += 1;
					goto LA7;
				}
				goto LA11;
				LA13: ;
				{
					(*n).Text = resizeString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol->Sup.len + 0);
appendString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol);
					(*p).Idx += 1;
				}
				LA11: ;
			}
			break;
			default:
			{
				(*n).Text = resizeString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol->Sup.len + 0);
appendString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol);
				(*p).Idx += 1;
			}
			break;
			}
		}
	} LA7: ;
	lb = newrstnode_321105(((NU8) 24));
	add_321183(lb, n);
	result = newrstnode_321105(((NU8) 47));
	add_321183(result, args);
	add_321183(result, NIM_NIL);
	add_321183(result, lb);
	return result;
}

N_NIMCALL(void, fixupembeddedref_324178)(trstnode321011* n, trstnode321011* a, trstnode321011* b) {
	NI sep;
	NI incr;
	sep = -1;
	{
		NI i_324195;
		NI HEX3Atmp_324225;
		NI LOC2;
		NI res_324228;
		i_324195 = 0;
		HEX3Atmp_324225 = 0;
		LOC2 = 0;
		LOC2 = len_321084(n);
		HEX3Atmp_324225 = (NI32)(LOC2 - 2);
		res_324228 = HEX3Atmp_324225;
		{
			while (1) {
				if (!(0 <= res_324228)) goto LA4;
				i_324195 = res_324228;
				{
					if (!eqStrings((*(*n).Sons->data[i_324195]).Text, ((NimStringDesc*) &TMP2552))) goto LA7;
					sep = i_324195;
					goto LA1;
				}
				LA7: ;
				res_324228 -= 1;
			} LA4: ;
		}
	} LA1: ;
	{
		NIM_BOOL LOC11;
		LOC11 = 0;
		LOC11 = (0 < sep);
		if (!(LOC11)) goto LA12;
		LOC11 = ((NU8)((*(*n).Sons->data[(NI32)(sep - 1)]).Text->data[0]) == (NU8)(32));
		LA12: ;
		if (!LOC11) goto LA13;
		incr = 2;
	}
	goto LA9;
	LA13: ;
	{
		incr = 1;
	}
	LA9: ;
	{
		NI i_324210;
		NI HEX3Atmp_324230;
		NI res_324233;
		i_324210 = 0;
		HEX3Atmp_324230 = 0;
		HEX3Atmp_324230 = (NI32)(sep - incr);
		res_324233 = 0;
		{
			while (1) {
				if (!(res_324233 <= HEX3Atmp_324230)) goto LA18;
				i_324210 = res_324233;
				add_321183(a, (*n).Sons->data[i_324210]);
				res_324233 += 1;
			} LA18: ;
		}
	}
	{
		NI i_324223;
		NI HEX3Atmp_324236;
		NI HEX3Atmp_324237;
		NI LOC20;
		NI res_324240;
		i_324223 = 0;
		HEX3Atmp_324236 = 0;
		HEX3Atmp_324237 = 0;
		HEX3Atmp_324236 = (NI32)(sep + 1);
		LOC20 = 0;
		LOC20 = len_321084(n);
		HEX3Atmp_324237 = (NI32)(LOC20 - 2);
		res_324240 = HEX3Atmp_324236;
		{
			while (1) {
				if (!(res_324240 <= HEX3Atmp_324237)) goto LA22;
				i_324223 = res_324240;
				add_321183(b, (*n).Sons->data[i_324223]);
				res_324240 += 1;
			} LA22: ;
		}
	}
}

N_NIMCALL(void, setref_323654)(trstparser322659* p, NimStringDesc* key, trstnode321011* value) {
	NI length;
	NimStringDesc* LOC14;
{	length = (*(*p).S).Refs->Sup.len;
	{
		NI i_323684;
		NI HEX3Atmp_323702;
		NI res_323705;
		i_323684 = 0;
		HEX3Atmp_323702 = 0;
		HEX3Atmp_323702 = (NI32)(length - 1);
		res_323705 = 0;
		{
			while (1) {
				if (!(res_323705 <= HEX3Atmp_323702)) goto LA3;
				i_323684 = res_323705;
				{
					if (!eqStrings(key, (*(*p).S).Refs->data[i_323684].Key)) goto LA6;
					{
						NimStringDesc* LOC10;
						NimStringDesc* LOC11;
						LOC10 = 0;
						LOC10 = addnodes_322067((*(*p).S).Refs->data[i_323684].Value);
						LOC11 = 0;
						LOC11 = addnodes_322067(value);
						if (!!(eqStrings(LOC10, LOC11))) goto LA12;
						rstmessage_322972((&(*p)), ((NU8) 6), key);
					}
					LA12: ;
					asgnRefNoCycle((void**) (&(*(*p).S).Refs->data[i_323684].Value), value);
					goto BeforeRet;
				}
				LA6: ;
				res_323705 += 1;
			} LA3: ;
		}
	}
	(*(*p).S).Refs = (TY322669*) setLengthSeq(&((*(*p).S).Refs)->Sup, sizeof(tsubstitution322653), (NI32)(length + 1));
	LOC14 = 0;
	LOC14 = (*(*p).S).Refs->data[length].Key; (*(*p).S).Refs->data[length].Key = copyStringRC1(key);
	if (LOC14) nimGCunrefNoCycle(LOC14);
	asgnRefNoCycle((void**) (&(*(*p).S).Refs->data[length].Value), value);
	}BeforeRet: ;
}

N_NIMCALL(trstnode321011*, parsepostfix_324275)(trstparser322659* p, trstnode321011* n) {
	trstnode321011* result;
	result = 0;
	result = n;
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = isinlinemarkupend_323884((&(*p)), ((NimStringDesc*) &TMP2550));
		if (!LOC3) goto LA4;
		(*p).Idx += 1;
		{
			NIM_BOOL LOC8;
			trstnode321011* a;
			trstnode321011* b;
			LOC8 = 0;
			LOC8 = eqStrings((*p).Tok->data[(NI32)((*p).Idx - 2)].Symbol, ((NimStringDesc*) &TMP2549));
			if (!(LOC8)) goto LA9;
			LOC8 = eqStrings((*p).Tok->data[(NI32)((*p).Idx - 3)].Symbol, ((NimStringDesc*) &TMP2551));
			LA9: ;
			if (!LOC8) goto LA10;
			a = newrstnode_321105(((NU8) 0));
			b = newrstnode_321105(((NU8) 0));
			fixupembeddedref_324178(n, a, b);
			{
				NI LOC14;
				LOC14 = 0;
				LOC14 = len_321084(a);
				if (!(LOC14 == 0)) goto LA15;
				result = newrstnode_321105(((NU8) 37));
				add_321183(result, b);
			}
			goto LA12;
			LA15: ;
			{
				NimStringDesc* LOC18;
				result = newrstnode_321105(((NU8) 38));
				add_321183(result, a);
				add_321183(result, b);
				LOC18 = 0;
				LOC18 = rstnodetorefname_322061(a);
				setref_323654(p, LOC18, b);
			}
			LA12: ;
		}
		goto LA6;
		LA10: ;
		{
			if (!((*n).Kind == ((NU8) 60))) goto LA20;
			(*n).Kind = ((NU8) 39);
		}
		goto LA6;
		LA20: ;
		{
			result = newrstnode_321105(((NU8) 39));
			add_321183(result, n);
		}
		LA6: ;
	}
	goto LA1;
	LA4: ;
	{
		NIM_BOOL LOC24;
		LOC24 = 0;
		LOC24 = match_323995((&(*p)), (*p).Idx, ((NimStringDesc*) &TMP2519));
		if (!LOC24) goto LA25;
		{
			if (!eqStrings((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2553))) goto LA29;
			(*n).Kind = ((NU8) 56);
		}
		goto LA27;
		LA29: ;
		{
			if (!eqStrings((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2554))) goto LA32;
			(*n).Kind = ((NU8) 61);
		}
		goto LA27;
		LA32: ;
		{
			if (!eqStrings((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2555))) goto LA35;
			(*n).Kind = ((NU8) 58);
		}
		goto LA27;
		LA35: ;
		{
			if (!eqStrings((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2556))) goto LA38;
			(*n).Kind = ((NU8) 57);
		}
		goto LA27;
		LA38: ;
		{
			NIM_BOOL LOC41;
			LOC41 = 0;
			LOC41 = eqStrings((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2557));
			if (LOC41) goto LA42;
			LOC41 = eqStrings((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2558));
			LA42: ;
			if (!LOC41) goto LA43;
			(*n).Kind = ((NU8) 54);
		}
		goto LA27;
		LA43: ;
		{
			NIM_BOOL LOC46;
			LOC46 = 0;
			LOC46 = eqStrings((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2559));
			if (LOC46) goto LA47;
			LOC46 = eqStrings((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2560));
			LA47: ;
			if (!LOC46) goto LA48;
			(*n).Kind = ((NU8) 55);
		}
		goto LA27;
		LA48: ;
		{
			trstnode321011* LOC51;
			result = newrstnode_321105(((NU8) 53));
			(*n).Kind = ((NU8) 0);
			add_321183(result, n);
			LOC51 = 0;
			LOC51 = newrstnode_321151(((NU8) 64), (*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol);
			add_321183(result, LOC51);
		}
		LA27: ;
		(*p).Idx += 3;
	}
	goto LA1;
	LA25: ;
	LA1: ;
	return result;
}

N_NIMCALL(NI, matchverbatim_324322)(trstparser322659* p, NI start, NimStringDesc* expr) {
	NI result;
	NI j;
	result = 0;
	result = start;
	j = 0;
	{
		while (1) {
			NIM_BOOL LOC3;
			NIM_BOOL LOC4;
			LOC3 = 0;
			LOC4 = 0;
			LOC4 = (j < expr->Sup.len);
			if (!(LOC4)) goto LA5;
			LOC4 = (result < (*p).Tok->Sup.len);
			LA5: ;
			LOC3 = LOC4;
			if (!(LOC3)) goto LA6;
			LOC3 = nsuContinuesWith(expr, (*p).Tok->data[result].Symbol, j);
			LA6: ;
			if (!LOC3) goto LA2;
			j += (*p).Tok->data[result].Symbol->Sup.len;
			result += 1;
		} LA2: ;
	}
	{
		if (!(j < expr->Sup.len)) goto LA9;
		result = 0;
	}
	LA9: ;
	return result;
}

N_NIMCALL(trstnode321011*, parsesmiley_324380)(trstparser322659* p) {
	trstnode321011* result;
{	result = 0;
	{
		if (!!((((NU8)((*p).Tok->data[(*p).Idx].Symbol->data[0])) == ((NU8)(58)) || ((NU8)((*p).Tok->data[(*p).Idx].Symbol->data[0])) == ((NU8)(59)) || ((NU8)((*p).Tok->data[(*p).Idx].Symbol->data[0])) == ((NU8)(56))))) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	{
		NimStringDesc* key_324441;
		NimStringDesc* val_324442;
		NI i_324448;
		key_324441 = 0;
		val_324442 = 0;
		i_324448 = 0;
		{
			if (!(((NI) (i_324448)) <= 33)) goto LA8;
			{
				while (1) {
					NI m;
					key_324441 = smilies_322092[(i_324448)- 0].Field0;
					val_324442 = smilies_322092[(i_324448)- 0].Field1;
					m = matchverbatim_324322((&(*p)), (*p).Idx, key_324441);
					{
						NimStringDesc* LOC16;
						if (!(0 < m)) goto LA14;
						(*p).Idx = m;
						result = newrstnode_321105(((NU8) 63));
						LOC16 = 0;
						LOC16 = (*result).Text; (*result).Text = copyStringRC1(val_324442);
						if (LOC16) nimGCunrefNoCycle(LOC16);
						goto BeforeRet;
					}
					LA14: ;
					{
						if (!(33 <= ((NI) (i_324448)))) goto LA19;
						goto LA10;
					}
					LA19: ;
					i_324448 += 1;
				}
			} LA10: ;
		}
		LA8: ;
	}
	}BeforeRet: ;
	return result;
}

static N_INLINE(NI, find_324631)(NimStringDesc** a_324636, NI a_324636Len0, NimStringDesc* item_324638) {
	NI result;
{	result = 0;
	{
		NimStringDesc* i_324651;
		NI i_324667;
		i_324651 = 0;
		i_324667 = 0;
		{
			while (1) {
				if (!(i_324667 < a_324636Len0)) goto LA3;
				i_324651 = a_324636[i_324667];
				{
					if (!eqStrings(i_324651, item_324638)) goto LA6;
					goto BeforeRet;
				}
				LA6: ;
				result += 1;
				i_324667 += 1;
			} LA3: ;
		}
	}
	result = -1;
	}BeforeRet: ;
	return result;
}

static N_INLINE(NIM_BOOL, contains_324619)(NimStringDesc** a_324625, NI a_324625Len0, NimStringDesc* item_324628) {
	NIM_BOOL result;
	NI LOC1;
{	result = 0;
	LOC1 = 0;
	LOC1 = find_324631(a_324625, a_324625Len0, item_324628);
	result = (0 <= LOC1);
	goto BeforeRet;
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NIM_BOOL, isurl_324601)(trstparser322659* p, NI i) {
	NIM_BOOL result;
	NIM_BOOL LOC1;
	NIM_BOOL LOC2;
	NIM_BOOL LOC3;
	result = 0;
	LOC1 = 0;
	LOC2 = 0;
	LOC3 = 0;
	LOC3 = eqStrings((*p).Tok->data[(NI32)(i + 1)].Symbol, ((NimStringDesc*) &TMP2619));
	if (!(LOC3)) goto LA4;
	LOC3 = eqStrings((*p).Tok->data[(NI32)(i + 2)].Symbol, ((NimStringDesc*) &TMP2620));
	LA4: ;
	LOC2 = LOC3;
	if (!(LOC2)) goto LA5;
	LOC2 = ((*p).Tok->data[(NI32)(i + 3)].Kind == ((NU8) 3));
	LA5: ;
	LOC1 = LOC2;
	if (!(LOC1)) goto LA6;
	LOC1 = contains_324619(TMP2621, 5, (*p).Tok->data[i].Symbol);
	LA6: ;
	result = LOC1;
	return result;
}

N_NIMCALL(void, parseurl_324691)(trstparser322659* p, trstnode321011* father) {
	{
		NIM_BOOL LOC3;
		trstnode321011* n;
		LOC3 = 0;
		LOC3 = isurl_324601((&(*p)), (*p).Idx);
		if (!LOC3) goto LA4;
		n = newrstnode_321105(((NU8) 37));
		{
			while (1) {
				trstnode321011* LOC15;
				switch ((*p).Tok->data[(*p).Idx].Kind) {
				case ((NU8) 3):
				case ((NU8) 4):
				case ((NU8) 6):
				{
				}
				break;
				case ((NU8) 5):
				{
					{
						if (!!(((120 &(1<<(((*p).Tok->data[(NI32)((*p).Idx + 1)].Kind)&7)))!=0))) goto LA12;
						goto LA6;
					}
					LA12: ;
				}
				break;
				default:
				{
					goto LA6;
				}
				break;
				}
				LOC15 = 0;
				LOC15 = newleaf_323762(p);
				add_321183(n, LOC15);
				(*p).Idx += 1;
			}
		} LA6: ;
		add_321183(father, n);
	}
	goto LA1;
	LA4: ;
	{
		trstnode321011* n;
		n = newleaf_323762(p);
		(*p).Idx += 1;
		{
			if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2550))) goto LA19;
			n = parsepostfix_324275(p, n);
		}
		LA19: ;
		add_321183(father, n);
	}
	LA1: ;
}

N_NIMCALL(void, parseinline_325182)(trstparser322659* p, trstnode321011* father) {
{	switch ((*p).Tok->data[(*p).Idx].Kind) {
	case ((NU8) 5):
	{
		{
			NIM_BOOL LOC4;
			trstnode321011* n;
			LOC4 = 0;
			LOC4 = isinlinemarkupstart_323938((&(*p)), ((NimStringDesc*) &TMP2542));
			if (!LOC4) goto LA5;
			n = newrstnode_321105(((NU8) 59));
			parseuntil_325001(p, n, ((NimStringDesc*) &TMP2542), NIM_TRUE);
			add_321183(father, n);
		}
		goto LA2;
		LA5: ;
		{
			NIM_BOOL LOC8;
			trstnode321011* n;
			LOC8 = 0;
			LOC8 = isinlinemarkupstart_323938((&(*p)), ((NimStringDesc*) &TMP2547));
			if (!LOC8) goto LA9;
			n = newrstnode_321105(((NU8) 58));
			parseuntil_325001(p, n, ((NimStringDesc*) &TMP2547), NIM_TRUE);
			add_321183(father, n);
		}
		goto LA2;
		LA9: ;
		{
			NIM_BOOL LOC12;
			trstnode321011* n;
			LOC12 = 0;
			LOC12 = isinlinemarkupstart_323938((&(*p)), ((NimStringDesc*) &TMP2515));
			if (!LOC12) goto LA13;
			n = newrstnode_321105(((NU8) 57));
			parseuntil_325001(p, n, ((NimStringDesc*) &TMP2515), NIM_TRUE);
			add_321183(father, n);
		}
		goto LA2;
		LA13: ;
		{
			NIM_BOOL LOC16;
			trstnode321011* LOC20;
			LOC16 = 0;
			LOC16 = (((*(*p).S).Options &(1<<((((NU8) 3))&7)))!=0);
			if (!(LOC16)) goto LA17;
			LOC16 = eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2548));
			LA17: ;
			if (!LOC16) goto LA18;
			(*p).Idx += 1;
			LOC20 = 0;
			LOC20 = parsemarkdowncodeblock_325104(p);
			add_321183(father, LOC20);
		}
		goto LA2;
		LA18: ;
		{
			NIM_BOOL LOC22;
			trstnode321011* n;
			LOC22 = 0;
			LOC22 = isinlinemarkupstart_323938((&(*p)), ((NimStringDesc*) &TMP2544));
			if (!LOC22) goto LA23;
			n = newrstnode_321105(((NU8) 61));
			parseuntil_325001(p, n, ((NimStringDesc*) &TMP2544), NIM_FALSE);
			add_321183(father, n);
		}
		goto LA2;
		LA23: ;
		{
			NIM_BOOL LOC26;
			trstnode321011* n;
			LOC26 = 0;
			LOC26 = isinlinemarkupstart_323938((&(*p)), ((NimStringDesc*) &TMP2549));
			if (!LOC26) goto LA27;
			n = newrstnode_321105(((NU8) 60));
			parseuntil_325001(p, n, ((NimStringDesc*) &TMP2549), NIM_TRUE);
			n = parsepostfix_324275(p, n);
			add_321183(father, n);
		}
		goto LA2;
		LA27: ;
		{
			NIM_BOOL LOC30;
			trstnode321011* n;
			LOC30 = 0;
			LOC30 = isinlinemarkupstart_323938((&(*p)), ((NimStringDesc*) &TMP2517));
			if (!LOC30) goto LA31;
			n = newrstnode_321105(((NU8) 62));
			parseuntil_325001(p, n, ((NimStringDesc*) &TMP2517), NIM_FALSE);
			add_321183(father, n);
		}
		goto LA2;
		LA31: ;
		{
			{
				trstnode321011* n;
				if (!(((*(*p).S).Options &(1<<((((NU8) 1))&7)))!=0)) goto LA36;
				n = parsesmiley_324380(p);
				{
					if (!!((n == NIM_NIL))) goto LA40;
					add_321183(father, n);
					goto BeforeRet;
				}
				LA40: ;
			}
			LA36: ;
			parsebackslash_324749(p, father);
		}
		LA2: ;
	}
	break;
	case ((NU8) 3):
	{
		{
			trstnode321011* n;
			if (!(((*(*p).S).Options &(1<<((((NU8) 1))&7)))!=0)) goto LA45;
			n = parsesmiley_324380(p);
			{
				if (!!((n == NIM_NIL))) goto LA49;
				add_321183(father, n);
				goto BeforeRet;
			}
			LA49: ;
		}
		LA45: ;
		parseurl_324691(p, father);
	}
	break;
	case ((NU8) 4):
	case ((NU8) 6):
	case ((NU8) 2):
	{
		trstnode321011* LOC60;
		{
			trstnode321011* n;
			if (!(((*(*p).S).Options &(1<<((((NU8) 1))&7)))!=0)) goto LA54;
			n = parsesmiley_324380(p);
			{
				if (!!((n == NIM_NIL))) goto LA58;
				add_321183(father, n);
				goto BeforeRet;
			}
			LA58: ;
		}
		LA54: ;
		LOC60 = 0;
		LOC60 = newleaf_323762(p);
		add_321183(father, LOC60);
		(*p).Idx += 1;
	}
	break;
	default:
	{
	}
	break;
	}
	}BeforeRet: ;
}

N_NIMCALL(void, parseline_325683)(trstparser322659* p, trstnode321011* father) {
	{
		while (1) {
			switch ((*p).Tok->data[(*p).Idx].Kind) {
			case ((NU8) 2):
			case ((NU8) 3):
			case ((NU8) 6):
			case ((NU8) 5):
			{
				parseinline_325182(p, father);
			}
			break;
			default:
			{
				goto LA1;
			}
			break;
			}
		}
	} LA1: ;
}

N_NIMCALL(trstnode321011*, parsefield_325727)(trstparser322659* p) {
	trstnode321011* result;
	NI col;
	trstnode321011* fieldname;
	trstnode321011* fieldbody;
	result = 0;
	result = newrstnode_321105(((NU8) 14));
	col = (*p).Tok->data[(*p).Idx].Col;
	fieldname = newrstnode_321105(((NU8) 15));
	parseuntil_325001(p, fieldname, ((NimStringDesc*) &TMP2619), NIM_FALSE);
	fieldbody = newrstnode_321105(((NU8) 16));
	{
		if (!!(((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1)))) goto LA3;
		parseline_325683(p, fieldbody);
	}
	LA3: ;
	{
		NI indent;
		if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA7;
		indent = (*p).Tok->data[(*p).Idx].Ival;
		{
			if (!(col < indent)) goto LA11;
			pushind_323211(p, indent);
			parsesection_325719(p, fieldbody);
			popind_323240(p);
		}
		LA11: ;
	}
	LA7: ;
	add_321183(result, fieldname);
	add_321183(result, fieldbody);
	return result;
}

N_NIMCALL(trstnode321011*, parsefields_325761)(trstparser322659* p) {
	trstnode321011* result;
	NIM_BOOL atstart;
	NIM_BOOL LOC1;
	result = 0;
	result = NIM_NIL;
	LOC1 = 0;
	LOC1 = ((*p).Idx == 0);
	if (!(LOC1)) goto LA2;
	LOC1 = eqStrings((*p).Tok->data[0].Symbol, ((NimStringDesc*) &TMP2619));
	LA2: ;
	atstart = LOC1;
	{
		NIM_BOOL LOC5;
		NIM_BOOL LOC6;
		NI col;
		LOC5 = 0;
		LOC6 = 0;
		LOC6 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
		if (!(LOC6)) goto LA7;
		LOC6 = eqStrings((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2619));
		LA7: ;
		LOC5 = LOC6;
		if (LOC5) goto LA8;
		LOC5 = atstart;
		LA8: ;
		if (!LOC5) goto LA9;
		{
			if (!atstart) goto LA13;
			col = (*p).Tok->data[(*p).Idx].Col;
		}
		goto LA11;
		LA13: ;
		{
			col = (*p).Tok->data[(*p).Idx].Ival;
		}
		LA11: ;
		result = newrstnode_321105(((NU8) 13));
		{
			if (!!(atstart)) goto LA18;
			(*p).Idx += 1;
		}
		LA18: ;
		{
			while (1) {
				trstnode321011* LOC22;
				LOC22 = 0;
				LOC22 = parsefield_325727(p);
				add_321183(result, LOC22);
				{
					NIM_BOOL LOC25;
					NIM_BOOL LOC26;
					LOC25 = 0;
					LOC26 = 0;
					LOC26 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
					if (!(LOC26)) goto LA27;
					LOC26 = ((*p).Tok->data[(*p).Idx].Ival == col);
					LA27: ;
					LOC25 = LOC26;
					if (!(LOC25)) goto LA28;
					LOC25 = eqStrings((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2619));
					LA28: ;
					if (!LOC25) goto LA29;
					(*p).Idx += 1;
				}
				goto LA23;
				LA29: ;
				{
					goto LA20;
				}
				LA23: ;
			}
		} LA20: ;
	}
	LA9: ;
	return result;
}

N_NIMCALL(trstnode321011*, parsedirective_329023)(trstparser322659* p, NU8 flags) {
	trstnode321011* result;
	trstnode321011* args;
	trstnode321011* options;
	result = 0;
	result = newrstnode_321105(((NU8) 40));
	args = NIM_NIL;
	options = NIM_NIL;
	{
		if (!((flags &(1<<((((NU8) 0))&7)))!=0)) goto LA3;
		args = newrstnode_321105(((NU8) 41));
		{
			if (!((flags &(1<<((((NU8) 2))&7)))!=0)) goto LA7;
			{
				while (1) {
					switch ((*p).Tok->data[(*p).Idx].Kind) {
					case ((NU8) 3):
					case ((NU8) 6):
					case ((NU8) 5):
					case ((NU8) 4):
					{
						trstnode321011* LOC12;
						LOC12 = 0;
						LOC12 = newleaf_323762(p);
						add_321183(args, LOC12);
						(*p).Idx += 1;
					}
					break;
					default:
					{
						goto LA9;
					}
					break;
					}
				}
			} LA9: ;
		}
		goto LA5;
		LA7: ;
		{
			if (!((flags &(1<<((((NU8) 3))&7)))!=0)) goto LA15;
			{
				while (1) {
					if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2))) goto LA18;
					(*p).Idx += 1;
				} LA18: ;
			}
			{
				trstnode321011* LOC23;
				if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 3))) goto LA21;
				LOC23 = 0;
				LOC23 = newleaf_323762(p);
				add_321183(args, LOC23);
				(*p).Idx += 1;
			}
			goto LA19;
			LA21: ;
			{
				args = NIM_NIL;
			}
			LA19: ;
		}
		goto LA5;
		LA15: ;
		{
			parseline_325683(p, args);
		}
		LA5: ;
	}
	LA3: ;
	add_321183(result, args);
	{
		if (!((flags &(1<<((((NU8) 1))&7)))!=0)) goto LA28;
		{
			NIM_BOOL LOC32;
			NIM_BOOL LOC33;
			LOC32 = 0;
			LOC33 = 0;
			LOC33 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
			if (!(LOC33)) goto LA34;
			LOC33 = (3 <= (*p).Tok->data[(*p).Idx].Ival);
			LA34: ;
			LOC32 = LOC33;
			if (!(LOC32)) goto LA35;
			LOC32 = eqStrings((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2619));
			LA35: ;
			if (!LOC32) goto LA36;
			options = parsefields_325761(p);
		}
		LA36: ;
	}
	LA28: ;
	add_321183(result, options);
	return result;
}

N_NIMCALL(NIM_BOOL, indfollows_329168)(trstparser322659* p) {
	NIM_BOOL result;
	NIM_BOOL LOC1;
	NI LOC3;
	result = 0;
	LOC1 = 0;
	LOC1 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
	if (!(LOC1)) goto LA2;
	LOC3 = 0;
	LOC3 = currind_323201(p);
	LOC1 = (LOC3 < (*p).Tok->data[(*p).Idx].Ival);
	LA2: ;
	result = LOC1;
	return result;
}

N_NIMCALL(trstnode321011*, parsedirective_329188)(trstparser322659* p, NU8 flags, tsectionparser329012 contentparser) {
	trstnode321011* result;
	result = 0;
	result = parsedirective_329023(p, flags);
	{
		NIM_BOOL LOC3;
		trstnode321011* content;
		LOC3 = 0;
		LOC3 = !(contentparser == 0);
		if (!(LOC3)) goto LA4;
		LOC3 = indfollows_329168((&(*p)));
		LA4: ;
		if (!LOC3) goto LA5;
		pushind_323211(p, (*p).Tok->data[(*p).Idx].Ival);
		content = contentparser(p);
		popind_323240(p);
		add_321183(result, content);
	}
	goto LA1;
	LA5: ;
	{
		add_321183(result, NIM_NIL);
	}
	LA1: ;
	return result;
}

N_NIMCALL(trstnode321011*, dirinclude_329221)(trstparser322659* p) {
	trstnode321011* result;
	trstnode321011* n;
	NimStringDesc* filename;
	NimStringDesc* LOC1;
	NimStringDesc* path;
	result = 0;
	result = NIM_NIL;
	n = parsedirective_329188(p, 7, NIM_NIL);
	LOC1 = 0;
	LOC1 = addnodes_322067((*n).Sons->data[0]);
	filename = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE);
	path = (*(*p).S).Findfile(filename);
	{
		if (!((path) && (path)->Sup.len == 0)) goto LA4;
		rstmessage_322972((&(*p)), ((NU8) 0), filename);
	}
	goto LA2;
	LA4: ;
	{
		{
			NimStringDesc* LOC9;
			NimStringDesc* LOC12;
			trstnode321011* LOC13;
			LOC9 = 0;
			LOC9 = getfieldvalue_322073(n, ((NimStringDesc*) &TMP2554));
			if (!!(((LOC9) && (LOC9)->Sup.len == 0))) goto LA10;
			result = newrstnode_321105(((NU8) 24));
			LOC12 = 0;
			LOC12 = readfile_13242(path);
			LOC13 = 0;
			LOC13 = newrstnode_321151(((NU8) 64), LOC12);
			add_321183(result, LOC13);
		}
		goto LA7;
		LA10: ;
		{
			trstparser322659 q;
			NimStringDesc* LOC15;
			NI LOC16;
			memset((void*)(&q), 0, sizeof(q));
			q.Sup.m_type = (&NTI322659);
			initparser_323289((&q), (*p).S);
			q.Filename = copyString(filename);
			LOC15 = 0;
			LOC15 = readfile_13242(path);
			LOC16 = 0;
			LOC16 = gettokens_322465(LOC15, NIM_FALSE, (&q.Tok));
			q.Col += LOC16;
			result = parsedoc_327678((&q));
		}
		LA7: ;
	}
	LA2: ;
	return result;
}

N_NIMCALL(trstnode321011*, dirimage_329807)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	result = parsedirective_329188(p, 7, NIM_NIL);
	(*result).Kind = ((NU8) 45);
	return result;
}

N_NIMCALL(trstnode321011*, dirfigure_329819)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	result = parsedirective_329188(p, 7, parsesectionwrapper_328925);
	(*result).Kind = ((NU8) 46);
	return result;
}

N_NIMCALL(trstnode321011*, dirtitle_329831)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	result = parsedirective_329188(p, 1, NIM_NIL);
	(*result).Kind = ((NU8) 43);
	return result;
}

N_NIMCALL(trstnode321011*, dircontainer_329408)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	result = parsedirective_329188(p, 1, parsesectionwrapper_328925);
	(*result).Kind = ((NU8) 50);
	return result;
}

N_NIMCALL(trstnode321011*, dircontents_329843)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	result = parsedirective_329188(p, 1, NIM_NIL);
	(*result).Kind = ((NU8) 44);
	return result;
}

N_NIMCALL(trstnode321011*, parsedirbody_329209)(trstparser322659* p, tsectionparser329012 contentparser) {
	trstnode321011* result;
	result = 0;
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = indfollows_329168((&(*p)));
		if (!LOC3) goto LA4;
		pushind_323211(p, (*p).Tok->data[(*p).Idx].Ival);
		result = contentparser(p);
		popind_323240(p);
	}
	LA4: ;
	return result;
}

N_NIMCALL(void, dirrawaux_329868)(trstparser322659* p, trstnode321011** result, NU8 kind, tsectionparser329012 contentparser) {
	NimStringDesc* filename;
	filename = getfieldvalue_322073((*result), ((NimStringDesc*) &TMP2626));
	{
		NimStringDesc* path;
		if (!(0 < filename->Sup.len)) goto LA3;
		path = (*(*p).S).Findfile(filename);
		{
			if (!(path->Sup.len == 0)) goto LA7;
			rstmessage_322972((&(*p)), ((NU8) 0), filename);
		}
		goto LA5;
		LA7: ;
		{
			NimStringDesc* f;
			trstnode321011* LOC10;
			f = readfile_13242(path);
			unsureAsgnRef((void**) (&(*result)), newrstnode_321105(kind));
			LOC10 = 0;
			LOC10 = newrstnode_321151(((NU8) 64), f);
			add_321183((*result), LOC10);
		}
		LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		trstnode321011* LOC12;
		(*(*result)).Kind = kind;
		LOC12 = 0;
		LOC12 = parsedirbody_329209(p, contentparser);
		add_321183((*result), LOC12);
	}
	LA1: ;
}

N_NIMCALL(trstnode321011*, dirraw_329886)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	result = parsedirective_329023(p, 11);
	{
		if (!!(((*result).Sons->data[0] == NIM_NIL))) goto LA3;
		{
			NI LOC7;
			LOC7 = 0;
			LOC7 = nsuCmpIgnoreCase((*(*(*result).Sons->data[0]).Sons->data[0]).Text, ((NimStringDesc*) &TMP2629));
			if (!(LOC7 == 0)) goto LA8;
			dirrawaux_329868(p, &result, ((NU8) 48), parseliteralblock_326707);
		}
		goto LA5;
		LA8: ;
		{
			NI LOC11;
			LOC11 = 0;
			LOC11 = nsuCmpIgnoreCase((*(*(*result).Sons->data[0]).Sons->data[0]).Text, ((NimStringDesc*) &TMP2630));
			if (!(LOC11 == 0)) goto LA12;
			dirrawaux_329868(p, &result, ((NU8) 49), parseliteralblock_326707);
		}
		goto LA5;
		LA12: ;
		{
			rstmessage_322972((&(*p)), ((NU8) 5), (*(*(*result).Sons->data[0]).Sons->data[0]).Text);
		}
		LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		dirrawaux_329868(p, &result, ((NU8) 42), parsesectionwrapper_328925);
	}
	LA1: ;
	return result;
}

N_NIMCALL(trstnode321011*, dircodeblock_329253)(trstparser322659* p, NIM_BOOL nimrodextension) {
	trstnode321011* result;
	NimStringDesc* filename;
	NimStringDesc* LOC1;
	result = 0;
	result = parsedirective_329188(p, 3, parseliteralblock_326707);
	LOC1 = 0;
	LOC1 = getfieldvalue_322073(result, ((NimStringDesc*) &TMP2626));
	filename = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE);
	{
		NimStringDesc* path;
		trstnode321011* n;
		NimStringDesc* LOC10;
		trstnode321011* LOC11;
		if (!!(((filename) && (filename)->Sup.len == 0))) goto LA4;
		path = (*(*p).S).Findfile(filename);
		{
			if (!((path) && (path)->Sup.len == 0)) goto LA8;
			rstmessage_322972((&(*p)), ((NU8) 0), filename);
		}
		LA8: ;
		n = newrstnode_321105(((NU8) 24));
		LOC10 = 0;
		LOC10 = readfile_13242(path);
		LOC11 = 0;
		LOC11 = newrstnode_321151(((NU8) 64), LOC10);
		add_321183(n, LOC11);
		asgnRefNoCycle((void**) (&(*result).Sons->data[2]), n);
	}
	LA4: ;
	{
		trstnode321011* extranode;
		trstnode321011* LOC20;
		trstnode321011* LOC21;
		trstnode321011* LOC22;
		trstnode321011* LOC23;
		if (!nimrodextension) goto LA14;
		{
			if (!(*result).Sons->data[1] == 0) goto LA18;
			asgnRefNoCycle((void**) (&(*result).Sons->data[1]), newrstnode_321105(((NU8) 13)));
		}
		LA18: ;
		extranode = newrstnode_321105(((NU8) 14));
		LOC20 = 0;
		LOC20 = newrstnode_321105(((NU8) 15));
		add_321183(extranode, LOC20);
		LOC21 = 0;
		LOC21 = newrstnode_321105(((NU8) 16));
		add_321183(extranode, LOC21);
		LOC22 = 0;
		LOC22 = newrstnode_321151(((NU8) 64), ((NimStringDesc*) &TMP2631));
		add_321183((*extranode).Sons->data[0], LOC22);
		LOC23 = 0;
		LOC23 = newrstnode_321151(((NU8) 64), ((NimStringDesc*) &TMP2632));
		add_321183((*extranode).Sons->data[1], LOC23);
		add_321183((*result).Sons->data[1], extranode);
	}
	LA14: ;
	(*result).Kind = ((NU8) 47);
	return result;
}

N_NIMCALL(trstnode321011*, dirindex_329855)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	result = parsedirective_329188(p, 0, parsesectionwrapper_328925);
	(*result).Kind = ((NU8) 51);
	return result;
}

N_NIMCALL(trstnode321011*, getreferencename_323773)(trstparser322659* p, NimStringDesc* endstr) {
	trstnode321011* result;
	trstnode321011* res;
	result = 0;
	res = newrstnode_321105(((NU8) 0));
	{
		while (1) {
			switch ((*p).Tok->data[(*p).Idx].Kind) {
			case ((NU8) 3):
			case ((NU8) 6):
			case ((NU8) 2):
			{
				trstnode321011* LOC4;
				LOC4 = 0;
				LOC4 = newleaf_323762(p);
				add_321183(res, LOC4);
			}
			break;
			case ((NU8) 5):
			{
				{
					if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, endstr)) goto LA8;
					(*p).Idx += 1;
					goto LA1;
				}
				goto LA6;
				LA8: ;
				{
					trstnode321011* LOC11;
					LOC11 = 0;
					LOC11 = newleaf_323762(p);
					add_321183(res, LOC11);
				}
				LA6: ;
			}
			break;
			default:
			{
				rstmessage_322972((&(*p)), ((NU8) 1), endstr);
				goto LA1;
			}
			break;
			}
			(*p).Idx += 1;
		}
	} LA1: ;
	result = res;
	return result;
}

N_NIMCALL(trstnode321011*, untileol_323817)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	result = newrstnode_321105(((NU8) 0));
	{
		while (1) {
			trstnode321011* LOC3;
			if (!!(((3 &(1<<(((*p).Tok->data[(*p).Idx].Kind)&7)))!=0))) goto LA2;
			LOC3 = 0;
			LOC3 = newleaf_323762(p);
			add_321183(result, LOC3);
			(*p).Idx += 1;
		} LA2: ;
	}
	return result;
}

N_NIMCALL(void, expect_323861)(trstparser322659* p, NimStringDesc* tok) {
	{
		if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, tok)) goto LA3;
		(*p).Idx += 1;
	}
	goto LA1;
	LA3: ;
	{
		rstmessage_322972((&(*p)), ((NU8) 1), tok);
	}
	LA1: ;
}

N_NIMCALL(void, setsub_323586)(trstparser322659* p, NimStringDesc* key, trstnode321011* value) {
	NI length;
	NimStringDesc* LOC8;
{	length = (*(*p).S).Subs->Sup.len;
	{
		NI i_323616;
		NI HEX3Atmp_323634;
		NI res_323637;
		i_323616 = 0;
		HEX3Atmp_323634 = 0;
		HEX3Atmp_323634 = (NI32)(length - 1);
		res_323637 = 0;
		{
			while (1) {
				if (!(res_323637 <= HEX3Atmp_323634)) goto LA3;
				i_323616 = res_323637;
				{
					if (!eqStrings(key, (*(*p).S).Subs->data[i_323616].Key)) goto LA6;
					asgnRefNoCycle((void**) (&(*(*p).S).Subs->data[i_323616].Value), value);
					goto BeforeRet;
				}
				LA6: ;
				res_323637 += 1;
			} LA3: ;
		}
	}
	(*(*p).S).Subs = (TY322669*) setLengthSeq(&((*(*p).S).Subs)->Sup, sizeof(tsubstitution322653), (NI32)(length + 1));
	LOC8 = 0;
	LOC8 = (*(*p).S).Subs->data[length].Key; (*(*p).S).Subs->data[length].Key = copyStringRC1(key);
	if (LOC8) nimGCunrefNoCycle(LOC8);
	asgnRefNoCycle((void**) (&(*(*p).S).Subs->data[length].Value), value);
	}BeforeRet: ;
}

N_NIMCALL(trstnode321011*, parsecomment_325470)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	switch ((*p).Tok->data[(*p).Idx].Kind) {
	case ((NU8) 1):
	case ((NU8) 0):
	{
		{
			NIM_BOOL LOC4;
			LOC4 = 0;
			LOC4 = !(((*p).Tok->data[(*p).Idx].Kind == ((NU8) 0)));
			if (!(LOC4)) goto LA5;
			LOC4 = ((*p).Tok->data[(NI32)((*p).Idx + 1)].Kind == ((NU8) 1));
			LA5: ;
			if (!LOC4) goto LA6;
			(*p).Idx += 1;
		}
		goto LA2;
		LA6: ;
		{
			NI indent;
			indent = (*p).Tok->data[(*p).Idx].Ival;
			{
				while (1) {
					switch ((*p).Tok->data[(*p).Idx].Kind) {
					case ((NU8) 0):
					{
						goto LA9;
					}
					break;
					case ((NU8) 1):
					{
						{
							if (!((*p).Tok->data[(*p).Idx].Ival < indent)) goto LA15;
							goto LA9;
						}
						LA15: ;
					}
					break;
					default:
					{
					}
					break;
					}
					(*p).Idx += 1;
				}
			} LA9: ;
		}
		LA2: ;
	}
	break;
	default:
	{
		{
			while (1) {
				if (!!(((3 &(1<<(((*p).Tok->data[(*p).Idx].Kind)&7)))!=0))) goto LA20;
				(*p).Idx += 1;
			} LA20: ;
		}
	}
	break;
	}
	result = NIM_NIL;
	return result;
}

N_NIMCALL(trstnode321011*, parsedotdot_326700)(trstparser322659* p) {
	trstnode321011* result;
	NI col;
	NimStringDesc* d;
	result = 0;
	result = NIM_NIL;
	col = (*p).Tok->data[(*p).Idx].Col;
	(*p).Idx += 1;
	d = getdirective_325329(p);
	{
		NU8 LOC5;
		if (!!(((d) && (d)->Sup.len == 0))) goto LA3;
		pushind_323211(p, col);
		LOC5 = 0;
		LOC5 = getdirkind_325591(d);
		switch (LOC5) {
		case ((NU8) 9):
		{
			result = dirinclude_329221(p);
		}
		break;
		case ((NU8) 8):
		{
			result = dirimage_329807(p);
		}
		break;
		case ((NU8) 7):
		{
			result = dirfigure_329819(p);
		}
		break;
		case ((NU8) 12):
		{
			result = dirtitle_329831(p);
		}
		break;
		case ((NU8) 5):
		{
			result = dircontainer_329408(p);
		}
		break;
		case ((NU8) 6):
		{
			result = dircontents_329843(p);
		}
		break;
		case ((NU8) 11):
		{
			{
				if (!(((*(*p).S).Options &(1<<((((NU8) 2))&7)))!=0)) goto LA15;
				result = dirraw_329886(p);
			}
			goto LA13;
			LA15: ;
			{
				rstmessage_322972((&(*p)), ((NU8) 5), d);
			}
			LA13: ;
		}
		break;
		case ((NU8) 3):
		{
			result = dircodeblock_329253(p, NIM_FALSE);
		}
		break;
		case ((NU8) 4):
		{
			result = dircodeblock_329253(p, NIM_TRUE);
		}
		break;
		case ((NU8) 10):
		{
			result = dirindex_329855(p);
		}
		break;
		default:
		{
			rstmessage_322972((&(*p)), ((NU8) 5), d);
		}
		break;
		}
		popind_323240(p);
	}
	goto LA1;
	LA3: ;
	{
		NIM_BOOL LOC23;
		trstnode321011* a;
		trstnode321011* b;
		NimStringDesc* LOC30;
		LOC23 = 0;
		LOC23 = match_323995((&(*p)), (*p).Idx, ((NimStringDesc*) &TMP2633));
		if (!LOC23) goto LA24;
		(*p).Idx += 2;
		a = getreferencename_323773(p, ((NimStringDesc*) &TMP2619));
		{
			if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2))) goto LA28;
			(*p).Idx += 1;
		}
		LA28: ;
		b = untileol_323817(p);
		LOC30 = 0;
		LOC30 = rstnodetorefname_322061(a);
		setref_323654(p, LOC30, b);
	}
	goto LA1;
	LA24: ;
	{
		NIM_BOOL LOC32;
		trstnode321011* a;
		trstnode321011* b;
		NimStringDesc* LOC49;
		LOC32 = 0;
		LOC32 = match_323995((&(*p)), (*p).Idx, ((NimStringDesc*) &TMP2634));
		if (!LOC32) goto LA33;
		(*p).Idx += 2;
		a = getreferencename_323773(p, ((NimStringDesc*) &TMP2517));
		b = 0;
		{
			if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2))) goto LA37;
			(*p).Idx += 1;
		}
		LA37: ;
		{
			NI LOC41;
			LOC41 = 0;
			LOC41 = nsuCmpIgnoreStyle((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2635));
			if (!(LOC41 == 0)) goto LA42;
			(*p).Idx += 1;
			expect_323861(p, ((NimStringDesc*) &TMP2513));
			b = untileol_323817(p);
		}
		goto LA39;
		LA42: ;
		{
			NI LOC45;
			LOC45 = 0;
			LOC45 = nsuCmpIgnoreStyle((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2535));
			if (!(LOC45 == 0)) goto LA46;
			(*p).Idx += 1;
			b = dirimage_329807(p);
		}
		goto LA39;
		LA46: ;
		{
			rstmessage_322972((&(*p)), ((NU8) 5), (*p).Tok->data[(*p).Idx].Symbol);
		}
		LA39: ;
		LOC49 = 0;
		LOC49 = addnodes_322067(a);
		setsub_323586(p, LOC49, b);
	}
	goto LA1;
	LA33: ;
	{
		NIM_BOOL LOC51;
		trstnode321011* a;
		trstnode321011* b;
		NimStringDesc* LOC58;
		LOC51 = 0;
		LOC51 = match_323995((&(*p)), (*p).Idx, ((NimStringDesc*) &TMP2636));
		if (!LOC51) goto LA52;
		(*p).Idx += 2;
		a = getreferencename_323773(p, ((NimStringDesc*) &TMP2637));
		{
			if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2))) goto LA56;
			(*p).Idx += 1;
		}
		LA56: ;
		b = untileol_323817(p);
		LOC58 = 0;
		LOC58 = rstnodetorefname_322061(a);
		setref_323654(p, LOC58, b);
	}
	goto LA1;
	LA52: ;
	{
		result = parsecomment_325470(p);
	}
	LA1: ;
	return result;
}

N_NIMCALL(trstnode321011*, parseenumlist_328524)(trstparser322659* p) {
	trstnode321011* result;
	NI w;
	result = 0;
	result = NIM_NIL;
	w = 0;
	{
		while (1) {
			if (!(w <= 2)) goto LA2;
			{
				NIM_BOOL LOC5;
				LOC5 = 0;
				LOC5 = match_323995((&(*p)), (*p).Idx, wildcards_328529[(w)- 0]);
				if (!LOC5) goto LA6;
				goto LA1;
			}
			LA6: ;
			w += 1;
		} LA2: ;
	} LA1: ;
	{
		NI col;
		NI j;
		if (!(w <= 2)) goto LA10;
		col = (*p).Tok->data[(*p).Idx].Col;
		result = newrstnode_321105(((NU8) 7));
		(*p).Idx += (NI32)(wildpos_328534[(w)- 0] + 3);
		j = tokenafternewline_326832((&(*p)));
		{
			NIM_BOOL LOC14;
			LOC14 = 0;
			LOC14 = ((*p).Tok->data[j].Col == (*p).Tok->data[(*p).Idx].Col);
			if (LOC14) goto LA15;
			LOC14 = match_323995((&(*p)), j, wildcards_328529[(w)- 0]);
			LA15: ;
			if (!LOC14) goto LA16;
			pushind_323211(p, (*p).Tok->data[(*p).Idx].Col);
			{
				while (1) {
					trstnode321011* item;
					item = newrstnode_321105(((NU8) 8));
					parsesection_325719(p, item);
					add_321183(result, item);
					{
						NIM_BOOL LOC22;
						NIM_BOOL LOC23;
						LOC22 = 0;
						LOC23 = 0;
						LOC23 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
						if (!(LOC23)) goto LA24;
						LOC23 = ((*p).Tok->data[(*p).Idx].Ival == col);
						LA24: ;
						LOC22 = LOC23;
						if (!(LOC22)) goto LA25;
						LOC22 = match_323995((&(*p)), (NI32)((*p).Idx + 1), wildcards_328529[(w)- 0]);
						LA25: ;
						if (!LOC22) goto LA26;
						(*p).Idx += (NI32)(wildpos_328534[(w)- 0] + 4);
					}
					goto LA20;
					LA26: ;
					{
						goto LA18;
					}
					LA20: ;
				}
			} LA18: ;
			popind_323240(p);
		}
		goto LA12;
		LA16: ;
		{
			(*p).Idx -= (NI32)(wildpos_328534[(w)- 0] + 3);
			result = NIM_NIL;
		}
		LA12: ;
	}
	LA10: ;
	return result;
}

N_NIMCALL(trstnode321011*, parsedefinitionlist_328427)(trstparser322659* p) {
	trstnode321011* result;
	NI j;
	NI LOC1;
	result = 0;
	result = NIM_NIL;
	LOC1 = 0;
	LOC1 = tokenafternewline_326832((&(*p)));
	j = (NI32)(LOC1 - 1);
	{
		NIM_BOOL LOC4;
		NIM_BOOL LOC5;
		NIM_BOOL LOC6;
		NI LOC9;
		NI col;
		LOC4 = 0;
		LOC5 = 0;
		LOC6 = 0;
		LOC6 = (1 <= j);
		if (!(LOC6)) goto LA7;
		LOC6 = ((*p).Tok->data[j].Kind == ((NU8) 1));
		LA7: ;
		LOC5 = LOC6;
		if (!(LOC5)) goto LA8;
		LOC9 = 0;
		LOC9 = currind_323201((&(*p)));
		LOC5 = (LOC9 < (*p).Tok->data[j].Ival);
		LA8: ;
		LOC4 = LOC5;
		if (!(LOC4)) goto LA10;
		LOC4 = !(eqStrings((*p).Tok->data[(NI32)(j - 1)].Symbol, ((NimStringDesc*) &TMP2513)));
		LA10: ;
		if (!LOC4) goto LA11;
		col = (*p).Tok->data[(*p).Idx].Col;
		result = newrstnode_321105(((NU8) 9));
		{
			while (1) {
				trstnode321011* a;
				j = (*p).Idx;
				a = newrstnode_321105(((NU8) 11));
				parseline_325683(p, a);
				{
					NIM_BOOL LOC17;
					NIM_BOOL LOC18;
					NIM_BOOL LOC19;
					NI LOC21;
					trstnode321011* b;
					trstnode321011* c;
					LOC17 = 0;
					LOC18 = 0;
					LOC19 = 0;
					LOC19 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
					if (!(LOC19)) goto LA20;
					LOC21 = 0;
					LOC21 = currind_323201((&(*p)));
					LOC19 = (LOC21 < (*p).Tok->data[(*p).Idx].Ival);
					LA20: ;
					LOC18 = LOC19;
					if (!(LOC18)) goto LA22;
					LOC18 = !(eqStrings((*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2513)));
					LA22: ;
					LOC17 = LOC18;
					if (!(LOC17)) goto LA23;
					LOC17 = !(((3 &(1<<(((*p).Tok->data[(NI32)((*p).Idx + 1)].Kind)&7)))!=0));
					LA23: ;
					if (!LOC17) goto LA24;
					pushind_323211(p, (*p).Tok->data[(*p).Idx].Ival);
					b = newrstnode_321105(((NU8) 12));
					parsesection_325719(p, b);
					c = newrstnode_321105(((NU8) 10));
					add_321183(c, a);
					add_321183(c, b);
					add_321183(result, c);
					popind_323240(p);
				}
				goto LA15;
				LA24: ;
				{
					(*p).Idx = j;
					goto LA13;
				}
				LA15: ;
				{
					NIM_BOOL LOC29;
					NI LOC33;
					LOC29 = 0;
					LOC29 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
					if (!(LOC29)) goto LA30;
					LOC29 = ((*p).Tok->data[(*p).Idx].Ival == col);
					LA30: ;
					if (!LOC29) goto LA31;
					(*p).Idx += 1;
					LOC33 = 0;
					LOC33 = tokenafternewline_326832((&(*p)));
					j = (NI32)(LOC33 - 1);
					{
						NIM_BOOL LOC36;
						NIM_BOOL LOC37;
						NIM_BOOL LOC38;
						NIM_BOOL LOC39;
						LOC36 = 0;
						LOC37 = 0;
						LOC38 = 0;
						LOC39 = 0;
						LOC39 = (1 <= j);
						if (!(LOC39)) goto LA40;
						LOC39 = ((*p).Tok->data[j].Kind == ((NU8) 1));
						LA40: ;
						LOC38 = LOC39;
						if (!(LOC38)) goto LA41;
						LOC38 = (col < (*p).Tok->data[j].Ival);
						LA41: ;
						LOC37 = LOC38;
						if (!(LOC37)) goto LA42;
						LOC37 = !(eqStrings((*p).Tok->data[(NI32)(j - 1)].Symbol, ((NimStringDesc*) &TMP2513)));
						LA42: ;
						LOC36 = LOC37;
						if (!(LOC36)) goto LA43;
						LOC36 = !(((*p).Tok->data[(NI32)(j + 1)].Kind == ((NU8) 1)));
						LA43: ;
						if (!LOC36) goto LA44;
					}
					goto LA34;
					LA44: ;
					{
						goto LA13;
					}
					LA34: ;
				}
				LA31: ;
			}
		} LA13: ;
		{
			NI LOC49;
			LOC49 = 0;
			LOC49 = len_321084(result);
			if (!(LOC49 == 0)) goto LA50;
			result = NIM_NIL;
		}
		LA50: ;
	}
	LA11: ;
	return result;
}

N_NIMCALL(trstnode321011*, parsetransition_328072)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	result = newrstnode_321105(((NU8) 3));
	(*p).Idx += 1;
	{
		if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA3;
		(*p).Idx += 1;
	}
	LA3: ;
	{
		if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA7;
		(*p).Idx += 1;
	}
	LA7: ;
	return result;
}

N_NIMCALL(void, parseuntilnewline_325701)(trstparser322659* p, trstnode321011* father) {
	{
		while (1) {
			switch ((*p).Tok->data[(*p).Idx].Kind) {
			case ((NU8) 2):
			case ((NU8) 3):
			case ((NU8) 4):
			case ((NU8) 6):
			case ((NU8) 5):
			{
				parseinline_325182(p, father);
			}
			break;
			case ((NU8) 0):
			case ((NU8) 1):
			{
				goto LA1;
			}
			break;
			}
		}
	} LA1: ;
}

N_NIMCALL(NI, getlevel_326806)(NI* map, NI* lvl, NIM_CHAR c) {
	NI result;
	result = 0;
	{
		if (!(map[(((NU8)(c)))- 0] == 0)) goto LA3;
		(*lvl) += 1;
		map[(((NU8)(c)))- 0] = (*lvl);
	}
	LA3: ;
	result = map[(((NU8)(c)))- 0];
	return result;
}

N_NIMCALL(trstnode321011*, parseheadline_327104)(trstparser322659* p) {
	trstnode321011* result;
	NIM_CHAR c;
	result = 0;
	result = newrstnode_321105(((NU8) 1));
	parseuntilnewline_325701(p, result);
	c = (*p).Tok->data[(NI32)((*p).Idx + 1)].Symbol->data[0];
	(*p).Idx += 2;
	(*result).Level = getlevel_326806((*(*p).S).Underlinetolevel, (&(*(*p).S).Ulevel), c);
	return result;
}

N_NIMCALL(trstnode321011*, parseoverline_328137)(trstparser322659* p) {
	trstnode321011* result;
	NIM_CHAR c;
	result = 0;
	c = (*p).Tok->data[(*p).Idx].Symbol->data[0];
	(*p).Idx += 2;
	result = newrstnode_321105(((NU8) 2));
	{
		while (1) {
			parseuntilnewline_325701(p, result);
			{
				if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA5;
				(*p).Idx += 1;
				{
					NI LOC9;
					trstnode321011* LOC12;
					LOC9 = 0;
					LOC9 = currind_323201((&(*p)));
					if (!(LOC9 < (*p).Tok->data[(NI32)((*p).Idx - 1)].Ival)) goto LA10;
					LOC12 = 0;
					LOC12 = newrstnode_321151(((NU8) 64), ((NimStringDesc*) &TMP2546));
					add_321183(result, LOC12);
				}
				goto LA7;
				LA10: ;
				{
					goto LA1;
				}
				LA7: ;
			}
			goto LA3;
			LA5: ;
			{
				goto LA1;
			}
			LA3: ;
		}
	} LA1: ;
	(*result).Level = getlevel_326806((*(*p).S).Overlinetolevel, (&(*(*p).S).Olevel), c);
	{
		if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 4))) goto LA17;
		(*p).Idx += 1;
		{
			if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA21;
			(*p).Idx += 1;
		}
		LA21: ;
	}
	LA17: ;
	return result;
}

N_NIMCALL(NI, tokend_327427)(trstparser322659* p) {
	NI result;
	result = 0;
	result = (NI32)((NI32)((*p).Tok->data[(*p).Idx].Col + (*p).Tok->data[(*p).Idx].Symbol->Sup.len) - 1);
	return result;
}

N_NIMCALL(void, getcolumns_327437)(trstparser322659* p, TY322680** cols) {
	NI l;
	l = 0;
	{
		while (1) {
			l += 1;
			(*cols) = (TY322680*) setLengthSeq(&((*cols))->Sup, sizeof(NI), l);
			(*cols)->data[(NI32)(l - 1)] = tokend_327427((&(*p)));
			(*p).Idx += 1;
			{
				if (!!(((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2)))) goto LA5;
				goto LA1;
			}
			LA5: ;
			(*p).Idx += 1;
			{
				if (!!(((*p).Tok->data[(*p).Idx].Kind == ((NU8) 4)))) goto LA9;
				goto LA1;
			}
			LA9: ;
		}
	} LA1: ;
	{
		if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA13;
		(*p).Idx += 1;
	}
	LA13: ;
	(*cols)->data[(NI32)(l - 1)] = 32000;
}

N_NIMCALL(trstnode321011*, parsesimpletable_327685)(trstparser322659* p) {
	trstnode321011* result;
	TY322680* cols;
	TY120808* row;
	NI i;
	NI last;
	NI line;
	NIM_CHAR c;
	trstparser322659 q;
	trstnode321011* a;
	trstnode321011* b;
	result = 0;
	cols = 0;
	row = 0;
	i = 0;
	last = 0;
	line = 0;
	c = 0;
	memset((void*)(&q), 0, sizeof(q));
	q.Sup.m_type = (&NTI322659);
	a = 0;
	b = 0;
	result = newrstnode_321105(((NU8) 29));
	cols = (TY322680*) newSeq((&NTI322680), 0);
	row = (TY120808*) newSeq((&NTI120808), 0);
	a = NIM_NIL;
	c = (*p).Tok->data[(*p).Idx].Symbol->data[0];
	{
		while (1) {
			{
				if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 4))) goto LA5;
				last = tokenafternewline_326832((&(*p)));
				{
					if (!((3 &(1<<(((*p).Tok->data[last].Kind)&7)))!=0)) goto LA9;
					(*p).Idx = last;
					goto LA1;
				}
				LA9: ;
				getcolumns_327437(p, (&cols));
				row = (TY120808*) setLengthSeq(&(row)->Sup, sizeof(NimStringDesc*), cols->Sup.len);
				{
					if (!!((a == NIM_NIL))) goto LA13;
					{
						NI j_327818;
						NI HEX3Atmp_327987;
						NI LOC16;
						NI res_327990;
						j_327818 = 0;
						HEX3Atmp_327987 = 0;
						LOC16 = 0;
						LOC16 = len_321084(a);
						HEX3Atmp_327987 = (NI32)(LOC16 - 1);
						res_327990 = 0;
						{
							while (1) {
								if (!(res_327990 <= HEX3Atmp_327987)) goto LA18;
								j_327818 = res_327990;
								(*(*a).Sons->data[j_327818]).Kind = ((NU8) 32);
								res_327990 += 1;
							} LA18: ;
						}
					}
				}
				LA13: ;
			}
			LA5: ;
			{
				if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 0))) goto LA21;
				goto LA1;
			}
			LA21: ;
			{
				NI j_327840;
				NI HEX3Atmp_327993;
				NI res_327996;
				j_327840 = 0;
				HEX3Atmp_327993 = 0;
				HEX3Atmp_327993 = (row->Sup.len-1);
				res_327996 = 0;
				{
					while (1) {
						NimStringDesc* LOC26;
						if (!(res_327996 <= HEX3Atmp_327993)) goto LA25;
						j_327840 = res_327996;
						LOC26 = 0;
						LOC26 = row->data[j_327840]; row->data[j_327840] = copyStringRC1(((NimStringDesc*) &TMP2121));
						if (LOC26) nimGCunrefNoCycle(LOC26);
						res_327996 += 1;
					} LA25: ;
				}
			}
			line = (*p).Tok->data[(*p).Idx].Line;
			{
				while (1) {
					i = 0;
					{
						while (1) {
							if (!!(((3 &(1<<(((*p).Tok->data[(*p).Idx].Kind)&7)))!=0))) goto LA30;
							{
								NI LOC33;
								LOC33 = 0;
								LOC33 = tokend_327427((&(*p)));
								if (!(LOC33 <= cols->data[i])) goto LA34;
								row->data[i] = resizeString(row->data[i], (*p).Tok->data[(*p).Idx].Symbol->Sup.len + 0);
appendString(row->data[i], (*p).Tok->data[(*p).Idx].Symbol);
								(*p).Idx += 1;
							}
							goto LA31;
							LA34: ;
							{
								{
									if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2))) goto LA39;
									(*p).Idx += 1;
								}
								LA39: ;
								i += 1;
							}
							LA31: ;
						} LA30: ;
					}
					{
						if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA43;
						(*p).Idx += 1;
					}
					LA43: ;
					{
						NI LOC47;
						LOC47 = 0;
						LOC47 = tokend_327427((&(*p)));
						if (!(LOC47 <= cols->data[0])) goto LA48;
						goto LA27;
					}
					LA48: ;
					{
						if (!((17 &(1<<(((*p).Tok->data[(*p).Idx].Kind)&7)))!=0)) goto LA52;
						goto LA27;
					}
					LA52: ;
					{
						NI j_327947;
						NI HEX3Atmp_328001;
						NI res_328004;
						j_327947 = 0;
						HEX3Atmp_328001 = 0;
						HEX3Atmp_328001 = (row->Sup.len-1);
						res_328004 = 1;
						{
							while (1) {
								if (!(res_328004 <= HEX3Atmp_328001)) goto LA56;
								j_327947 = res_328004;
								row->data[j_327947] = addChar(row->data[j_327947], 10);
								res_328004 += 1;
							} LA56: ;
						}
					}
				}
			} LA27: ;
			a = newrstnode_321105(((NU8) 31));
			{
				NI j_327960;
				NI HEX3Atmp_328007;
				NI res_328010;
				j_327960 = 0;
				HEX3Atmp_328007 = 0;
				HEX3Atmp_328007 = (row->Sup.len-1);
				res_328010 = 0;
				{
					while (1) {
						NI LOC60;
						trstnode321011* LOC61;
						if (!(res_328010 <= HEX3Atmp_328007)) goto LA59;
						j_327960 = res_328010;
						initparser_323289((&q), (*p).S);
						q.Col = cols->data[j_327960];
						q.Line = (NI32)(line - 1);
						q.Filename = copyString((*p).Filename);
						LOC60 = 0;
						LOC60 = gettokens_322465(row->data[j_327960], NIM_FALSE, (&q.Tok));
						q.Col += LOC60;
						b = newrstnode_321105(((NU8) 33));
						LOC61 = 0;
						LOC61 = parsedoc_327678((&q));
						add_321183(b, LOC61);
						add_321183(a, b);
						res_328010 += 1;
					} LA59: ;
				}
			}
			add_321183(result, a);
		}
	} LA1: ;
	return result;
}

N_NIMCALL(trstnode321011*, parseoptionlist_328306)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	result = newrstnode_321105(((NU8) 17));
	{
		while (1) {
			{
				NIM_BOOL LOC5;
				trstnode321011* a;
				trstnode321011* b;
				trstnode321011* c;
				NI j;
				LOC5 = 0;
				LOC5 = isoptionlist_326931((&(*p)));
				if (!LOC5) goto LA6;
				a = newrstnode_321105(((NU8) 19));
				b = newrstnode_321105(((NU8) 23));
				c = newrstnode_321105(((NU8) 18));
				{
					NIM_BOOL LOC10;
					LOC10 = 0;
					LOC10 = match_323995((&(*p)), (*p).Idx, ((NimStringDesc*) &TMP2525));
					if (!LOC10) goto LA11;
					(*p).Idx += 1;
				}
				LA11: ;
				{
					while (1) {
						trstnode321011* LOC21;
						if (!!(((3 &(1<<(((*p).Tok->data[(*p).Idx].Kind)&7)))!=0))) goto LA14;
						{
							NIM_BOOL LOC17;
							LOC17 = 0;
							LOC17 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2));
							if (!(LOC17)) goto LA18;
							LOC17 = (1 < (*p).Tok->data[(*p).Idx].Symbol->Sup.len);
							LA18: ;
							if (!LOC17) goto LA19;
							(*p).Idx += 1;
							goto LA13;
						}
						LA19: ;
						LOC21 = 0;
						LOC21 = newleaf_323762(p);
						add_321183(a, LOC21);
						(*p).Idx += 1;
					} LA14: ;
				} LA13: ;
				j = tokenafternewline_326832((&(*p)));
				{
					NIM_BOOL LOC24;
					NIM_BOOL LOC25;
					NI LOC28;
					LOC24 = 0;
					LOC25 = 0;
					LOC25 = (0 < j);
					if (!(LOC25)) goto LA26;
					LOC25 = ((*p).Tok->data[(NI32)(j - 1)].Kind == ((NU8) 1));
					LA26: ;
					LOC24 = LOC25;
					if (!(LOC24)) goto LA27;
					LOC28 = 0;
					LOC28 = currind_323201((&(*p)));
					LOC24 = (LOC28 < (*p).Tok->data[(NI32)(j - 1)].Ival);
					LA27: ;
					if (!LOC24) goto LA29;
					pushind_323211(p, (*p).Tok->data[(NI32)(j - 1)].Ival);
					parsesection_325719(p, b);
					popind_323240(p);
				}
				goto LA22;
				LA29: ;
				{
					parseline_325683(p, b);
				}
				LA22: ;
				{
					if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA34;
					(*p).Idx += 1;
				}
				LA34: ;
				add_321183(c, a);
				add_321183(c, b);
				add_321183(result, c);
			}
			goto LA3;
			LA6: ;
			{
				goto LA1;
			}
			LA3: ;
		}
	} LA1: ;
	return result;
}

N_NIMCALL(void, parseparagraph_327031)(trstparser322659* p, trstnode321011* result) {
	{
		while (1) {
			switch ((*p).Tok->data[(*p).Idx].Kind) {
			case ((NU8) 1):
			{
				{
					if (!((*p).Tok->data[(NI32)((*p).Idx + 1)].Kind == ((NU8) 1))) goto LA6;
					(*p).Idx += 1;
					goto LA1;
				}
				goto LA4;
				LA6: ;
				{
					NI LOC9;
					NU8 LOC12;
					LOC9 = 0;
					LOC9 = currind_323201((&(*p)));
					if (!((*p).Tok->data[(*p).Idx].Ival == LOC9)) goto LA10;
					(*p).Idx += 1;
					LOC12 = 0;
					LOC12 = whichsection_326941((&(*p)));
					switch (LOC12) {
					case ((NU8) 4):
					case ((NU8) 64):
					case ((NU8) 1):
					case ((NU8) 2):
					case ((NU8) 40):
					{
						trstnode321011* LOC14;
						LOC14 = 0;
						LOC14 = newrstnode_321151(((NU8) 64), ((NimStringDesc*) &TMP2546));
						add_321183(result, LOC14);
					}
					break;
					case ((NU8) 26):
					{
						trstnode321011* LOC16;
						LOC16 = 0;
						LOC16 = parselineblock_326960(p);
						addifnotnil_321211(result, LOC16);
					}
					break;
					default:
					{
						goto LA1;
					}
					break;
					}
				}
				goto LA4;
				LA10: ;
				{
					goto LA1;
				}
				LA4: ;
			}
			break;
			case ((NU8) 5):
			{
				{
					NIM_BOOL LOC22;
					NIM_BOOL LOC23;
					NI LOC26;
					trstnode321011* LOC29;
					trstnode321011* LOC30;
					LOC22 = 0;
					LOC23 = 0;
					LOC23 = eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2513));
					if (!(LOC23)) goto LA24;
					LOC23 = ((*p).Tok->data[(NI32)((*p).Idx + 1)].Kind == ((NU8) 1));
					LA24: ;
					LOC22 = LOC23;
					if (!(LOC22)) goto LA25;
					LOC26 = 0;
					LOC26 = currind_323201((&(*p)));
					LOC22 = (LOC26 < (*p).Tok->data[(NI32)((*p).Idx + 1)].Ival);
					LA25: ;
					if (!LOC22) goto LA27;
					LOC29 = 0;
					LOC29 = newrstnode_321151(((NU8) 64), ((NimStringDesc*) &TMP2619));
					add_321183(result, LOC29);
					(*p).Idx += 1;
					LOC30 = 0;
					LOC30 = parseliteralblock_326707(p);
					add_321183(result, LOC30);
					goto LA1;
				}
				goto LA20;
				LA27: ;
				{
					parseinline_325182(p, result);
				}
				LA20: ;
			}
			break;
			case ((NU8) 2):
			case ((NU8) 3):
			case ((NU8) 4):
			case ((NU8) 6):
			{
				parseinline_325182(p, result);
			}
			break;
			default:
			{
				goto LA1;
			}
			break;
			}
		}
	} LA1: ;
}

N_NIMCALL(NU8, sonkind_328620)(trstnode321011* father, NI i) {
	NU8 result;
	result = 0;
	result = ((NU8) 64);
	{
		NI LOC3;
		LOC3 = 0;
		LOC3 = len_321084(father);
		if (!(i < LOC3)) goto LA4;
		result = (*(*father).Sons->data[i]).Kind;
	}
	LA4: ;
	return result;
}

N_NIMCALL(void, parsesection_325719)(trstparser322659* p, trstnode321011* result) {
	{
		while (1) {
			NIM_BOOL leave;
			trstnode321011* a;
			NU8 k;
			leave = NIM_FALSE;
			{
				while (1) {
					if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA4;
					{
						NI LOC7;
						LOC7 = 0;
						LOC7 = currind_323201((&(*p)));
						if (!(LOC7 == (*p).Tok->data[(*p).Idx].Ival)) goto LA8;
						(*p).Idx += 1;
					}
					goto LA5;
					LA8: ;
					{
						NI LOC11;
						trstnode321011* a;
						LOC11 = 0;
						LOC11 = currind_323201((&(*p)));
						if (!(LOC11 < (*p).Tok->data[(*p).Idx].Ival)) goto LA12;
						pushind_323211(p, (*p).Tok->data[(*p).Idx].Ival);
						a = newrstnode_321105(((NU8) 28));
						parsesection_325719(p, a);
						add_321183(result, a);
						popind_323240(p);
					}
					goto LA5;
					LA12: ;
					{
						leave = NIM_TRUE;
						goto LA3;
					}
					LA5: ;
				} LA4: ;
			} LA3: ;
			{
				NIM_BOOL LOC17;
				LOC17 = 0;
				LOC17 = leave;
				if (LOC17) goto LA18;
				LOC17 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 0));
				LA18: ;
				if (!LOC17) goto LA19;
				goto LA1;
			}
			LA19: ;
			a = NIM_NIL;
			k = whichsection_326941((&(*p)));
			switch (k) {
			case ((NU8) 24):
			{
				(*p).Idx += 1;
				a = parseliteralblock_326707(p);
			}
			break;
			case ((NU8) 5):
			{
				a = parsebulletlist_328234(p);
			}
			break;
			case ((NU8) 26):
			{
				a = parselineblock_326960(p);
			}
			break;
			case ((NU8) 40):
			{
				a = parsedotdot_326700(p);
			}
			break;
			case ((NU8) 7):
			{
				a = parseenumlist_328524(p);
			}
			break;
			case ((NU8) 64):
			{
				rstmessage_322996((&(*p)), ((NU8) 3));
			}
			break;
			case ((NU8) 4):
			{
			}
			break;
			case ((NU8) 9):
			{
				a = parsedefinitionlist_328427(p);
			}
			break;
			case ((NU8) 13):
			{
				{
					if (!(0 < (*p).Idx)) goto LA32;
					(*p).Idx -= 1;
				}
				LA32: ;
				a = parsefields_325761(p);
			}
			break;
			case ((NU8) 3):
			{
				a = parsetransition_328072(p);
			}
			break;
			case ((NU8) 1):
			{
				a = parseheadline_327104(p);
			}
			break;
			case ((NU8) 2):
			{
				a = parseoverline_328137(p);
			}
			break;
			case ((NU8) 29):
			{
				a = parsesimpletable_327685(p);
			}
			break;
			case ((NU8) 17):
			{
				a = parseoptionlist_328306(p);
			}
			break;
			default:
			{
			}
			break;
			}
			{
				NIM_BOOL LOC42;
				LOC42 = 0;
				LOC42 = (a == NIM_NIL);
				if (!(LOC42)) goto LA43;
				LOC42 = !((k == ((NU8) 40)));
				LA43: ;
				if (!LOC42) goto LA44;
				a = newrstnode_321105(((NU8) 4));
				parseparagraph_327031(p, a);
			}
			LA44: ;
			addifnotnil_321211(result, a);
		}
	} LA1: ;
	{
		NIM_BOOL LOC48;
		NU8 LOC49;
		NU8 LOC51;
		LOC48 = 0;
		LOC49 = 0;
		LOC49 = sonkind_328620(result, 0);
		LOC48 = (LOC49 == ((NU8) 4));
		if (!(LOC48)) goto LA50;
		LOC51 = 0;
		LOC51 = sonkind_328620(result, 1);
		LOC48 = !((LOC51 == ((NU8) 4)));
		LA50: ;
		if (!LOC48) goto LA52;
		(*(*result).Sons->data[0]).Kind = ((NU8) 0);
	}
	LA52: ;
}

N_NIMCALL(trstnode321011*, parsesectionwrapper_328925)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	result = newrstnode_321105(((NU8) 0));
	parsesection_325719(p, result);
	{
		while (1) {
			NIM_BOOL LOC3;
			NI LOC5;
			LOC3 = 0;
			LOC3 = ((*result).Kind == ((NU8) 0));
			if (!(LOC3)) goto LA4;
			LOC5 = 0;
			LOC5 = len_321084(result);
			LOC3 = (LOC5 == 1);
			LA4: ;
			if (!LOC3) goto LA2;
			result = (*result).Sons->data[0];
		} LA2: ;
	}
	return result;
}

N_NIMCALL(trstnode321011*, parsedoc_327678)(trstparser322659* p) {
	trstnode321011* result;
	result = 0;
	result = parsesectionwrapper_328925(p);
	{
		if (!!(((*p).Tok->data[(*p).Idx].Kind == ((NU8) 0)))) goto LA3;
		rstmessage_322996((&(*p)), ((NU8) 4));
	}
	LA3: ;
	return result;
}

N_NIMCALL(trstnode321011*, rstparse_330164)(NimStringDesc* text, NimStringDesc* filename, NI line, NI column, NIM_BOOL* hastoc, NU8 options, tfindfilehandler322023 findfile, tmsghandler322021 msghandler) {
	trstnode321011* result;
	trstparser322659 p;
	tsharedstate322655* LOC1;
	NI LOC2;
	trstnode321011* LOC3;
	result = 0;
	memset((void*)(&p), 0, sizeof(p));
	p.Sup.m_type = (&NTI322659);
	LOC1 = 0;
	LOC1 = newsharedstate_322890(options, findfile, msghandler);
	initparser_323289((&p), LOC1);
	p.Filename = copyString(filename);
	p.Line = line;
	LOC2 = 0;
	LOC2 = gettokens_322465(text, ((options &(1<<((((NU8) 0))&7)))!=0), (&p.Tok));
	p.Col = (NI32)(column + LOC2);
	LOC3 = 0;
	LOC3 = parsedoc_327678((&p));
	result = resolvesubs_330086((&p), LOC3);
	(*hastoc) = p.Hastoc;
	return result;
}
NIM_EXTERNC N_NOINLINE(void, docutils_rstInit)(void) {
}

NIM_EXTERNC N_NOINLINE(void, docutils_rstDatInit)(void) {
static TNimNode* TMP2463[8];
static TNimNode* TMP2464[5];
static TNimNode* TMP2465[7];
NI TMP2467;
static char* NIM_CONST TMP2466[7] = {
"tkEof", 
"tkIndent", 
"tkWhite", 
"tkWord", 
"tkAdornment", 
"tkPunct", 
"tkOther"};
static TNimNode* TMP2469[9];
static TNimNode* TMP2470[4];
NI TMP2472;
static char* NIM_CONST TMP2471[4] = {
"roSkipPounds", 
"roSupportSmilies", 
"roSupportRawDirective", 
"roSupportMarkdown"};
static TNimNode* TMP2473[2];
static TNimNode* TMP2485[10];
NI TMP2487;
static char* NIM_CONST TMP2486[10] = {
"meCannotOpenFile", 
"meExpected", 
"meGridTableNotImplemented", 
"meNewSectionExpected", 
"meGeneralParseError", 
"meInvalidDirective", 
"mwRedefinitionOfLabel", 
"mwUnknownSubstitution", 
"mwUnsupportedLanguage", 
"mwUnsupportedField"};
static TNimNode* TMP2499[3];
NI TMP2501;
static char* NIM_CONST TMP2500[3] = {
"Hint", 
"Warning", 
"Error"};
static TNimNode* TMP2504[6];
static TNimNode TMP889[65];
NTI322659.size = sizeof(trstparser322659);
NTI322659.kind = 17;
NTI322659.base = (&NTI3411);
TMP2463[0] = &TMP889[1];
TMP889[1].kind = 1;
TMP889[1].offset = offsetof(trstparser322659, Idx);
TMP889[1].typ = (&NTI108);
TMP889[1].name = "idx";
TMP2463[1] = &TMP889[2];
NTI322135.size = sizeof(ttoken322135);
NTI322135.kind = 18;
NTI322135.base = 0;
NTI322135.flags = 2;
TMP2464[0] = &TMP889[4];
NTI322133.size = sizeof(NU8);
NTI322133.kind = 14;
NTI322133.base = 0;
NTI322133.flags = 3;
for (TMP2467 = 0; TMP2467 < 7; TMP2467++) {
TMP889[TMP2467+5].kind = 1;
TMP889[TMP2467+5].offset = TMP2467;
TMP889[TMP2467+5].name = TMP2466[TMP2467];
TMP2465[TMP2467] = &TMP889[TMP2467+5];
}
TMP889[12].len = 7; TMP889[12].kind = 2; TMP889[12].sons = &TMP2465[0];
NTI322133.node = &TMP889[12];
TMP889[4].kind = 1;
TMP889[4].offset = offsetof(ttoken322135, Kind);
TMP889[4].typ = (&NTI322133);
TMP889[4].name = "kind";
TMP2464[1] = &TMP889[13];
TMP889[13].kind = 1;
TMP889[13].offset = offsetof(ttoken322135, Ival);
TMP889[13].typ = (&NTI108);
TMP889[13].name = "ival";
TMP2464[2] = &TMP889[14];
TMP889[14].kind = 1;
TMP889[14].offset = offsetof(ttoken322135, Symbol);
TMP889[14].typ = (&NTI149);
TMP889[14].name = "symbol";
TMP2464[3] = &TMP889[15];
TMP889[15].kind = 1;
TMP889[15].offset = offsetof(ttoken322135, Line);
TMP889[15].typ = (&NTI108);
TMP889[15].name = "line";
TMP2464[4] = &TMP889[16];
TMP889[16].kind = 1;
TMP889[16].offset = offsetof(ttoken322135, Col);
TMP889[16].typ = (&NTI108);
TMP889[16].name = "col";
TMP889[3].len = 5; TMP889[3].kind = 2; TMP889[3].sons = &TMP2464[0];
NTI322135.node = &TMP889[3];
NTI322137.size = sizeof(ttokenseq322137*);
NTI322137.kind = 24;
NTI322137.base = (&NTI322135);
NTI322137.flags = 2;
NTI322137.marker = TMP2468;
TMP889[2].kind = 1;
TMP889[2].offset = offsetof(trstparser322659, Tok);
TMP889[2].typ = (&NTI322137);
TMP889[2].name = "tok";
TMP2463[2] = &TMP889[17];
NTI322655.size = sizeof(tsharedstate322655);
NTI322655.kind = 18;
NTI322655.base = 0;
NTI322655.flags = 2;
TMP2469[0] = &TMP889[19];
NTI322013.size = sizeof(NU8);
NTI322013.kind = 14;
NTI322013.base = 0;
NTI322013.flags = 3;
for (TMP2472 = 0; TMP2472 < 4; TMP2472++) {
TMP889[TMP2472+20].kind = 1;
TMP889[TMP2472+20].offset = TMP2472;
TMP889[TMP2472+20].name = TMP2471[TMP2472];
TMP2470[TMP2472] = &TMP889[TMP2472+20];
}
TMP889[24].len = 4; TMP889[24].kind = 2; TMP889[24].sons = &TMP2470[0];
NTI322013.node = &TMP889[24];
NTI322015.size = sizeof(NU8);
NTI322015.kind = 19;
NTI322015.base = (&NTI322013);
NTI322015.flags = 3;
TMP889[25].len = 0; TMP889[25].kind = 0;
NTI322015.node = &TMP889[25];
TMP889[19].kind = 1;
TMP889[19].offset = offsetof(tsharedstate322655, Options);
TMP889[19].typ = (&NTI322015);
TMP889[19].name = "options";
TMP2469[1] = &TMP889[26];
TMP889[26].kind = 1;
TMP889[26].offset = offsetof(tsharedstate322655, Ulevel);
TMP889[26].typ = (&NTI108);
TMP889[26].name = "uLevel";
TMP2469[2] = &TMP889[27];
TMP889[27].kind = 1;
TMP889[27].offset = offsetof(tsharedstate322655, Olevel);
TMP889[27].typ = (&NTI108);
TMP889[27].name = "oLevel";
TMP2469[3] = &TMP889[28];
NTI322653.size = sizeof(tsubstitution322653);
NTI322653.kind = 18;
NTI322653.base = 0;
NTI322653.flags = 2;
TMP2473[0] = &TMP889[30];
TMP889[30].kind = 1;
TMP889[30].offset = offsetof(tsubstitution322653, Key);
TMP889[30].typ = (&NTI149);
TMP889[30].name = "key";
TMP2473[1] = &TMP889[31];
TMP889[31].kind = 1;
TMP889[31].offset = offsetof(tsubstitution322653, Value);
TMP889[31].typ = (&NTI321007);
TMP889[31].name = "value";
TMP889[29].len = 2; TMP889[29].kind = 2; TMP889[29].sons = &TMP2473[0];
NTI322653.node = &TMP889[29];
NTI322669.size = sizeof(TY322669*);
NTI322669.kind = 24;
NTI322669.base = (&NTI322653);
NTI322669.flags = 2;
NTI322669.marker = TMP2480;
TMP889[28].kind = 1;
TMP889[28].offset = offsetof(tsharedstate322655, Subs);
TMP889[28].typ = (&NTI322669);
TMP889[28].name = "subs";
TMP2469[4] = &TMP889[32];
TMP889[32].kind = 1;
TMP889[32].offset = offsetof(tsharedstate322655, Refs);
TMP889[32].typ = (&NTI322669);
TMP889[32].name = "refs";
TMP2469[5] = &TMP889[33];
TMP889[33].kind = 1;
TMP889[33].offset = offsetof(tsharedstate322655, Underlinetolevel);
TMP889[33].typ = (&NTI97742);
TMP889[33].name = "underlineToLevel";
TMP2469[6] = &TMP889[34];
TMP889[34].kind = 1;
TMP889[34].offset = offsetof(tsharedstate322655, Overlinetolevel);
TMP889[34].typ = (&NTI97742);
TMP889[34].name = "overlineToLevel";
TMP2469[7] = &TMP889[35];
NTI322021.size = sizeof(tmsghandler322021);
NTI322021.kind = 25;
NTI322021.base = 0;
NTI322021.flags = 3;
TMP889[35].kind = 1;
TMP889[35].offset = offsetof(tsharedstate322655, Msghandler);
TMP889[35].typ = (&NTI322021);
TMP889[35].name = "msgHandler";
TMP2469[8] = &TMP889[36];
NTI322023.size = sizeof(tfindfilehandler322023);
NTI322023.kind = 25;
NTI322023.base = 0;
NTI322023.flags = 3;
TMP889[36].kind = 1;
TMP889[36].offset = offsetof(tsharedstate322655, Findfile);
TMP889[36].typ = (&NTI322023);
TMP889[36].name = "findFile";
TMP889[18].len = 9; TMP889[18].kind = 2; TMP889[18].sons = &TMP2469[0];
NTI322655.node = &TMP889[18];
NTI322657.size = sizeof(tsharedstate322655*);
NTI322657.kind = 22;
NTI322657.base = (&NTI322655);
NTI322657.flags = 2;
NTI322657.marker = TMP2481;
TMP889[17].kind = 1;
TMP889[17].offset = offsetof(trstparser322659, S);
TMP889[17].typ = (&NTI322657);
TMP889[17].name = "s";
TMP2463[3] = &TMP889[37];
NTI322680.size = sizeof(TY322680*);
NTI322680.kind = 24;
NTI322680.base = (&NTI108);
NTI322680.flags = 2;
NTI322680.marker = TMP2482;
TMP889[37].kind = 1;
TMP889[37].offset = offsetof(trstparser322659, Indentstack);
TMP889[37].typ = (&NTI322680);
TMP889[37].name = "indentStack";
TMP2463[4] = &TMP889[38];
TMP889[38].kind = 1;
TMP889[38].offset = offsetof(trstparser322659, Filename);
TMP889[38].typ = (&NTI149);
TMP889[38].name = "filename";
TMP2463[5] = &TMP889[39];
TMP889[39].kind = 1;
TMP889[39].offset = offsetof(trstparser322659, Line);
TMP889[39].typ = (&NTI108);
TMP889[39].name = "line";
TMP2463[6] = &TMP889[40];
TMP889[40].kind = 1;
TMP889[40].offset = offsetof(trstparser322659, Col);
TMP889[40].typ = (&NTI108);
TMP889[40].name = "col";
TMP2463[7] = &TMP889[41];
TMP889[41].kind = 1;
TMP889[41].offset = offsetof(trstparser322659, Hastoc);
TMP889[41].typ = (&NTI138);
TMP889[41].name = "hasToc";
TMP889[0].len = 8; TMP889[0].kind = 2; TMP889[0].sons = &TMP2463[0];
NTI322659.node = &TMP889[0];
NTI322019.size = sizeof(NU8);
NTI322019.kind = 14;
NTI322019.base = 0;
NTI322019.flags = 3;
for (TMP2487 = 0; TMP2487 < 10; TMP2487++) {
TMP889[TMP2487+42].kind = 1;
TMP889[TMP2487+42].offset = TMP2487;
TMP889[TMP2487+42].name = TMP2486[TMP2487];
TMP2485[TMP2487] = &TMP889[TMP2487+42];
}
TMP889[52].len = 10; TMP889[52].kind = 2; TMP889[52].sons = &TMP2485[0];
NTI322019.node = &TMP889[52];
NTI322017.size = sizeof(NU8);
NTI322017.kind = 14;
NTI322017.base = 0;
NTI322017.flags = 3;
for (TMP2501 = 0; TMP2501 < 3; TMP2501++) {
TMP889[TMP2501+53].kind = 1;
TMP889[TMP2501+53].offset = TMP2501;
TMP889[TMP2501+53].name = TMP2500[TMP2501];
TMP2499[TMP2501] = &TMP889[TMP2501+53];
}
TMP889[56].len = 3; TMP889[56].kind = 2; TMP889[56].sons = &TMP2499[0];
NTI322017.node = &TMP889[56];
NTI322661.size = sizeof(eparseerror322661);
NTI322661.kind = 17;
NTI322661.base = (&NTI3449);
TMP889[57].len = 0; TMP889[57].kind = 2;
NTI322661.node = &TMP889[57];
NTI322840.size = sizeof(eparseerror322661*);
NTI322840.kind = 22;
NTI322840.base = (&NTI322661);
NTI322840.marker = TMP2502;
NTI322139.size = sizeof(tlexer322139);
NTI322139.kind = 17;
NTI322139.base = (&NTI3411);
NTI322139.flags = 1;
TMP2504[0] = &TMP889[59];
TMP889[59].kind = 1;
TMP889[59].offset = offsetof(tlexer322139, Buf);
TMP889[59].typ = (&NTI151);
TMP889[59].name = "buf";
TMP2504[1] = &TMP889[60];
TMP889[60].kind = 1;
TMP889[60].offset = offsetof(tlexer322139, Bufpos);
TMP889[60].typ = (&NTI108);
TMP889[60].name = "bufpos";
TMP2504[2] = &TMP889[61];
TMP889[61].kind = 1;
TMP889[61].offset = offsetof(tlexer322139, Line);
TMP889[61].typ = (&NTI108);
TMP889[61].name = "line";
TMP2504[3] = &TMP889[62];
TMP889[62].kind = 1;
TMP889[62].offset = offsetof(tlexer322139, Col);
TMP889[62].typ = (&NTI108);
TMP889[62].name = "col";
TMP2504[4] = &TMP889[63];
TMP889[63].kind = 1;
TMP889[63].offset = offsetof(tlexer322139, Baseindent);
TMP889[63].typ = (&NTI108);
TMP889[63].name = "baseIndent";
TMP2504[5] = &TMP889[64];
TMP889[64].kind = 1;
TMP889[64].offset = offsetof(tlexer322139, Skippounds);
TMP889[64].typ = (&NTI138);
TMP889[64].name = "skipPounds";
TMP889[58].len = 6; TMP889[58].kind = 2; TMP889[58].sons = &TMP2504[0];
NTI322139.node = &TMP889[58];
}

