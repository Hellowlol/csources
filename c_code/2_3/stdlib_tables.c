/* Generated by Nim Compiler v0.10.3 */
/*   (c) 2015 Andreas Rumpf */
/* The generated code is subject to the original license. */
#define NIM_INTBITS 64
#include "nimbase.h"

#include <string.h>
typedef struct table181376 table181376;
typedef struct keyvaluepairseq181379 keyvaluepairseq181379;
typedef struct keyvaluepair181382 keyvaluepair181382;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct tcell45946 tcell45946;
typedef struct tcellseq45962 tcellseq45962;
typedef struct tgcheap47816 tgcheap47816;
typedef struct tcellset45958 tcellset45958;
typedef struct tpagedesc45954 tpagedesc45954;
typedef struct tmemregion27810 tmemregion27810;
typedef struct tsmallchunk27040 tsmallchunk27040;
typedef struct tllchunk27804 tllchunk27804;
typedef struct tbigchunk27042 tbigchunk27042;
typedef struct tintset27017 tintset27017;
typedef struct ttrunk27013 ttrunk27013;
typedef struct tavlnode27808 tavlnode27808;
typedef struct tgcstat47814 tgcstat47814;
typedef struct table327052 table327052;
typedef struct keyvaluepairseq327055 keyvaluepairseq327055;
typedef struct keyvaluepair327058 keyvaluepair327058;
typedef struct table328411 table328411;
typedef struct keyvaluepairseq328414 keyvaluepairseq328414;
typedef struct keyvaluepair328417 keyvaluepair328417;
typedef struct tindexentry328398 tindexentry328398;
typedef struct TY330711 TY330711;
typedef struct tbasechunk27038 tbasechunk27038;
typedef struct tfreecell27030 tfreecell27030;
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct keyvaluepair181382 {
NI Field0;
NimStringDesc* Field1;
NI32 Field2;
};
struct  table181376  {
keyvaluepairseq181379* Data;
NI Counter;
};
typedef N_NIMCALL_PTR(void, TY3289) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, TY3294) (void* p);
struct  TNimType  {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY3289 marker;
TY3294 deepcopy;
};
struct  TNimNode  {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct  tcell45946  {
NI Refcount;
TNimType* Typ;
};
struct  tcellseq45962  {
NI Len;
NI Cap;
tcell45946** D;
};
struct  tcellset45958  {
NI Counter;
NI Max;
tpagedesc45954* Head;
tpagedesc45954** Data;
};
typedef tsmallchunk27040* TY27822[512];
typedef ttrunk27013* ttrunkbuckets27015[256];
struct  tintset27017  {
ttrunkbuckets27015 Data;
};
struct  tmemregion27810  {
NI Minlargeobj;
NI Maxlargeobj;
TY27822 Freesmallchunks;
tllchunk27804* Llmem;
NI Currmem;
NI Maxmem;
NI Freemem;
NI Lastsize;
tbigchunk27042* Freechunkslist;
tintset27017 Chunkstarts;
tavlnode27808* Root;
tavlnode27808* Deleted;
tavlnode27808* Last;
tavlnode27808* Freeavlnodes;
};
struct  tgcstat47814  {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
NI64 Maxpause;
};
struct  tgcheap47816  {
void* Stackbottom;
NI Cyclethreshold;
tcellseq45962 Zct;
tcellseq45962 Decstack;
tcellset45958 Cycleroots;
tcellseq45962 Tempstack;
NI Recgclock;
tmemregion27810 Region;
tgcstat47814 Stat;
};
struct keyvaluepair327058 {
NI Field0;
NimStringDesc* Field1;
NI Field2;
};
struct  table327052  {
keyvaluepairseq327055* Data;
NI Counter;
};
struct  tindexentry328398  {
NimStringDesc* Keyword;
NimStringDesc* Link;
NimStringDesc* Linktitle;
NimStringDesc* Linkdesc;
};
struct keyvaluepair328417 {
NI Field0;
tindexentry328398 Field1;
TY330711* Field2;
};
struct  table328411  {
keyvaluepairseq328414* Data;
NI Counter;
};
typedef NI TY27020[8];
struct  tpagedesc45954  {
tpagedesc45954* Next;
NI Key;
TY27020 Bits;
};
struct  tbasechunk27038  {
NI Prevsize;
NI Size;
NIM_BOOL Used;
};
struct  tsmallchunk27040  {
  tbasechunk27038 Sup;
tsmallchunk27040* Next;
tsmallchunk27040* Prev;
tfreecell27030* Freelist;
NI Free;
NI Acc;
NF Data;
};
struct  tllchunk27804  {
NI Size;
NI Acc;
tllchunk27804* Next;
};
struct  tbigchunk27042  {
  tbasechunk27038 Sup;
tbigchunk27042* Next;
tbigchunk27042* Prev;
NI Align;
NF Data;
};
struct  ttrunk27013  {
ttrunk27013* Next;
NI Key;
TY27020 Bits;
};
typedef tavlnode27808* TY27814[2];
struct  tavlnode27808  {
TY27814 Link;
NI Key;
NI Upperbound;
NI Level;
};
struct  tfreecell27030  {
tfreecell27030* Next;
NI Zerofield;
};
struct keyvaluepairseq181379 {
  TGenericSeq Sup;
  keyvaluepair181382 data[SEQ_DECL_SIZE];
};
struct keyvaluepairseq327055 {
  TGenericSeq Sup;
  keyvaluepair327058 data[SEQ_DECL_SIZE];
};
struct TY330711 {
  TGenericSeq Sup;
  tindexentry328398 data[SEQ_DECL_SIZE];
};
struct keyvaluepairseq328414 {
  TGenericSeq Sup;
  keyvaluepair328417 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, nimGCvisit)(void* d, NI op);
N_NIMCALL(void, TMP131)(void* p, NI op);
N_NIMCALL(void*, newSeq)(TNimType* typ, NI len);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
static N_INLINE(NI, rawget_181558)(table181376 t, NimStringDesc* key, NI* hc);
N_NIMCALL(NI, hash_128839)(NimStringDesc* x);
static N_INLINE(NIM_BOOL, isfilled_172211)(NI hcode);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b);
static N_INLINE(NI, nexttry_172417)(NI h, NI maxhash);
static N_INLINE(NIM_BOOL, mustrehash_172313)(NI length, NI counter);
N_NIMCALL(void, enlarge_181675)(table181376* t);
static N_INLINE(NI, rawgetknownhc_181729)(table181376 t, NimStringDesc* key, NI hc);
N_NIMCALL(void, rawinsert_181755)(table181376* t, keyvaluepairseq181379** data, NimStringDesc* key, NI32 val, NI hc, NI h);
N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
static N_INLINE(tcell45946*, usrtocell_49446)(void* usr);
static N_INLINE(void, rtladdzct_51004)(tcell45946* c);
N_NOINLINE(void, addzct_49417)(tcellseq45962* s, tcell45946* c);
static N_INLINE(NI, rawget_328086)(table327052 t, NimStringDesc* key, NI* hc);
N_NIMCALL(void, enlarge_328185)(table327052* t);
N_NIMCALL(void, TMP2475)(void* p, NI op);
static N_INLINE(NI, rawgetknownhc_328239)(table327052 t, NimStringDesc* key, NI hc);
N_NIMCALL(void, rawinsert_328265)(table327052* t, keyvaluepairseq327055** data, NimStringDesc* key, NI val, NI hc, NI h);
N_NIMCALL(void, TMP4876)(void* p, NI op);
static N_INLINE(NI, rawget_330296)(table328411 t, tindexentry328398* key, NI* hc);
N_NIMCALL(NI, hash_328443)(tindexentry328398* x);
N_NIMCALL(NIM_BOOL, HEX3DHEX3D_330311)(tindexentry328398* x, tindexentry328398* y);
N_NIMCALL(void, genericSeqAssign)(void* dest, void* src_80404, TNimType* mt);
N_NIMCALL(void, enlarge_331109)(table328411* t);
static N_INLINE(NI, rawgetknownhc_331163)(table328411 t, tindexentry328398* key, NI hc);
N_NIMCALL(void, rawinsert_331198)(table328411* t, keyvaluepairseq328414** data, tindexentry328398* key, TY330711* val, NI hc, NI h);
TNimType NTI181382; /* KeyValuePair */
extern TNimType NTI128021; /* THash */
extern TNimType NTI149; /* string */
extern TNimType NTI114; /* int32 */
TNimType NTI181379; /* KeyValuePairSeq */
TNimType NTI181376; /* Table */
extern TNimType NTI108; /* int */
extern tgcheap47816 gch_47844;
TNimType NTI327058; /* KeyValuePair */
TNimType NTI327055; /* KeyValuePairSeq */
TNimType NTI327052; /* Table */
TNimType NTI328417; /* KeyValuePair */
extern TNimType NTI328398; /* TIndexEntry */
extern TNimType NTI330711; /* seq[TIndexEntry] */
TNimType NTI328414; /* KeyValuePairSeq */
N_NIMCALL(void, TMP131)(void* p, NI op) {
	keyvaluepairseq181379* a;
	NI LOC1;
	a = (keyvaluepairseq181379*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Field1, op);
	}
}

N_NIMCALL(void, inittable_181368)(NI initialsize, table181376* Result) {
	(*Result).Counter = ((NI) 0);
	unsureAsgnRef((void**) (&(*Result).Data), (keyvaluepairseq181379*) newSeq((&NTI181379), initialsize));
}

static N_INLINE(NIM_BOOL, isfilled_172211)(NI hcode) {
	NIM_BOOL result;
	result = 0;
	result = !((hcode == ((NI) 0)));
	return result;
}

static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b) {
	NIM_BOOL result;
	NIM_BOOL LOC11;
	int LOC13;
{	result = 0;
	{
		if (!(a == b)) goto LA3;
		result = NIM_TRUE;
		goto BeforeRet;
	}
	LA3: ;
	{
		NIM_BOOL LOC7;
		LOC7 = 0;
		LOC7 = (a == NIM_NIL);
		if (LOC7) goto LA8;
		LOC7 = (b == NIM_NIL);
		LA8: ;
		if (!LOC7) goto LA9;
		result = NIM_FALSE;
		goto BeforeRet;
	}
	LA9: ;
	LOC11 = 0;
	LOC11 = ((*a).Sup.len == (*b).Sup.len);
	if (!(LOC11)) goto LA12;
	LOC13 = 0;
	LOC13 = memcmp(((NCSTRING) ((*a).data)), ((NCSTRING) ((*b).data)), (*a).Sup.len);
	LOC11 = (LOC13 == ((NI32) 0));
	LA12: ;
	result = LOC11;
	goto BeforeRet;
	}BeforeRet: ;
	return result;
}

static N_INLINE(NI, nexttry_172417)(NI h, NI maxhash) {
	NI result;
	result = 0;
	result = (NI)((NI64)(h + ((NI) 1)) & maxhash);
	return result;
}

static N_INLINE(NI, rawget_181558)(table181376 t, NimStringDesc* key, NI* hc) {
	NI result;
	NI h;
{	result = 0;
	(*hc) = hash_128839(key);
	{
		if (!((*hc) == ((NI) 0))) goto LA3;
		(*hc) = ((NI) 314159265);
	}
	LA3: ;
	h = (NI)((*hc) & (t.Data->Sup.len-1));
	{
		while (1) {
			NIM_BOOL LOC7;
			LOC7 = 0;
			LOC7 = isfilled_172211(t.Data->data[h].Field0);
			if (!LOC7) goto LA6;
			{
				NIM_BOOL LOC10;
				LOC10 = 0;
				LOC10 = (t.Data->data[h].Field0 == (*hc));
				if (!(LOC10)) goto LA11;
				LOC10 = eqStrings(t.Data->data[h].Field1, key);
				LA11: ;
				if (!LOC10) goto LA12;
				result = h;
				goto BeforeRet;
			}
			LA12: ;
			h = nexttry_172417(h, (t.Data->Sup.len-1));
		} LA6: ;
	}
	result = (NI64)(((NI) -1) - h);
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NIM_BOOL, haskey_181546)(table181376 t, NimStringDesc* key) {
	NIM_BOOL result;
	NI hc;
	NI LOC1;
	result = 0;
	hc = 0;
	LOC1 = 0;
	LOC1 = rawget_181558(t, key, (&hc));
	result = (((NI) 0) <= LOC1);
	return result;
}

N_NIMCALL(NI32, HEX5BHEX5D_181589)(table181376 t, NimStringDesc* key) {
	NI32 result;
	NI hc;
	NI index;
	result = 0;
	hc = 0;
	index = rawget_181558(t, key, (&hc));
	{
		if (!(((NI) 0) <= index)) goto LA3;
		result = t.Data->data[index].Field2;
	}
	LA3: ;
	return result;
}

static N_INLINE(NIM_BOOL, mustrehash_172313)(NI length, NI counter) {
	NIM_BOOL result;
	NIM_BOOL LOC1;
	result = 0;
	LOC1 = 0;
	LOC1 = ((NI64)(length * ((NI) 2)) < (NI64)(counter * ((NI) 3)));
	if (LOC1) goto LA2;
	LOC1 = ((NI64)(length - counter) < ((NI) 4));
	LA2: ;
	result = LOC1;
	return result;
}

static N_INLINE(NI, rawgetknownhc_181729)(table181376 t, NimStringDesc* key, NI hc) {
	NI result;
	NI h;
{	result = 0;
	h = (NI)(hc & (t.Data->Sup.len-1));
	{
		while (1) {
			NIM_BOOL LOC3;
			LOC3 = 0;
			LOC3 = isfilled_172211(t.Data->data[h].Field0);
			if (!LOC3) goto LA2;
			{
				NIM_BOOL LOC6;
				LOC6 = 0;
				LOC6 = (t.Data->data[h].Field0 == hc);
				if (!(LOC6)) goto LA7;
				LOC6 = eqStrings(t.Data->data[h].Field1, key);
				LA7: ;
				if (!LOC6) goto LA8;
				result = h;
				goto BeforeRet;
			}
			LA8: ;
			h = nexttry_172417(h, (t.Data->Sup.len-1));
		} LA2: ;
	}
	result = (NI64)(((NI) -1) - h);
	}BeforeRet: ;
	return result;
}

static N_INLINE(tcell45946*, usrtocell_49446)(void* usr) {
	tcell45946* result;
	result = 0;
	result = ((tcell45946*) ((NI)((NU64)(((NI) (usr))) - (NU64)(((NI)sizeof(tcell45946))))));
	return result;
}

static N_INLINE(void, rtladdzct_51004)(tcell45946* c) {
	addzct_49417((&gch_47844.Zct), c);
}

static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	tcell45946* c;
	c = usrtocell_49446(p);
	{
		(*c).Refcount -= ((NI) 8);
		if (!((NU64)((*c).Refcount) < (NU64)(((NI) 8)))) goto LA3;
		rtladdzct_51004(c);
	}
	LA3: ;
}

N_NIMCALL(void, rawinsert_181755)(table181376* t, keyvaluepairseq181379** data, NimStringDesc* key, NI32 val, NI hc, NI h) {
	NimStringDesc* LOC1;
	LOC1 = 0;
	LOC1 = (*data)->data[h].Field1; (*data)->data[h].Field1 = copyStringRC1(key);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	(*data)->data[h].Field2 = val;
	(*data)->data[h].Field0 = hc;
}

N_NIMCALL(void, enlarge_181675)(table181376* t) {
	keyvaluepairseq181379* n;
	keyvaluepairseq181379* LOC1;
	n = 0;
	n = (keyvaluepairseq181379*) newSeq((&NTI181379), (NI64)((*t).Data->Sup.len * ((NI) 2)));
	LOC1 = 0;
	LOC1 = (*t).Data;
	unsureAsgnRef((void**) (&(*t).Data), n);
	n = LOC1;
	{
		NI i_181727;
		NI HEX3Atmp_181781;
		NI res_181784;
		i_181727 = 0;
		HEX3Atmp_181781 = 0;
		HEX3Atmp_181781 = (n->Sup.len-1);
		res_181784 = ((NI) 0);
		{
			while (1) {
				if (!(res_181784 <= HEX3Atmp_181781)) goto LA4;
				i_181727 = res_181784;
				{
					NIM_BOOL LOC7;
					NI j;
					NI LOC10;
					LOC7 = 0;
					LOC7 = isfilled_172211(n->data[i_181727].Field0);
					if (!LOC7) goto LA8;
					LOC10 = 0;
					LOC10 = rawgetknownhc_181729((*t), n->data[i_181727].Field1, n->data[i_181727].Field0);
					j = (NI64)(((NI) -1) - LOC10);
					rawinsert_181755(t, (&(*t).Data), n->data[i_181727].Field1, n->data[i_181727].Field2, n->data[i_181727].Field0, j);
				}
				LA8: ;
				res_181784 += ((NI) 1);
			} LA4: ;
		}
	}
}

N_NIMCALL(void, HEX5BHEX5DHEX3D_181638)(table181376* t, NimStringDesc* key, NI32 val) {
	NI hc;
	NI index;
	hc = 0;
	index = rawget_181558((*t), key, (&hc));
	{
		if (!(((NI) 0) <= index)) goto LA3;
		(*t).Data->data[index].Field2 = val;
	}
	goto LA1;
	LA3: ;
	{
		{
			NIM_BOOL LOC8;
			LOC8 = 0;
			LOC8 = mustrehash_172313((*t).Data->Sup.len, (*t).Counter);
			if (!LOC8) goto LA9;
			enlarge_181675(t);
			index = rawgetknownhc_181729((*t), key, hc);
		}
		LA9: ;
		index = (NI64)(((NI) -1) - index);
		rawinsert_181755(t, (&(*t).Data), key, val, hc, index);
		(*t).Counter += ((NI) 1);
	}
	LA1: ;
}

static N_INLINE(NI, rawget_328086)(table327052 t, NimStringDesc* key, NI* hc) {
	NI result;
	NI h;
{	result = 0;
	(*hc) = hash_128839(key);
	{
		if (!((*hc) == ((NI) 0))) goto LA3;
		(*hc) = ((NI) 314159265);
	}
	LA3: ;
	h = (NI)((*hc) & (t.Data->Sup.len-1));
	{
		while (1) {
			NIM_BOOL LOC7;
			LOC7 = 0;
			LOC7 = isfilled_172211(t.Data->data[h].Field0);
			if (!LOC7) goto LA6;
			{
				NIM_BOOL LOC10;
				LOC10 = 0;
				LOC10 = (t.Data->data[h].Field0 == (*hc));
				if (!(LOC10)) goto LA11;
				LOC10 = eqStrings(t.Data->data[h].Field1, key);
				LA11: ;
				if (!LOC10) goto LA12;
				result = h;
				goto BeforeRet;
			}
			LA12: ;
			h = nexttry_172417(h, (t.Data->Sup.len-1));
		} LA6: ;
	}
	result = (NI64)(((NI) -1) - h);
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NIM_BOOL, haskey_328074)(table327052 t, NimStringDesc* key) {
	NIM_BOOL result;
	NI hc;
	NI LOC1;
	result = 0;
	hc = 0;
	LOC1 = 0;
	LOC1 = rawget_328086(t, key, (&hc));
	result = (((NI) 0) <= LOC1);
	return result;
}
N_NIMCALL(void, TMP2475)(void* p, NI op) {
	keyvaluepairseq327055* a;
	NI LOC1;
	a = (keyvaluepairseq327055*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Field1, op);
	}
}

static N_INLINE(NI, rawgetknownhc_328239)(table327052 t, NimStringDesc* key, NI hc) {
	NI result;
	NI h;
{	result = 0;
	h = (NI)(hc & (t.Data->Sup.len-1));
	{
		while (1) {
			NIM_BOOL LOC3;
			LOC3 = 0;
			LOC3 = isfilled_172211(t.Data->data[h].Field0);
			if (!LOC3) goto LA2;
			{
				NIM_BOOL LOC6;
				LOC6 = 0;
				LOC6 = (t.Data->data[h].Field0 == hc);
				if (!(LOC6)) goto LA7;
				LOC6 = eqStrings(t.Data->data[h].Field1, key);
				LA7: ;
				if (!LOC6) goto LA8;
				result = h;
				goto BeforeRet;
			}
			LA8: ;
			h = nexttry_172417(h, (t.Data->Sup.len-1));
		} LA2: ;
	}
	result = (NI64)(((NI) -1) - h);
	}BeforeRet: ;
	return result;
}

N_NIMCALL(void, rawinsert_328265)(table327052* t, keyvaluepairseq327055** data, NimStringDesc* key, NI val, NI hc, NI h) {
	NimStringDesc* LOC1;
	LOC1 = 0;
	LOC1 = (*data)->data[h].Field1; (*data)->data[h].Field1 = copyStringRC1(key);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	(*data)->data[h].Field2 = val;
	(*data)->data[h].Field0 = hc;
}

N_NIMCALL(void, enlarge_328185)(table327052* t) {
	keyvaluepairseq327055* n;
	keyvaluepairseq327055* LOC1;
	n = 0;
	n = (keyvaluepairseq327055*) newSeq((&NTI327055), (NI64)((*t).Data->Sup.len * ((NI) 2)));
	LOC1 = 0;
	LOC1 = (*t).Data;
	unsureAsgnRef((void**) (&(*t).Data), n);
	n = LOC1;
	{
		NI i_328237;
		NI HEX3Atmp_328291;
		NI res_328294;
		i_328237 = 0;
		HEX3Atmp_328291 = 0;
		HEX3Atmp_328291 = (n->Sup.len-1);
		res_328294 = ((NI) 0);
		{
			while (1) {
				if (!(res_328294 <= HEX3Atmp_328291)) goto LA4;
				i_328237 = res_328294;
				{
					NIM_BOOL LOC7;
					NI j;
					NI LOC10;
					LOC7 = 0;
					LOC7 = isfilled_172211(n->data[i_328237].Field0);
					if (!LOC7) goto LA8;
					LOC10 = 0;
					LOC10 = rawgetknownhc_328239((*t), n->data[i_328237].Field1, n->data[i_328237].Field0);
					j = (NI64)(((NI) -1) - LOC10);
					rawinsert_328265(t, (&(*t).Data), n->data[i_328237].Field1, n->data[i_328237].Field2, n->data[i_328237].Field0, j);
				}
				LA8: ;
				res_328294 += ((NI) 1);
			} LA4: ;
		}
	}
}

N_NIMCALL(void, HEX5BHEX5DHEX3D_328148)(table327052* t, NimStringDesc* key, NI val) {
	NI hc;
	NI index;
	hc = 0;
	index = rawget_328086((*t), key, (&hc));
	{
		if (!(((NI) 0) <= index)) goto LA3;
		(*t).Data->data[index].Field2 = val;
	}
	goto LA1;
	LA3: ;
	{
		{
			NIM_BOOL LOC8;
			LOC8 = 0;
			LOC8 = mustrehash_172313((*t).Data->Sup.len, (*t).Counter);
			if (!LOC8) goto LA9;
			enlarge_328185(t);
			index = rawgetknownhc_328239((*t), key, hc);
		}
		LA9: ;
		index = (NI64)(((NI) -1) - index);
		rawinsert_328265(t, (&(*t).Data), key, val, hc, index);
		(*t).Counter += ((NI) 1);
	}
	LA1: ;
}

N_NIMCALL(NI, HEX5BHEX5D_328117)(table327052 t, NimStringDesc* key) {
	NI result;
	NI hc;
	NI index;
	result = 0;
	hc = 0;
	index = rawget_328086(t, key, (&hc));
	{
		if (!(((NI) 0) <= index)) goto LA3;
		result = t.Data->data[index].Field2;
	}
	LA3: ;
	return result;
}

N_NIMCALL(void, inittable_327118)(NI initialsize, table327052* Result) {
	(*Result).Counter = ((NI) 0);
	unsureAsgnRef((void**) (&(*Result).Data), (keyvaluepairseq327055*) newSeq((&NTI327055), initialsize));
}
N_NIMCALL(void, TMP4876)(void* p, NI op) {
	keyvaluepairseq328414* a;
	NI LOC1;
	a = (keyvaluepairseq328414*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Field1.Keyword, op);
	nimGCvisit((void*)a->data[LOC1].Field1.Link, op);
	nimGCvisit((void*)a->data[LOC1].Field1.Linktitle, op);
	nimGCvisit((void*)a->data[LOC1].Field1.Linkdesc, op);
	nimGCvisit((void*)a->data[LOC1].Field2, op);
	}
}

N_NIMCALL(void, inittable_330735)(NI initialsize, table328411* Result) {
	(*Result).Counter = ((NI) 0);
	unsureAsgnRef((void**) (&(*Result).Data), (keyvaluepairseq328414*) newSeq((&NTI328414), initialsize));
}

N_NIMCALL(NI, len_331060)(table328411 t) {
	NI result;
	result = 0;
	result = t.Counter;
	return result;
}

static N_INLINE(NI, rawget_330296)(table328411 t, tindexentry328398* key, NI* hc) {
	NI result;
	NI h;
{	result = 0;
	(*hc) = hash_328443(key);
	{
		if (!((*hc) == ((NI) 0))) goto LA3;
		(*hc) = ((NI) 314159265);
	}
	LA3: ;
	h = (NI)((*hc) & (t.Data->Sup.len-1));
	{
		while (1) {
			NIM_BOOL LOC7;
			LOC7 = 0;
			LOC7 = isfilled_172211(t.Data->data[h].Field0);
			if (!LOC7) goto LA6;
			{
				NIM_BOOL LOC10;
				LOC10 = 0;
				LOC10 = (t.Data->data[h].Field0 == (*hc));
				if (!(LOC10)) goto LA11;
				LOC10 = HEX3DHEX3D_330311((&t.Data->data[h].Field1), key);
				LA11: ;
				if (!LOC10) goto LA12;
				result = h;
				goto BeforeRet;
			}
			LA12: ;
			h = nexttry_172417(h, (t.Data->Sup.len-1));
		} LA6: ;
	}
	result = (NI64)(((NI) -1) - h);
	}BeforeRet: ;
	return result;
}

static N_INLINE(NI, rawgetknownhc_331163)(table328411 t, tindexentry328398* key, NI hc) {
	NI result;
	NI h;
{	result = 0;
	h = (NI)(hc & (t.Data->Sup.len-1));
	{
		while (1) {
			NIM_BOOL LOC3;
			LOC3 = 0;
			LOC3 = isfilled_172211(t.Data->data[h].Field0);
			if (!LOC3) goto LA2;
			{
				NIM_BOOL LOC6;
				LOC6 = 0;
				LOC6 = (t.Data->data[h].Field0 == hc);
				if (!(LOC6)) goto LA7;
				LOC6 = HEX3DHEX3D_330311((&t.Data->data[h].Field1), key);
				LA7: ;
				if (!LOC6) goto LA8;
				result = h;
				goto BeforeRet;
			}
			LA8: ;
			h = nexttry_172417(h, (t.Data->Sup.len-1));
		} LA2: ;
	}
	result = (NI64)(((NI) -1) - h);
	}BeforeRet: ;
	return result;
}

N_NIMCALL(void, rawinsert_331198)(table328411* t, keyvaluepairseq328414** data, tindexentry328398* key, TY330711* val, NI hc, NI h) {
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	NimStringDesc* LOC3;
	NimStringDesc* LOC4;
	LOC1 = 0;
	LOC1 = (*data)->data[h].Field1.Keyword; (*data)->data[h].Field1.Keyword = copyStringRC1((*key).Keyword);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	LOC2 = 0;
	LOC2 = (*data)->data[h].Field1.Link; (*data)->data[h].Field1.Link = copyStringRC1((*key).Link);
	if (LOC2) nimGCunrefNoCycle(LOC2);
	LOC3 = 0;
	LOC3 = (*data)->data[h].Field1.Linktitle; (*data)->data[h].Field1.Linktitle = copyStringRC1((*key).Linktitle);
	if (LOC3) nimGCunrefNoCycle(LOC3);
	LOC4 = 0;
	LOC4 = (*data)->data[h].Field1.Linkdesc; (*data)->data[h].Field1.Linkdesc = copyStringRC1((*key).Linkdesc);
	if (LOC4) nimGCunrefNoCycle(LOC4);
	genericSeqAssign((&(*data)->data[h].Field2), val, (&NTI330711));
	(*data)->data[h].Field0 = hc;
}

N_NIMCALL(void, enlarge_331109)(table328411* t) {
	keyvaluepairseq328414* n;
	keyvaluepairseq328414* LOC1;
	n = 0;
	n = (keyvaluepairseq328414*) newSeq((&NTI328414), (NI64)((*t).Data->Sup.len * ((NI) 2)));
	LOC1 = 0;
	LOC1 = (*t).Data;
	unsureAsgnRef((void**) (&(*t).Data), n);
	n = LOC1;
	{
		NI i_331161;
		NI HEX3Atmp_331224;
		NI res_331227;
		i_331161 = 0;
		HEX3Atmp_331224 = 0;
		HEX3Atmp_331224 = (n->Sup.len-1);
		res_331227 = ((NI) 0);
		{
			while (1) {
				if (!(res_331227 <= HEX3Atmp_331224)) goto LA4;
				i_331161 = res_331227;
				{
					NIM_BOOL LOC7;
					NI j;
					NI LOC10;
					LOC7 = 0;
					LOC7 = isfilled_172211(n->data[i_331161].Field0);
					if (!LOC7) goto LA8;
					LOC10 = 0;
					LOC10 = rawgetknownhc_331163((*t), (&n->data[i_331161].Field1), n->data[i_331161].Field0);
					j = (NI64)(((NI) -1) - LOC10);
					rawinsert_331198(t, (&(*t).Data), (&n->data[i_331161].Field1), n->data[i_331161].Field2, n->data[i_331161].Field0, j);
				}
				LA8: ;
				res_331227 += ((NI) 1);
			} LA4: ;
		}
	}
}

N_NIMCALL(void, HEX5BHEX5DHEX3D_331072)(table328411* t, tindexentry328398* key, TY330711* val) {
	NI hc;
	NI index;
	hc = 0;
	index = rawget_330296((*t), key, (&hc));
	{
		if (!(((NI) 0) <= index)) goto LA3;
		genericSeqAssign((&(*t).Data->data[index].Field2), val, (&NTI330711));
	}
	goto LA1;
	LA3: ;
	{
		{
			NIM_BOOL LOC8;
			LOC8 = 0;
			LOC8 = mustrehash_172313((*t).Data->Sup.len, (*t).Counter);
			if (!LOC8) goto LA9;
			enlarge_331109(t);
			index = rawgetknownhc_331163((*t), key, hc);
		}
		LA9: ;
		index = (NI64)(((NI) -1) - index);
		rawinsert_331198(t, (&(*t).Data), key, val, hc, index);
		(*t).Counter += ((NI) 1);
	}
	LA1: ;
}

N_NIMCALL(TY330711*, HEX5BHEX5D_330284)(table328411 t, tindexentry328398* key) {
	TY330711* result;
	NI hc;
	NI index;
	result = 0;
	hc = 0;
	index = rawget_330296(t, key, (&hc));
	{
		if (!(((NI) 0) <= index)) goto LA3;
		genericSeqAssign((&result), t.Data->data[index].Field2, (&NTI330711));
	}
	LA3: ;
	return result;
}
NIM_EXTERNC N_NOINLINE(void, stdlib_tablesInit)(void) {
}

NIM_EXTERNC N_NOINLINE(void, stdlib_tablesDatInit)(void) {
static TNimNode* TMP130[3];
static TNimNode* TMP134[2];
static TNimNode* TMP2474[3];
static TNimNode* TMP4715[2];
static TNimNode* TMP4873[3];
static TNimNode TMP55[18];
NTI181382.size = sizeof(keyvaluepair181382);
NTI181382.kind = 18;
NTI181382.base = 0;
NTI181382.flags = 2;
TMP130[0] = &TMP55[1];
TMP55[1].kind = 1;
TMP55[1].offset = offsetof(keyvaluepair181382, Field0);
TMP55[1].typ = (&NTI128021);
TMP55[1].name = "Field0";
TMP130[1] = &TMP55[2];
TMP55[2].kind = 1;
TMP55[2].offset = offsetof(keyvaluepair181382, Field1);
TMP55[2].typ = (&NTI149);
TMP55[2].name = "Field1";
TMP130[2] = &TMP55[3];
TMP55[3].kind = 1;
TMP55[3].offset = offsetof(keyvaluepair181382, Field2);
TMP55[3].typ = (&NTI114);
TMP55[3].name = "Field2";
TMP55[0].len = 3; TMP55[0].kind = 2; TMP55[0].sons = &TMP130[0];
NTI181382.node = &TMP55[0];
NTI181379.size = sizeof(keyvaluepairseq181379*);
NTI181379.kind = 24;
NTI181379.base = (&NTI181382);
NTI181379.flags = 2;
NTI181379.marker = TMP131;
NTI181376.size = sizeof(table181376);
NTI181376.kind = 18;
NTI181376.base = 0;
NTI181376.flags = 2;
TMP134[0] = &TMP55[5];
TMP55[5].kind = 1;
TMP55[5].offset = offsetof(table181376, Data);
TMP55[5].typ = (&NTI181379);
TMP55[5].name = "data";
TMP134[1] = &TMP55[6];
TMP55[6].kind = 1;
TMP55[6].offset = offsetof(table181376, Counter);
TMP55[6].typ = (&NTI108);
TMP55[6].name = "counter";
TMP55[4].len = 2; TMP55[4].kind = 2; TMP55[4].sons = &TMP134[0];
NTI181376.node = &TMP55[4];
NTI327058.size = sizeof(keyvaluepair327058);
NTI327058.kind = 18;
NTI327058.base = 0;
NTI327058.flags = 2;
TMP2474[0] = &TMP55[8];
TMP55[8].kind = 1;
TMP55[8].offset = offsetof(keyvaluepair327058, Field0);
TMP55[8].typ = (&NTI128021);
TMP55[8].name = "Field0";
TMP2474[1] = &TMP55[9];
TMP55[9].kind = 1;
TMP55[9].offset = offsetof(keyvaluepair327058, Field1);
TMP55[9].typ = (&NTI149);
TMP55[9].name = "Field1";
TMP2474[2] = &TMP55[10];
TMP55[10].kind = 1;
TMP55[10].offset = offsetof(keyvaluepair327058, Field2);
TMP55[10].typ = (&NTI108);
TMP55[10].name = "Field2";
TMP55[7].len = 3; TMP55[7].kind = 2; TMP55[7].sons = &TMP2474[0];
NTI327058.node = &TMP55[7];
NTI327055.size = sizeof(keyvaluepairseq327055*);
NTI327055.kind = 24;
NTI327055.base = (&NTI327058);
NTI327055.flags = 2;
NTI327055.marker = TMP2475;
NTI327052.size = sizeof(table327052);
NTI327052.kind = 18;
NTI327052.base = 0;
NTI327052.flags = 2;
TMP4715[0] = &TMP55[12];
TMP55[12].kind = 1;
TMP55[12].offset = offsetof(table327052, Data);
TMP55[12].typ = (&NTI327055);
TMP55[12].name = "data";
TMP4715[1] = &TMP55[13];
TMP55[13].kind = 1;
TMP55[13].offset = offsetof(table327052, Counter);
TMP55[13].typ = (&NTI108);
TMP55[13].name = "counter";
TMP55[11].len = 2; TMP55[11].kind = 2; TMP55[11].sons = &TMP4715[0];
NTI327052.node = &TMP55[11];
NTI328417.size = sizeof(keyvaluepair328417);
NTI328417.kind = 18;
NTI328417.base = 0;
NTI328417.flags = 2;
TMP4873[0] = &TMP55[15];
TMP55[15].kind = 1;
TMP55[15].offset = offsetof(keyvaluepair328417, Field0);
TMP55[15].typ = (&NTI128021);
TMP55[15].name = "Field0";
TMP4873[1] = &TMP55[16];
TMP55[16].kind = 1;
TMP55[16].offset = offsetof(keyvaluepair328417, Field1);
TMP55[16].typ = (&NTI328398);
TMP55[16].name = "Field1";
TMP4873[2] = &TMP55[17];
TMP55[17].kind = 1;
TMP55[17].offset = offsetof(keyvaluepair328417, Field2);
TMP55[17].typ = (&NTI330711);
TMP55[17].name = "Field2";
TMP55[14].len = 3; TMP55[14].kind = 2; TMP55[14].sons = &TMP4873[0];
NTI328417.node = &TMP55[14];
NTI328414.size = sizeof(keyvaluepairseq328414*);
NTI328414.kind = 24;
NTI328414.base = (&NTI328417);
NTI328414.flags = 2;
NTI328414.marker = TMP4876;
}

