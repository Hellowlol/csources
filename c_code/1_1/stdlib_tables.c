/* Generated by Nim Compiler v0.10.3 */
/*   (c) 2015 Andreas Rumpf */
/* The generated code is subject to the original license. */
#define NIM_INTBITS 32
#include "nimbase.h"

#include <string.h>
typedef struct table182376 table182376;
typedef struct keyvaluepairseq182379 keyvaluepairseq182379;
typedef struct keyvaluepair182382 keyvaluepair182382;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct tcell45946 tcell45946;
typedef struct tcellseq45962 tcellseq45962;
typedef struct tgcheap47816 tgcheap47816;
typedef struct tcellset45958 tcellset45958;
typedef struct tpagedesc45954 tpagedesc45954;
typedef struct tmemregion27810 tmemregion27810;
typedef struct tsmallchunk27040 tsmallchunk27040;
typedef struct tllchunk27804 tllchunk27804;
typedef struct tbigchunk27042 tbigchunk27042;
typedef struct tintset27017 tintset27017;
typedef struct ttrunk27013 ttrunk27013;
typedef struct tavlnode27808 tavlnode27808;
typedef struct tgcstat47814 tgcstat47814;
typedef struct table328052 table328052;
typedef struct keyvaluepairseq328055 keyvaluepairseq328055;
typedef struct keyvaluepair328058 keyvaluepair328058;
typedef struct table329411 table329411;
typedef struct keyvaluepairseq329414 keyvaluepairseq329414;
typedef struct keyvaluepair329417 keyvaluepair329417;
typedef struct tindexentry329398 tindexentry329398;
typedef struct TY331711 TY331711;
typedef struct tbasechunk27038 tbasechunk27038;
typedef struct tfreecell27030 tfreecell27030;
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct keyvaluepair182382 {
NI Field0;
NimStringDesc* Field1;
NI32 Field2;
};
struct  table182376  {
keyvaluepairseq182379* Data;
NI Counter;
};
typedef N_NIMCALL_PTR(void, TY3289) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, TY3294) (void* p);
struct  TNimType  {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY3289 marker;
TY3294 deepcopy;
};
struct  TNimNode  {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct  tcell45946  {
NI Refcount;
TNimType* Typ;
};
struct  tcellseq45962  {
NI Len;
NI Cap;
tcell45946** D;
};
struct  tcellset45958  {
NI Counter;
NI Max;
tpagedesc45954* Head;
tpagedesc45954** Data;
};
typedef tsmallchunk27040* TY27822[512];
typedef ttrunk27013* ttrunkbuckets27015[256];
struct  tintset27017  {
ttrunkbuckets27015 Data;
};
struct  tmemregion27810  {
NI Minlargeobj;
NI Maxlargeobj;
TY27822 Freesmallchunks;
tllchunk27804* Llmem;
NI Currmem;
NI Maxmem;
NI Freemem;
NI Lastsize;
tbigchunk27042* Freechunkslist;
tintset27017 Chunkstarts;
tavlnode27808* Root;
tavlnode27808* Deleted;
tavlnode27808* Last;
tavlnode27808* Freeavlnodes;
};
struct  tgcstat47814  {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
NI64 Maxpause;
};
struct  tgcheap47816  {
void* Stackbottom;
NI Cyclethreshold;
tcellseq45962 Zct;
tcellseq45962 Decstack;
tcellset45958 Cycleroots;
tcellseq45962 Tempstack;
NI Recgclock;
tmemregion27810 Region;
tgcstat47814 Stat;
};
struct keyvaluepair328058 {
NI Field0;
NimStringDesc* Field1;
NI Field2;
};
struct  table328052  {
keyvaluepairseq328055* Data;
NI Counter;
};
struct  tindexentry329398  {
NimStringDesc* Keyword;
NimStringDesc* Link;
NimStringDesc* Linktitle;
NimStringDesc* Linkdesc;
};
struct keyvaluepair329417 {
NI Field0;
tindexentry329398 Field1;
TY331711* Field2;
};
struct  table329411  {
keyvaluepairseq329414* Data;
NI Counter;
};
typedef NI TY27020[16];
struct  tpagedesc45954  {
tpagedesc45954* Next;
NI Key;
TY27020 Bits;
};
struct  tbasechunk27038  {
NI Prevsize;
NI Size;
NIM_BOOL Used;
};
struct  tsmallchunk27040  {
  tbasechunk27038 Sup;
tsmallchunk27040* Next;
tsmallchunk27040* Prev;
tfreecell27030* Freelist;
NI Free;
NI Acc;
NF Data;
};
struct  tllchunk27804  {
NI Size;
NI Acc;
tllchunk27804* Next;
};
struct  tbigchunk27042  {
  tbasechunk27038 Sup;
tbigchunk27042* Next;
tbigchunk27042* Prev;
NI Align;
NF Data;
};
struct  ttrunk27013  {
ttrunk27013* Next;
NI Key;
TY27020 Bits;
};
typedef tavlnode27808* TY27814[2];
struct  tavlnode27808  {
TY27814 Link;
NI Key;
NI Upperbound;
NI Level;
};
struct  tfreecell27030  {
tfreecell27030* Next;
NI Zerofield;
};
struct keyvaluepairseq182379 {
  TGenericSeq Sup;
  keyvaluepair182382 data[SEQ_DECL_SIZE];
};
struct keyvaluepairseq328055 {
  TGenericSeq Sup;
  keyvaluepair328058 data[SEQ_DECL_SIZE];
};
struct TY331711 {
  TGenericSeq Sup;
  tindexentry329398 data[SEQ_DECL_SIZE];
};
struct keyvaluepairseq329414 {
  TGenericSeq Sup;
  keyvaluepair329417 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, nimGCvisit)(void* d, NI op);
N_NIMCALL(void, TMP131)(void* p, NI op);
N_NIMCALL(void*, newSeq)(TNimType* typ, NI len);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
static N_INLINE(NI, rawget_182558)(table182376 t, NimStringDesc* key, NI* hc);
N_NIMCALL(NI, hash_131839)(NimStringDesc* x);
static N_INLINE(NIM_BOOL, isfilled_173211)(NI hcode);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b);
static N_INLINE(NI, nexttry_173417)(NI h, NI maxhash);
static N_INLINE(NIM_BOOL, mustrehash_173313)(NI length, NI counter);
N_NIMCALL(void, enlarge_182675)(table182376* t);
static N_INLINE(NI, rawgetknownhc_182729)(table182376 t, NimStringDesc* key, NI hc);
N_NIMCALL(void, rawinsert_182755)(table182376* t, keyvaluepairseq182379** data, NimStringDesc* key, NI32 val, NI hc, NI h);
N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
static N_INLINE(tcell45946*, usrtocell_49446)(void* usr);
static N_INLINE(void, rtladdzct_51004)(tcell45946* c);
N_NOINLINE(void, addzct_49417)(tcellseq45962* s, tcell45946* c);
static N_INLINE(NI, rawget_329086)(table328052 t, NimStringDesc* key, NI* hc);
N_NIMCALL(void, enlarge_329185)(table328052* t);
N_NIMCALL(void, TMP2477)(void* p, NI op);
static N_INLINE(NI, rawgetknownhc_329239)(table328052 t, NimStringDesc* key, NI hc);
N_NIMCALL(void, rawinsert_329265)(table328052* t, keyvaluepairseq328055** data, NimStringDesc* key, NI val, NI hc, NI h);
N_NIMCALL(void, TMP4874)(void* p, NI op);
static N_INLINE(NI, rawget_331296)(table329411 t, tindexentry329398 key, NI* hc);
N_NIMCALL(NI, hash_329443)(tindexentry329398 x);
N_NIMCALL(NIM_BOOL, HEX3DHEX3D_331311)(tindexentry329398 x, tindexentry329398 y);
N_NIMCALL(void, genericSeqAssign)(void* dest, void* src_82204, TNimType* mt);
N_NIMCALL(void, enlarge_332109)(table329411* t);
static N_INLINE(NI, rawgetknownhc_332163)(table329411 t, tindexentry329398 key, NI hc);
N_NIMCALL(void, rawinsert_332198)(table329411* t, keyvaluepairseq329414** data, tindexentry329398 key, TY331711* val, NI hc, NI h);
TNimType NTI182382; /* KeyValuePair */
extern TNimType NTI131021; /* THash */
extern TNimType NTI149; /* string */
extern TNimType NTI114; /* int32 */
TNimType NTI182379; /* KeyValuePairSeq */
TNimType NTI182376; /* Table */
extern TNimType NTI108; /* int */
extern tgcheap47816 gch_47844;
TNimType NTI328058; /* KeyValuePair */
TNimType NTI328055; /* KeyValuePairSeq */
TNimType NTI328052; /* Table */
TNimType NTI329417; /* KeyValuePair */
extern TNimType NTI329398; /* TIndexEntry */
extern TNimType NTI331711; /* seq[TIndexEntry] */
TNimType NTI329414; /* KeyValuePairSeq */
N_NIMCALL(void, TMP131)(void* p, NI op) {
	keyvaluepairseq182379* a;
	NI LOC1;
	a = (keyvaluepairseq182379*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Field1, op);
	}
}

N_NIMCALL(void, inittable_182368)(NI initialsize, table182376* Result) {
	(*Result).Counter = ((NI) 0);
	unsureAsgnRef((void**) (&(*Result).Data), (keyvaluepairseq182379*) newSeq((&NTI182379), initialsize));
}

static N_INLINE(NIM_BOOL, isfilled_173211)(NI hcode) {
	NIM_BOOL result;
	result = 0;
	result = !((hcode == ((NI) 0)));
	return result;
}

static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b) {
	NIM_BOOL result;
	NIM_BOOL LOC11;
	int LOC13;
{	result = 0;
	{
		if (!(a == b)) goto LA3;
		result = NIM_TRUE;
		goto BeforeRet;
	}
	LA3: ;
	{
		NIM_BOOL LOC7;
		LOC7 = 0;
		LOC7 = (a == NIM_NIL);
		if (LOC7) goto LA8;
		LOC7 = (b == NIM_NIL);
		LA8: ;
		if (!LOC7) goto LA9;
		result = NIM_FALSE;
		goto BeforeRet;
	}
	LA9: ;
	LOC11 = 0;
	LOC11 = ((*a).Sup.len == (*b).Sup.len);
	if (!(LOC11)) goto LA12;
	LOC13 = 0;
	LOC13 = memcmp(((NCSTRING) ((*a).data)), ((NCSTRING) ((*b).data)), (*a).Sup.len);
	LOC11 = (LOC13 == ((NI32) 0));
	LA12: ;
	result = LOC11;
	goto BeforeRet;
	}BeforeRet: ;
	return result;
}

static N_INLINE(NI, nexttry_173417)(NI h, NI maxhash) {
	NI result;
	result = 0;
	result = (NI)((NI32)(h + ((NI) 1)) & maxhash);
	return result;
}

static N_INLINE(NI, rawget_182558)(table182376 t, NimStringDesc* key, NI* hc) {
	NI result;
	NI h;
{	result = 0;
	(*hc) = hash_131839(key);
	{
		if (!((*hc) == ((NI) 0))) goto LA3;
		(*hc) = ((NI) 314159265);
	}
	LA3: ;
	h = (NI)((*hc) & (t.Data->Sup.len-1));
	{
		while (1) {
			NIM_BOOL LOC7;
			LOC7 = 0;
			LOC7 = isfilled_173211(t.Data->data[h].Field0);
			if (!LOC7) goto LA6;
			{
				NIM_BOOL LOC10;
				LOC10 = 0;
				LOC10 = (t.Data->data[h].Field0 == (*hc));
				if (!(LOC10)) goto LA11;
				LOC10 = eqStrings(t.Data->data[h].Field1, key);
				LA11: ;
				if (!LOC10) goto LA12;
				result = h;
				goto BeforeRet;
			}
			LA12: ;
			h = nexttry_173417(h, (t.Data->Sup.len-1));
		} LA6: ;
	}
	result = (NI32)(((NI) -1) - h);
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NIM_BOOL, haskey_182546)(table182376 t, NimStringDesc* key) {
	NIM_BOOL result;
	NI hc;
	NI LOC1;
	result = 0;
	hc = 0;
	LOC1 = 0;
	LOC1 = rawget_182558(t, key, (&hc));
	result = (((NI) 0) <= LOC1);
	return result;
}

N_NIMCALL(NI32, HEX5BHEX5D_182589)(table182376 t, NimStringDesc* key) {
	NI32 result;
	NI hc;
	NI index;
	result = 0;
	hc = 0;
	index = rawget_182558(t, key, (&hc));
	{
		if (!(((NI) 0) <= index)) goto LA3;
		result = t.Data->data[index].Field2;
	}
	LA3: ;
	return result;
}

static N_INLINE(NIM_BOOL, mustrehash_173313)(NI length, NI counter) {
	NIM_BOOL result;
	NIM_BOOL LOC1;
	result = 0;
	LOC1 = 0;
	LOC1 = ((NI32)(length * ((NI) 2)) < (NI32)(counter * ((NI) 3)));
	if (LOC1) goto LA2;
	LOC1 = ((NI32)(length - counter) < ((NI) 4));
	LA2: ;
	result = LOC1;
	return result;
}

static N_INLINE(NI, rawgetknownhc_182729)(table182376 t, NimStringDesc* key, NI hc) {
	NI result;
	NI h;
{	result = 0;
	h = (NI)(hc & (t.Data->Sup.len-1));
	{
		while (1) {
			NIM_BOOL LOC3;
			LOC3 = 0;
			LOC3 = isfilled_173211(t.Data->data[h].Field0);
			if (!LOC3) goto LA2;
			{
				NIM_BOOL LOC6;
				LOC6 = 0;
				LOC6 = (t.Data->data[h].Field0 == hc);
				if (!(LOC6)) goto LA7;
				LOC6 = eqStrings(t.Data->data[h].Field1, key);
				LA7: ;
				if (!LOC6) goto LA8;
				result = h;
				goto BeforeRet;
			}
			LA8: ;
			h = nexttry_173417(h, (t.Data->Sup.len-1));
		} LA2: ;
	}
	result = (NI32)(((NI) -1) - h);
	}BeforeRet: ;
	return result;
}

static N_INLINE(tcell45946*, usrtocell_49446)(void* usr) {
	tcell45946* result;
	result = 0;
	result = ((tcell45946*) ((NI)((NU32)(((NI) (usr))) - (NU32)(((NI)sizeof(tcell45946))))));
	return result;
}

static N_INLINE(void, rtladdzct_51004)(tcell45946* c) {
	addzct_49417((&gch_47844.Zct), c);
}

static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	tcell45946* c;
	c = usrtocell_49446(p);
	{
		(*c).Refcount -= ((NI) 8);
		if (!((NU32)((*c).Refcount) < (NU32)(((NI) 8)))) goto LA3;
		rtladdzct_51004(c);
	}
	LA3: ;
}

N_NIMCALL(void, rawinsert_182755)(table182376* t, keyvaluepairseq182379** data, NimStringDesc* key, NI32 val, NI hc, NI h) {
	NimStringDesc* LOC1;
	LOC1 = 0;
	LOC1 = (*data)->data[h].Field1; (*data)->data[h].Field1 = copyStringRC1(key);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	(*data)->data[h].Field2 = val;
	(*data)->data[h].Field0 = hc;
}

N_NIMCALL(void, enlarge_182675)(table182376* t) {
	keyvaluepairseq182379* n;
	keyvaluepairseq182379* LOC1;
	n = 0;
	n = (keyvaluepairseq182379*) newSeq((&NTI182379), (NI32)((*t).Data->Sup.len * ((NI) 2)));
	LOC1 = 0;
	LOC1 = (*t).Data;
	unsureAsgnRef((void**) (&(*t).Data), n);
	n = LOC1;
	{
		NI i_182727;
		NI HEX3Atmp_182781;
		NI res_182784;
		i_182727 = 0;
		HEX3Atmp_182781 = 0;
		HEX3Atmp_182781 = (n->Sup.len-1);
		res_182784 = ((NI) 0);
		{
			while (1) {
				if (!(res_182784 <= HEX3Atmp_182781)) goto LA4;
				i_182727 = res_182784;
				{
					NIM_BOOL LOC7;
					NI j;
					NI LOC10;
					LOC7 = 0;
					LOC7 = isfilled_173211(n->data[i_182727].Field0);
					if (!LOC7) goto LA8;
					LOC10 = 0;
					LOC10 = rawgetknownhc_182729((*t), n->data[i_182727].Field1, n->data[i_182727].Field0);
					j = (NI32)(((NI) -1) - LOC10);
					rawinsert_182755(t, (&(*t).Data), n->data[i_182727].Field1, n->data[i_182727].Field2, n->data[i_182727].Field0, j);
				}
				LA8: ;
				res_182784 += ((NI) 1);
			} LA4: ;
		}
	}
}

N_NIMCALL(void, HEX5BHEX5DHEX3D_182638)(table182376* t, NimStringDesc* key, NI32 val) {
	NI hc;
	NI index;
	hc = 0;
	index = rawget_182558((*t), key, (&hc));
	{
		if (!(((NI) 0) <= index)) goto LA3;
		(*t).Data->data[index].Field2 = val;
	}
	goto LA1;
	LA3: ;
	{
		{
			NIM_BOOL LOC8;
			LOC8 = 0;
			LOC8 = mustrehash_173313((*t).Data->Sup.len, (*t).Counter);
			if (!LOC8) goto LA9;
			enlarge_182675(t);
			index = rawgetknownhc_182729((*t), key, hc);
		}
		LA9: ;
		index = (NI32)(((NI) -1) - index);
		rawinsert_182755(t, (&(*t).Data), key, val, hc, index);
		(*t).Counter += ((NI) 1);
	}
	LA1: ;
}

static N_INLINE(NI, rawget_329086)(table328052 t, NimStringDesc* key, NI* hc) {
	NI result;
	NI h;
{	result = 0;
	(*hc) = hash_131839(key);
	{
		if (!((*hc) == ((NI) 0))) goto LA3;
		(*hc) = ((NI) 314159265);
	}
	LA3: ;
	h = (NI)((*hc) & (t.Data->Sup.len-1));
	{
		while (1) {
			NIM_BOOL LOC7;
			LOC7 = 0;
			LOC7 = isfilled_173211(t.Data->data[h].Field0);
			if (!LOC7) goto LA6;
			{
				NIM_BOOL LOC10;
				LOC10 = 0;
				LOC10 = (t.Data->data[h].Field0 == (*hc));
				if (!(LOC10)) goto LA11;
				LOC10 = eqStrings(t.Data->data[h].Field1, key);
				LA11: ;
				if (!LOC10) goto LA12;
				result = h;
				goto BeforeRet;
			}
			LA12: ;
			h = nexttry_173417(h, (t.Data->Sup.len-1));
		} LA6: ;
	}
	result = (NI32)(((NI) -1) - h);
	}BeforeRet: ;
	return result;
}

N_NIMCALL(NIM_BOOL, haskey_329074)(table328052 t, NimStringDesc* key) {
	NIM_BOOL result;
	NI hc;
	NI LOC1;
	result = 0;
	hc = 0;
	LOC1 = 0;
	LOC1 = rawget_329086(t, key, (&hc));
	result = (((NI) 0) <= LOC1);
	return result;
}
N_NIMCALL(void, TMP2477)(void* p, NI op) {
	keyvaluepairseq328055* a;
	NI LOC1;
	a = (keyvaluepairseq328055*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Field1, op);
	}
}

static N_INLINE(NI, rawgetknownhc_329239)(table328052 t, NimStringDesc* key, NI hc) {
	NI result;
	NI h;
{	result = 0;
	h = (NI)(hc & (t.Data->Sup.len-1));
	{
		while (1) {
			NIM_BOOL LOC3;
			LOC3 = 0;
			LOC3 = isfilled_173211(t.Data->data[h].Field0);
			if (!LOC3) goto LA2;
			{
				NIM_BOOL LOC6;
				LOC6 = 0;
				LOC6 = (t.Data->data[h].Field0 == hc);
				if (!(LOC6)) goto LA7;
				LOC6 = eqStrings(t.Data->data[h].Field1, key);
				LA7: ;
				if (!LOC6) goto LA8;
				result = h;
				goto BeforeRet;
			}
			LA8: ;
			h = nexttry_173417(h, (t.Data->Sup.len-1));
		} LA2: ;
	}
	result = (NI32)(((NI) -1) - h);
	}BeforeRet: ;
	return result;
}

N_NIMCALL(void, rawinsert_329265)(table328052* t, keyvaluepairseq328055** data, NimStringDesc* key, NI val, NI hc, NI h) {
	NimStringDesc* LOC1;
	LOC1 = 0;
	LOC1 = (*data)->data[h].Field1; (*data)->data[h].Field1 = copyStringRC1(key);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	(*data)->data[h].Field2 = val;
	(*data)->data[h].Field0 = hc;
}

N_NIMCALL(void, enlarge_329185)(table328052* t) {
	keyvaluepairseq328055* n;
	keyvaluepairseq328055* LOC1;
	n = 0;
	n = (keyvaluepairseq328055*) newSeq((&NTI328055), (NI32)((*t).Data->Sup.len * ((NI) 2)));
	LOC1 = 0;
	LOC1 = (*t).Data;
	unsureAsgnRef((void**) (&(*t).Data), n);
	n = LOC1;
	{
		NI i_329237;
		NI HEX3Atmp_329291;
		NI res_329294;
		i_329237 = 0;
		HEX3Atmp_329291 = 0;
		HEX3Atmp_329291 = (n->Sup.len-1);
		res_329294 = ((NI) 0);
		{
			while (1) {
				if (!(res_329294 <= HEX3Atmp_329291)) goto LA4;
				i_329237 = res_329294;
				{
					NIM_BOOL LOC7;
					NI j;
					NI LOC10;
					LOC7 = 0;
					LOC7 = isfilled_173211(n->data[i_329237].Field0);
					if (!LOC7) goto LA8;
					LOC10 = 0;
					LOC10 = rawgetknownhc_329239((*t), n->data[i_329237].Field1, n->data[i_329237].Field0);
					j = (NI32)(((NI) -1) - LOC10);
					rawinsert_329265(t, (&(*t).Data), n->data[i_329237].Field1, n->data[i_329237].Field2, n->data[i_329237].Field0, j);
				}
				LA8: ;
				res_329294 += ((NI) 1);
			} LA4: ;
		}
	}
}

N_NIMCALL(void, HEX5BHEX5DHEX3D_329148)(table328052* t, NimStringDesc* key, NI val) {
	NI hc;
	NI index;
	hc = 0;
	index = rawget_329086((*t), key, (&hc));
	{
		if (!(((NI) 0) <= index)) goto LA3;
		(*t).Data->data[index].Field2 = val;
	}
	goto LA1;
	LA3: ;
	{
		{
			NIM_BOOL LOC8;
			LOC8 = 0;
			LOC8 = mustrehash_173313((*t).Data->Sup.len, (*t).Counter);
			if (!LOC8) goto LA9;
			enlarge_329185(t);
			index = rawgetknownhc_329239((*t), key, hc);
		}
		LA9: ;
		index = (NI32)(((NI) -1) - index);
		rawinsert_329265(t, (&(*t).Data), key, val, hc, index);
		(*t).Counter += ((NI) 1);
	}
	LA1: ;
}

N_NIMCALL(NI, HEX5BHEX5D_329117)(table328052 t, NimStringDesc* key) {
	NI result;
	NI hc;
	NI index;
	result = 0;
	hc = 0;
	index = rawget_329086(t, key, (&hc));
	{
		if (!(((NI) 0) <= index)) goto LA3;
		result = t.Data->data[index].Field2;
	}
	LA3: ;
	return result;
}

N_NIMCALL(void, inittable_328118)(NI initialsize, table328052* Result) {
	(*Result).Counter = ((NI) 0);
	unsureAsgnRef((void**) (&(*Result).Data), (keyvaluepairseq328055*) newSeq((&NTI328055), initialsize));
}
N_NIMCALL(void, TMP4874)(void* p, NI op) {
	keyvaluepairseq329414* a;
	NI LOC1;
	a = (keyvaluepairseq329414*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Field1.Keyword, op);
	nimGCvisit((void*)a->data[LOC1].Field1.Link, op);
	nimGCvisit((void*)a->data[LOC1].Field1.Linktitle, op);
	nimGCvisit((void*)a->data[LOC1].Field1.Linkdesc, op);
	nimGCvisit((void*)a->data[LOC1].Field2, op);
	}
}

N_NIMCALL(void, inittable_331735)(NI initialsize, table329411* Result) {
	(*Result).Counter = ((NI) 0);
	unsureAsgnRef((void**) (&(*Result).Data), (keyvaluepairseq329414*) newSeq((&NTI329414), initialsize));
}

N_NIMCALL(NI, len_332060)(table329411 t) {
	NI result;
	result = 0;
	result = t.Counter;
	return result;
}

static N_INLINE(NI, rawget_331296)(table329411 t, tindexentry329398 key, NI* hc) {
	NI result;
	NI h;
{	result = 0;
	(*hc) = hash_329443(key);
	{
		if (!((*hc) == ((NI) 0))) goto LA3;
		(*hc) = ((NI) 314159265);
	}
	LA3: ;
	h = (NI)((*hc) & (t.Data->Sup.len-1));
	{
		while (1) {
			NIM_BOOL LOC7;
			LOC7 = 0;
			LOC7 = isfilled_173211(t.Data->data[h].Field0);
			if (!LOC7) goto LA6;
			{
				NIM_BOOL LOC10;
				LOC10 = 0;
				LOC10 = (t.Data->data[h].Field0 == (*hc));
				if (!(LOC10)) goto LA11;
				LOC10 = HEX3DHEX3D_331311(t.Data->data[h].Field1, key);
				LA11: ;
				if (!LOC10) goto LA12;
				result = h;
				goto BeforeRet;
			}
			LA12: ;
			h = nexttry_173417(h, (t.Data->Sup.len-1));
		} LA6: ;
	}
	result = (NI32)(((NI) -1) - h);
	}BeforeRet: ;
	return result;
}

static N_INLINE(NI, rawgetknownhc_332163)(table329411 t, tindexentry329398 key, NI hc) {
	NI result;
	NI h;
{	result = 0;
	h = (NI)(hc & (t.Data->Sup.len-1));
	{
		while (1) {
			NIM_BOOL LOC3;
			LOC3 = 0;
			LOC3 = isfilled_173211(t.Data->data[h].Field0);
			if (!LOC3) goto LA2;
			{
				NIM_BOOL LOC6;
				LOC6 = 0;
				LOC6 = (t.Data->data[h].Field0 == hc);
				if (!(LOC6)) goto LA7;
				LOC6 = HEX3DHEX3D_331311(t.Data->data[h].Field1, key);
				LA7: ;
				if (!LOC6) goto LA8;
				result = h;
				goto BeforeRet;
			}
			LA8: ;
			h = nexttry_173417(h, (t.Data->Sup.len-1));
		} LA2: ;
	}
	result = (NI32)(((NI) -1) - h);
	}BeforeRet: ;
	return result;
}

N_NIMCALL(void, rawinsert_332198)(table329411* t, keyvaluepairseq329414** data, tindexentry329398 key, TY331711* val, NI hc, NI h) {
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	NimStringDesc* LOC3;
	NimStringDesc* LOC4;
	LOC1 = 0;
	LOC1 = (*data)->data[h].Field1.Keyword; (*data)->data[h].Field1.Keyword = copyStringRC1(key.Keyword);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	LOC2 = 0;
	LOC2 = (*data)->data[h].Field1.Link; (*data)->data[h].Field1.Link = copyStringRC1(key.Link);
	if (LOC2) nimGCunrefNoCycle(LOC2);
	LOC3 = 0;
	LOC3 = (*data)->data[h].Field1.Linktitle; (*data)->data[h].Field1.Linktitle = copyStringRC1(key.Linktitle);
	if (LOC3) nimGCunrefNoCycle(LOC3);
	LOC4 = 0;
	LOC4 = (*data)->data[h].Field1.Linkdesc; (*data)->data[h].Field1.Linkdesc = copyStringRC1(key.Linkdesc);
	if (LOC4) nimGCunrefNoCycle(LOC4);
	genericSeqAssign((&(*data)->data[h].Field2), val, (&NTI331711));
	(*data)->data[h].Field0 = hc;
}

N_NIMCALL(void, enlarge_332109)(table329411* t) {
	keyvaluepairseq329414* n;
	keyvaluepairseq329414* LOC1;
	n = 0;
	n = (keyvaluepairseq329414*) newSeq((&NTI329414), (NI32)((*t).Data->Sup.len * ((NI) 2)));
	LOC1 = 0;
	LOC1 = (*t).Data;
	unsureAsgnRef((void**) (&(*t).Data), n);
	n = LOC1;
	{
		NI i_332161;
		NI HEX3Atmp_332224;
		NI res_332227;
		i_332161 = 0;
		HEX3Atmp_332224 = 0;
		HEX3Atmp_332224 = (n->Sup.len-1);
		res_332227 = ((NI) 0);
		{
			while (1) {
				if (!(res_332227 <= HEX3Atmp_332224)) goto LA4;
				i_332161 = res_332227;
				{
					NIM_BOOL LOC7;
					NI j;
					NI LOC10;
					LOC7 = 0;
					LOC7 = isfilled_173211(n->data[i_332161].Field0);
					if (!LOC7) goto LA8;
					LOC10 = 0;
					LOC10 = rawgetknownhc_332163((*t), n->data[i_332161].Field1, n->data[i_332161].Field0);
					j = (NI32)(((NI) -1) - LOC10);
					rawinsert_332198(t, (&(*t).Data), n->data[i_332161].Field1, n->data[i_332161].Field2, n->data[i_332161].Field0, j);
				}
				LA8: ;
				res_332227 += ((NI) 1);
			} LA4: ;
		}
	}
}

N_NIMCALL(void, HEX5BHEX5DHEX3D_332072)(table329411* t, tindexentry329398 key, TY331711* val) {
	NI hc;
	NI index;
	hc = 0;
	index = rawget_331296((*t), key, (&hc));
	{
		if (!(((NI) 0) <= index)) goto LA3;
		genericSeqAssign((&(*t).Data->data[index].Field2), val, (&NTI331711));
	}
	goto LA1;
	LA3: ;
	{
		{
			NIM_BOOL LOC8;
			LOC8 = 0;
			LOC8 = mustrehash_173313((*t).Data->Sup.len, (*t).Counter);
			if (!LOC8) goto LA9;
			enlarge_332109(t);
			index = rawgetknownhc_332163((*t), key, hc);
		}
		LA9: ;
		index = (NI32)(((NI) -1) - index);
		rawinsert_332198(t, (&(*t).Data), key, val, hc, index);
		(*t).Counter += ((NI) 1);
	}
	LA1: ;
}

N_NIMCALL(TY331711*, HEX5BHEX5D_331284)(table329411 t, tindexentry329398 key) {
	TY331711* result;
	NI hc;
	NI index;
	result = 0;
	hc = 0;
	index = rawget_331296(t, key, (&hc));
	{
		if (!(((NI) 0) <= index)) goto LA3;
		genericSeqAssign((&result), t.Data->data[index].Field2, (&NTI331711));
	}
	LA3: ;
	return result;
}
NIM_EXTERNC N_NOINLINE(void, stdlib_tablesInit)(void) {
}

NIM_EXTERNC N_NOINLINE(void, stdlib_tablesDatInit)(void) {
static TNimNode* TMP130[3];
static TNimNode* TMP134[2];
static TNimNode* TMP2476[3];
static TNimNode* TMP4713[2];
static TNimNode* TMP4871[3];
static TNimNode TMP55[18];
NTI182382.size = sizeof(keyvaluepair182382);
NTI182382.kind = 18;
NTI182382.base = 0;
NTI182382.flags = 2;
TMP130[0] = &TMP55[1];
TMP55[1].kind = 1;
TMP55[1].offset = offsetof(keyvaluepair182382, Field0);
TMP55[1].typ = (&NTI131021);
TMP55[1].name = "Field0";
TMP130[1] = &TMP55[2];
TMP55[2].kind = 1;
TMP55[2].offset = offsetof(keyvaluepair182382, Field1);
TMP55[2].typ = (&NTI149);
TMP55[2].name = "Field1";
TMP130[2] = &TMP55[3];
TMP55[3].kind = 1;
TMP55[3].offset = offsetof(keyvaluepair182382, Field2);
TMP55[3].typ = (&NTI114);
TMP55[3].name = "Field2";
TMP55[0].len = 3; TMP55[0].kind = 2; TMP55[0].sons = &TMP130[0];
NTI182382.node = &TMP55[0];
NTI182379.size = sizeof(keyvaluepairseq182379*);
NTI182379.kind = 24;
NTI182379.base = (&NTI182382);
NTI182379.flags = 2;
NTI182379.marker = TMP131;
NTI182376.size = sizeof(table182376);
NTI182376.kind = 18;
NTI182376.base = 0;
NTI182376.flags = 2;
TMP134[0] = &TMP55[5];
TMP55[5].kind = 1;
TMP55[5].offset = offsetof(table182376, Data);
TMP55[5].typ = (&NTI182379);
TMP55[5].name = "data";
TMP134[1] = &TMP55[6];
TMP55[6].kind = 1;
TMP55[6].offset = offsetof(table182376, Counter);
TMP55[6].typ = (&NTI108);
TMP55[6].name = "counter";
TMP55[4].len = 2; TMP55[4].kind = 2; TMP55[4].sons = &TMP134[0];
NTI182376.node = &TMP55[4];
NTI328058.size = sizeof(keyvaluepair328058);
NTI328058.kind = 18;
NTI328058.base = 0;
NTI328058.flags = 2;
TMP2476[0] = &TMP55[8];
TMP55[8].kind = 1;
TMP55[8].offset = offsetof(keyvaluepair328058, Field0);
TMP55[8].typ = (&NTI131021);
TMP55[8].name = "Field0";
TMP2476[1] = &TMP55[9];
TMP55[9].kind = 1;
TMP55[9].offset = offsetof(keyvaluepair328058, Field1);
TMP55[9].typ = (&NTI149);
TMP55[9].name = "Field1";
TMP2476[2] = &TMP55[10];
TMP55[10].kind = 1;
TMP55[10].offset = offsetof(keyvaluepair328058, Field2);
TMP55[10].typ = (&NTI108);
TMP55[10].name = "Field2";
TMP55[7].len = 3; TMP55[7].kind = 2; TMP55[7].sons = &TMP2476[0];
NTI328058.node = &TMP55[7];
NTI328055.size = sizeof(keyvaluepairseq328055*);
NTI328055.kind = 24;
NTI328055.base = (&NTI328058);
NTI328055.flags = 2;
NTI328055.marker = TMP2477;
NTI328052.size = sizeof(table328052);
NTI328052.kind = 18;
NTI328052.base = 0;
NTI328052.flags = 2;
TMP4713[0] = &TMP55[12];
TMP55[12].kind = 1;
TMP55[12].offset = offsetof(table328052, Data);
TMP55[12].typ = (&NTI328055);
TMP55[12].name = "data";
TMP4713[1] = &TMP55[13];
TMP55[13].kind = 1;
TMP55[13].offset = offsetof(table328052, Counter);
TMP55[13].typ = (&NTI108);
TMP55[13].name = "counter";
TMP55[11].len = 2; TMP55[11].kind = 2; TMP55[11].sons = &TMP4713[0];
NTI328052.node = &TMP55[11];
NTI329417.size = sizeof(keyvaluepair329417);
NTI329417.kind = 18;
NTI329417.base = 0;
NTI329417.flags = 2;
TMP4871[0] = &TMP55[15];
TMP55[15].kind = 1;
TMP55[15].offset = offsetof(keyvaluepair329417, Field0);
TMP55[15].typ = (&NTI131021);
TMP55[15].name = "Field0";
TMP4871[1] = &TMP55[16];
TMP55[16].kind = 1;
TMP55[16].offset = offsetof(keyvaluepair329417, Field1);
TMP55[16].typ = (&NTI329398);
TMP55[16].name = "Field1";
TMP4871[2] = &TMP55[17];
TMP55[17].kind = 1;
TMP55[17].offset = offsetof(keyvaluepair329417, Field2);
TMP55[17].typ = (&NTI331711);
TMP55[17].name = "Field2";
TMP55[14].len = 3; TMP55[14].kind = 2; TMP55[14].sons = &TMP4871[0];
NTI329417.node = &TMP55[14];
NTI329414.size = sizeof(keyvaluepairseq329414*);
NTI329414.kind = 24;
NTI329414.base = (&NTI329417);
NTI329414.flags = 2;
NTI329414.marker = TMP4874;
}

