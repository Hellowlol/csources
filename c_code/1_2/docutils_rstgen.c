/* Generated by Nim Compiler v0.10.0 */
/*   (c) 2014 Andreas Rumpf */
/* The generated code is subject to the original license. */
#define NIM_INTBITS 64
#include "nimbase.h"

#include <string.h>

#include <stdio.h>
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct tcell44533 tcell44533;
typedef struct TNimType TNimType;
typedef struct tcellseq44549 tcellseq44549;
typedef struct tgcheap46616 tgcheap46616;
typedef struct tcellset44545 tcellset44545;
typedef struct tpagedesc44541 tpagedesc44541;
typedef struct tmemregion26810 tmemregion26810;
typedef struct tsmallchunk26040 tsmallchunk26040;
typedef struct tllchunk26804 tllchunk26804;
typedef struct tbigchunk26042 tbigchunk26042;
typedef struct tintset26017 tintset26017;
typedef struct ttrunk26013 ttrunk26013;
typedef struct tavlnode26808 tavlnode26808;
typedef struct tgcstat46614 tgcstat46614;
typedef struct trstgenerator356016 trstgenerator356016;
typedef struct trstnode341011 trstnode341011;
typedef struct trstnodeseq341009 trstnodeseq341009;
typedef struct TNimObject TNimObject;
typedef struct TNimNode TNimNode;
typedef struct stringtableobj132012 stringtableobj132012;
typedef struct TY356032 TY356032;
typedef struct ttocentry356012 ttocentry356012;
typedef struct table356050 table356050;
typedef struct keyvaluepairseq356053 keyvaluepairseq356053;
typedef struct keyvaluepair356056 keyvaluepair356056;
typedef struct tgeneraltokenizer350023 tgeneraltokenizer350023;
typedef struct TY116404 TY116404;
typedef struct TY359801 TY359801;
typedef struct TY120208 TY120208;
typedef struct TY359804 TY359804;
typedef struct tindexentry357264 tindexentry357264;
typedef struct table357277 table357277;
typedef struct keyvaluepairseq357280 keyvaluepairseq357280;
typedef struct keyvaluepair357283 keyvaluepair357283;
typedef struct twin32finddata104019 twin32finddata104019;
typedef struct tfiletime103079 tfiletime103079;
typedef struct TY357879 TY357879;
typedef struct TY357880 TY357880;
typedef struct slice85571 slice85571;
typedef struct tbasechunk26038 tbasechunk26038;
typedef struct tfreecell26030 tfreecell26030;
typedef struct keyvaluepairseq132010 keyvaluepairseq132010;
typedef struct keyvaluepair132008 keyvaluepair132008;
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct  tcell44533  {
NI Refcount;
TNimType* Typ;
};
struct  tcellseq44549  {
NI Len;
NI Cap;
tcell44533** D;
};
struct  tcellset44545  {
NI Counter;
NI Max;
tpagedesc44541* Head;
tpagedesc44541** Data;
};
typedef tsmallchunk26040* TY26822[512];
typedef ttrunk26013* ttrunkbuckets26015[256];
struct  tintset26017  {
ttrunkbuckets26015 Data;
};
struct  tmemregion26810  {
NI Minlargeobj;
NI Maxlargeobj;
TY26822 Freesmallchunks;
tllchunk26804* Llmem;
NI Currmem;
NI Maxmem;
NI Freemem;
NI Lastsize;
tbigchunk26042* Freechunkslist;
tintset26017 Chunkstarts;
tavlnode26808* Root;
tavlnode26808* Deleted;
tavlnode26808* Last;
tavlnode26808* Freeavlnodes;
};
struct  tgcstat46614  {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
NI64 Maxpause;
};
struct  tgcheap46616  {
void* Stackbottom;
NI Cyclethreshold;
tcellseq44549 Zct;
tcellseq44549 Decstack;
tcellset44545 Cycleroots;
tcellseq44549 Tempstack;
NI Recgclock;
tmemregion26810 Region;
tgcstat46614 Stat;
};
struct  trstnode341011  {
NU8 Kind;
NimStringDesc* Text;
NI Level;
trstnodeseq341009* Sons;
};
typedef N_NIMCALL_PTR(void, TY3089) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, TY3094) (void* p);
struct  TNimType  {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY3089 marker;
TY3094 deepcopy;
};
struct  TNimObject  {
TNimType* m_type;
};
struct  ttocentry356012  {
trstnode341011* N;
NimStringDesc* Refname;
NimStringDesc* Header;
};
typedef N_NIMCALL_PTR(NimStringDesc*, tfindfilehandler342023) (NimStringDesc* filename);
typedef N_NIMCALL_PTR(void, tmsghandler342021) (NimStringDesc* filename, NI line, NI col, NU8 msgkind, NimStringDesc* arg);
typedef NimStringDesc* TY356040[5];
struct keyvaluepair356056 {
NU8 Field0;
NimStringDesc* Field1;
NI Field2;
};
struct  table356050  {
keyvaluepairseq356053* Data;
NI Counter;
};
struct  trstgenerator356016  {
  TNimObject Sup;
NU8 Target;
stringtableobj132012* Config;
NI Splitafter;
TY356032* Tocpart;
NIM_BOOL Hastoc;
NimStringDesc* Theindex;
NU8 Options;
tfindfilehandler342023 Findfile;
tmsghandler342021 Msghandler;
NimStringDesc* Filename;
TY356040 Meta;
NimStringDesc* Currentsection;
table356050 Seenindexterms;
};
typedef NimStringDesc* TY197620[4];
typedef NimStringDesc* TY197301[1];
typedef NimStringDesc* TY169951[2];
typedef NimStringDesc* TY258532[1];
struct  tgeneraltokenizer350023  {
  TNimObject Sup;
NU8 Kind;
NI Start;
NI Length;
NCSTRING Buf;
NI Pos;
NU8 State;
};
struct  TNimNode  {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef NimStringDesc* TY350082[33];
struct TY116404 {
NimStringDesc* Field0;
NimStringDesc* Field1;
NimStringDesc* Field2;
};
struct  tindexentry357264  {
NimStringDesc* Keyword;
NimStringDesc* Link;
NimStringDesc* Linktitle;
NimStringDesc* Linkdesc;
};
struct keyvaluepair357283 {
NU8 Field0;
tindexentry357264 Field1;
TY359804* Field2;
};
struct  table357277  {
keyvaluepairseq357280* Data;
NI Counter;
};
struct TY359801 {
TY120208* Field0;
TY359804* Field1;
table357277 Field2;
};
struct  tfiletime103079  {
NI32 Dwlowdatetime;
NI32 Dwhighdatetime;
};
typedef NI16 TY104028[260];
typedef NI16 TY104032[14];
struct  twin32finddata104019  {
NI32 Dwfileattributes;
tfiletime103079 Ftcreationtime;
tfiletime103079 Ftlastaccesstime;
tfiletime103079 Ftlastwritetime;
NI32 Nfilesizehigh;
NI32 Nfilesizelow;
NI32 Dwreserved0;
NI32 Dwreserved1;
TY104028 Cfilename;
TY104032 Calternatefilename;
};
typedef N_STDCALL_PTR(NI32, TY104045) (NI hfindfile, twin32finddata104019* lpfindfiledata);
typedef N_STDCALL_PTR(void, TY104205) (NI hfindfile);
typedef struct {
N_NIMCALL_PTR(NI, ClPrc) (NimStringDesc* x_360564, NimStringDesc* y_360566, void* ClEnv);
void* ClEnv;
} TY360570;
typedef N_CLOSURE_PTR(NI, TMP4766) (NimStringDesc* x_360547, NimStringDesc* y_360549, void* ClEnv);
typedef struct {
N_NIMCALL_PTR(NI, ClPrc) (tindexentry357264* x_358566, tindexentry357264* y_358568, void* ClEnv);
void* ClEnv;
} TY358572;
typedef N_CLOSURE_PTR(NI, TMP4770) (tindexentry357264* x_359592, tindexentry357264* y_359594, void* ClEnv);
typedef N_CLOSURE_PTR(NI, TMP4780) (tindexentry357264* x_358549, tindexentry357264* y_358551, void* ClEnv);
struct TY357880 {
NI Field0;
NimStringDesc* Field1;
};
struct  slice85571  {
NI A;
NI B;
};
typedef NimStringDesc* TY208063[3];
typedef NI TY26020[8];
struct  tpagedesc44541  {
tpagedesc44541* Next;
NI Key;
TY26020 Bits;
};
struct  tbasechunk26038  {
NI Prevsize;
NI Size;
NIM_BOOL Used;
};
struct  tsmallchunk26040  {
  tbasechunk26038 Sup;
tsmallchunk26040* Next;
tsmallchunk26040* Prev;
tfreecell26030* Freelist;
NI Free;
NI Acc;
NF Data;
};
struct  tllchunk26804  {
NI Size;
NI Acc;
tllchunk26804* Next;
};
struct  tbigchunk26042  {
  tbasechunk26038 Sup;
tbigchunk26042* Next;
tbigchunk26042* Prev;
NI Align;
NF Data;
};
struct  ttrunk26013  {
ttrunk26013* Next;
NI Key;
TY26020 Bits;
};
typedef tavlnode26808* TY26814[2];
struct  tavlnode26808  {
TY26814 Link;
NI Key;
NI Upperbound;
NI Level;
};
struct keyvaluepair132008 {
NimStringDesc* Field0;
NimStringDesc* Field1;
};
struct  stringtableobj132012  {
  TNimObject Sup;
NI Counter;
keyvaluepairseq132010* Data;
NU8 Mode;
};
struct  tfreecell26030  {
tfreecell26030* Next;
NI Zerofield;
};
struct trstnodeseq341009 {
  TGenericSeq Sup;
  trstnode341011* data[SEQ_DECL_SIZE];
};
struct TY356032 {
  TGenericSeq Sup;
  ttocentry356012 data[SEQ_DECL_SIZE];
};
struct keyvaluepairseq356053 {
  TGenericSeq Sup;
  keyvaluepair356056 data[SEQ_DECL_SIZE];
};
struct TY120208 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct TY359804 {
  TGenericSeq Sup;
  tindexentry357264 data[SEQ_DECL_SIZE];
};
struct keyvaluepairseq357280 {
  TGenericSeq Sup;
  keyvaluepair357283 data[SEQ_DECL_SIZE];
};
struct TY357879 {
  TGenericSeq Sup;
  TY357880 data[SEQ_DECL_SIZE];
};
struct keyvaluepairseq132010 {
  TGenericSeq Sup;
  keyvaluepair132008 data[SEQ_DECL_SIZE];
};
N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
static N_INLINE(tcell44533*, usrtocell_48246)(void* usr);
static N_INLINE(void, rtladdzct_49804)(tcell44533* c);
N_NOINLINE(void, addzct_48217)(tcellseq44549* s, tcell44533* c);
N_NIMCALL(void, renderaux_356589)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result);
N_NIMCALL(NI, len_341084)(trstnode341011* n);
N_NIMCALL(void, renderrsttoout_356579)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result);
N_NIMCALL(void, renderheadline_362281)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
N_NIMCALL(NimStringDesc*, rstnodetorefname_342060)(trstnode341011* n);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* seq, NI elemsize, NI newlen);
static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src);
N_NIMCALL(void, dispa_356544)(NU8 target, NimStringDesc** dest, NimStringDesc* xml, NimStringDesc* tex, NimStringDesc** args, NI argsLen0);
N_NIMCALL(void, nsuAddf)(NimStringDesc** s, NimStringDesc* formatstr, NimStringDesc** a, NI aLen0);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI x);
N_NIMCALL(NimStringDesc*, nimCharToStr)(NIM_CHAR x);
N_NIMCALL(void, setindexterm_356710)(trstgenerator356016* d, NimStringDesc* id, NimStringDesc* term, NimStringDesc* linktitle, NimStringDesc* linkdesc);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* s, NIM_CHAR c);
N_NIMCALL(NimStringDesc*, noschangeFileExt)(NimStringDesc* filename, NimStringDesc* ext);
N_NIMCALL(NimStringDesc*, nosextractFilename)(NimStringDesc* path);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* dest, NI addlen);
static N_INLINE(void, appendChar)(NimStringDesc* dest, NIM_CHAR c);
N_NIMCALL(NimStringDesc*, quoteindexcolumn_356690)(NimStringDesc* text);
N_NIMCALL(NimStringDesc*, nsuReplaceStr)(NimStringDesc* s, NimStringDesc* sub, NimStringDesc* by);
N_NIMCALL(NimStringDesc*, rawNewString)(NI space);
N_NIMCALL(void, insert_87201)(NimStringDesc** x, NimStringDesc* item, NI i);
N_NIMCALL(NimStringDesc*, striptochtml_362260)(NimStringDesc* s);
N_NIMCALL(NI, nsuFindChar)(NimStringDesc* s, NIM_CHAR sub, NI start);
N_NIMCALL(void, nsuDelete)(NimStringDesc** s, NI first, NI last);
N_NIMCALL(NimStringDesc*, nsuRepeatChar)(NI count, NIM_CHAR c);
N_NIMCALL(void, renderoverline_362425)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result);
N_NIMCALL(void, renderaux_356629)(trstgenerator356016* d, trstnode341011* n, NimStringDesc* frmta, NimStringDesc* frmtb, NimStringDesc** result);
N_NIMCALL(void, renderfield_362927)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result);
N_NIMCALL(NimStringDesc*, addnodes_342066)(trstnode341011* n);
N_NIMCALL(NimStringDesc*, esc_356407)(NU8 target, NimStringDesc* s, NI splitafter);
N_NIMCALL(NI, nextsplitpoint_356349)(NimStringDesc* s, NI start);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b);
static N_INLINE(void, escchar_356337)(NU8 target, NimStringDesc** dest, NIM_CHAR c);
N_NIMCALL(void, addxmlchar_356299)(NimStringDesc** dest, NIM_CHAR c);
N_NIMCALL(void, addtexchar_356321)(NimStringDesc** dest, NIM_CHAR c);
N_NIMCALL(NimStringDesc*, nsuStrip)(NimStringDesc* s, NIM_BOOL leading, NIM_BOOL trailing);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* a, NimStringDesc* b);
N_NOINLINE(void, raiseassert_86147)(NimStringDesc* msg);
N_NIMCALL(NimStringDesc*, texcolumns_362889)(trstnode341011* n);
N_NIMCALL(trstnode341011*, lastson_341162)(trstnode341011* n);
N_NIMCALL(void, renderimage_362598)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result);
N_NIMCALL(NimStringDesc*, getfieldvalue_342072)(trstnode341011* n, NimStringDesc* fieldname);
N_NIMCALL(NimStringDesc*, dispf_356521)(NU8 target, NimStringDesc* xml, NimStringDesc* tex, NimStringDesc** args, NI argsLen0);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* formatstr, NimStringDesc** a, NI aLen0);
N_NIMCALL(NimStringDesc*, getargument_342079)(trstnode341011* n);
N_NIMCALL(void, rendercodeblock_362662)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result);
N_NIMCALL(NU8, getsourcelanguage_350093)(NimStringDesc* name);
N_NIMCALL(void, initgeneraltokenizer_350229)(tgeneraltokenizer350023* g, NimStringDesc* buf);
N_NIMCALL(void, getnexttoken_353166)(tgeneraltokenizer350023* g, NU8 lang);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* s, NI start_74428, NI last);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* s, NI first, NI last);
N_NIMCALL(void, deinitgeneraltokenizer_350240)(tgeneraltokenizer350023* g);
N_NIMCALL(void, rendercontainer_362866)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result);
N_NIMCALL(void, renderindexterm_356871)(trstgenerator356016* d, trstnode341011* n_356874, NimStringDesc** result);
N_NIMCALL(NIM_BOOL, haskey_356880)(table356050 t_356887, NimStringDesc* key_356890);
N_NIMCALL(void, HEX5BHEX5DHEX3D_356974)(table356050* t_356983, NimStringDesc* key_356987, NI val_356989);
N_NIMCALL(NI, HEX5BHEX5D_356943)(table356050 t_356950, NimStringDesc* key_356953);
N_NIMCALL(void, rendersmiley_362646)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result);
N_NIMCALL(void, nimGCvisit)(void* d, NI op);
N_NIMCALL(void, TMP4600)(void* p, NI op);
N_NIMCALL(void*, newSeq)(TNimType* typ, NI len);
N_NIMCALL(void, nossplitFile)(NimStringDesc* path, TY116404* Result);
N_NOINLINE(void, chckNil)(void* p);
N_NIMCALL(void, inittable_356104)(NI initialsize_356109, table356050* Result);
N_NIMCALL(NimStringDesc*, nstGet)(stringtableobj132012* t, NimStringDesc* key);
N_NIMCALL(NI, nsuParseInt)(NimStringDesc* s);
N_NIMCALL(void, rendertocentry_362538)(trstgenerator356016* d, ttocentry356012* e, NimStringDesc** result);
N_NIMCALL(void, rendertocentries_362554)(trstgenerator356016* d, NI* j, NI lvl, NimStringDesc** result);
N_NIMCALL(void, writefile_12645)(NimStringDesc* filename, NimStringDesc* content);
N_NIMCALL(void, readindexdir_359798)(NimStringDesc* dir, TY359801* Result);
N_NIMCALL(void, inittable_359830)(NI initialsize_359835, table357277* Result);
N_NIMCALL(void, TMP4759)(void* p, NI op);
N_NIMCALL(NI, findfirstfile_113216)(NimStringDesc* a, twin32finddata104019* b);
N_NIMCALL(NimStringDesc*, HEX2F_116099)(NimStringDesc* head, NimStringDesc* tail);
static N_INLINE(NIM_BOOL, skipfinddata_113236)(twin32finddata104019* f);
N_NIMCALL(NimStringDesc*, HEX24_78995)(NI16* s);
N_NIMCALL(NIM_BOOL, nsuEndsWith)(NimStringDesc* s, NimStringDesc* suffix);
N_NIMCALL(FILE*, open_12417)(NimStringDesc* filename, NU8 mode, NI bufsize);
N_NIMCALL(NimStringDesc*, rawNewString)(NI cap);
N_NIMCALL(NIM_BOOL, readline_12689)(FILE* f, NimStringDesc** line);
N_NIMCALL(NimStringDesc*, copyStr)(NimStringDesc* s, NI start);
N_NIMCALL(NimStringDesc*, copyStr)(NimStringDesc* s, NI first);
N_NIMCALL(NIM_BOOL, isdocumentationtitle_357777)(NimStringDesc* hyperlink);
N_NIMCALL(TY120208*, nsuSplitChar)(NimStringDesc* s, NIM_CHAR sep);
N_NIMCALL(NimStringDesc*, unquoteindexcolumn_356700)(NimStringDesc* text);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* seq, NI elemsize);
N_NIMCALL(NI, len_360285)(table357277 t_360292);
N_NIMCALL(void, HEX5BHEX5DHEX3D_360301)(table357277* t_360310, tindexentry357264* key_360314, TY359804* val_360316);
static N_INLINE(NI, HEX21HEX26_129025)(NI h, NI val);
N_NIMCALL(NI, hash_129839)(NimStringDesc* x);
static N_INLINE(NimStringDesc*, or_356568)(NimStringDesc* x, NimStringDesc* y);
static N_INLINE(NI, HEX21HEX24_129054)(NI h);
N_NIMCALL(void, sort_360551)(NimStringDesc** a_360559, NI a_360559Len0, TY360570 cmp_360569, NU8 order_360572);
N_NIMCALL(NI, cmp_4528)(NimStringDesc* x, NimStringDesc* y);
N_NIMCALL(void, genericSeqAssign)(void* dest, void* src_81004, TNimType* mt);
N_NIMCALL(NimStringDesc*, generatedocumentationjumps_359423)(table357277 docs);
N_NIMCALL(void, sort_358553)(tindexentry357264* a_358561, NI a_358561Len0, TY358572 cmp_358571, NU8 order_358574);
N_NIMCALL(NI, cmp_357298)(tindexentry357264* a, tindexentry357264* b);
N_NIMCALL(NimStringDesc*, nsuJoinSep)(NimStringDesc** a, NI aLen0, NimStringDesc* sep);
N_NIMCALL(NimStringDesc*, generatemodulejumps_359718)(TY120208* modules);
N_NIMCALL(NimStringDesc*, generatedocumentationindex_358231)(table357277 docs);
N_NIMCALL(NimStringDesc*, generatedocumentationtoc_357873)(TY359804* entries);
N_NIMCALL(void, TMP4782)(void* p, NI op);
N_NIMCALL(void, striptoclevel_357788)(NimStringDesc* s, TY357880* Result);
static N_INLINE(NimStringDesc*, HEX5BHEX5D_85564)(NimStringDesc* s, slice85571 x);
static N_INLINE(slice85571, HEX2EHEX2E_93694)(NI a_93698, NI b_93700);
N_NIMCALL(NimStringDesc*, indenttolevel_357860)(NI* level, NI newlevel);
N_NIMCALL(NimStringDesc*, nsuRepeatStr)(NI count, NimStringDesc* s);
N_NIMCALL(TY359804*, HEX5BHEX5D_359298)(table357277 t_359305, tindexentry357264* key_359308);
N_NIMCALL(void, sortindex_357618)(tindexentry357264* a, NI aLen0);
N_NIMCALL(void, HEX3CHEX2D_357607)(tindexentry357264* a, tindexentry357264* b);
N_NIMCALL(NimStringDesc*, generatesymbolindex_357695)(TY359804* symbols);
STRING_LITERAL(TMP903, "<wbr />", 7);
STRING_LITERAL(TMP2110, "", 0);
STRING_LITERAL(TMP2112, "\015\012<h$1><a class=\"toc-backref\" id=\"$2\" href=\"#$2_toc\">$3</a></h$"
"1>", 65);
STRING_LITERAL(TMP2113, "\\rsth$4{$3}\\label{$2}\015\012", 23);
STRING_LITERAL(TMP2114, "\015\012<h$1 id=\"$2\">$3</h$1>", 23);
STRING_LITERAL(TMP2115, "html", 4);
STRING_LITERAL(TMP2116, "\\", 1);
STRING_LITERAL(TMP2117, "\\\\", 2);
STRING_LITERAL(TMP2118, "\015\012", 2);
STRING_LITERAL(TMP2119, "\\n", 2);
STRING_LITERAL(TMP2120, "\011", 1);
STRING_LITERAL(TMP2121, "\\t", 2);
STRING_LITERAL(TMP2122, "<h$1 id=\"$2\"><center>$3</center></h$1>", 38);
STRING_LITERAL(TMP2123, "\\rstov$4{$3}\\label{$2}\015\012", 24);
STRING_LITERAL(TMP2124, "<hr />\015\012", 8);
STRING_LITERAL(TMP2125, "\\hrule\015\012", 8);
STRING_LITERAL(TMP2126, "<p>$1</p>\015\012", 11);
STRING_LITERAL(TMP2127, "$1\015\012\015\012", 6);
STRING_LITERAL(TMP2128, "<ul class=\"simple\">$1</ul>\015\012", 28);
STRING_LITERAL(TMP2129, "\\begin{itemize}$1\\end{itemize}\015\012", 32);
STRING_LITERAL(TMP2130, "<li>$1</li>\015\012", 13);
STRING_LITERAL(TMP2131, "\\item $1\015\012", 10);
STRING_LITERAL(TMP2132, "<ol class=\"simple\">$1</ol>\015\012", 28);
STRING_LITERAL(TMP2133, "\\begin{enumerate}$1\\end{enumerate}\015\012", 36);
STRING_LITERAL(TMP2134, "<dl class=\"docutils\">$1</dl>\015\012", 30);
STRING_LITERAL(TMP2135, "\\begin{description}$1\\end{description}\015\012", 40);
STRING_LITERAL(TMP2136, "<dt>$1</dt>\015\012", 13);
STRING_LITERAL(TMP2137, "\\item[$1] ", 10);
STRING_LITERAL(TMP2138, "<dd>$1</dd>\015\012", 13);
STRING_LITERAL(TMP2139, "$1\015\012", 4);
STRING_LITERAL(TMP2140, "<table class=\"docinfo\" frame=\"void\" rules=\"none\"><col class=\"do"
"cinfo-name\" /><col class=\"docinfo-content\" /><tbody valign=\"top\""
">$1</tbody></table>", 146);
STRING_LITERAL(TMP2141, " ", 1);
STRING_LITERAL(TMP2142, "&amp;", 5);
STRING_LITERAL(TMP2143, "&lt;", 4);
STRING_LITERAL(TMP2144, "&gt;", 4);
STRING_LITERAL(TMP2145, "&quot;", 6);
STRING_LITERAL(TMP2146, "\\_", 2);
STRING_LITERAL(TMP2147, "\\symbol{123}", 12);
STRING_LITERAL(TMP2148, "\\symbol{125}", 12);
STRING_LITERAL(TMP2149, "\\symbol{91}", 11);
STRING_LITERAL(TMP2150, "\\symbol{93}", 11);
STRING_LITERAL(TMP2151, "\\symbol{92}", 11);
STRING_LITERAL(TMP2152, "\\$", 2);
STRING_LITERAL(TMP2153, "\\&", 2);
STRING_LITERAL(TMP2154, "\\#", 2);
STRING_LITERAL(TMP2155, "\\%", 2);
STRING_LITERAL(TMP2156, "\\symbol{126}", 12);
STRING_LITERAL(TMP2157, "\\symbol{64}", 11);
STRING_LITERAL(TMP2158, "\\symbol{94}", 11);
STRING_LITERAL(TMP2159, "\\symbol{96}", 11);
STRING_LITERAL(TMP2160, "author", 6);
STRING_LITERAL(TMP2161, "authors", 7);
STRING_LITERAL(TMP2162, "version", 7);
STRING_LITERAL(TMP2163, "<tr>$1</tr>\015\012", 13);
STRING_LITERAL(TMP2164, "$1", 2);
STRING_LITERAL(TMP2165, "<th class=\"docinfo-name\">$1:</th>", 33);
STRING_LITERAL(TMP2166, "\\item[$1:]", 10);
STRING_LITERAL(TMP2167, "<td>$1</td>", 11);
STRING_LITERAL(TMP2168, " $1\015\012", 5);
STRING_LITERAL(TMP2169, "<table frame=\"void\">$1</table>", 30);
STRING_LITERAL(TMP2170, "\\begin{description}\015\012$1\\end{description}\015\012", 42);
STRING_LITERAL(TMP2171, "<th align=\"left\">$1</th>", 24);
STRING_LITERAL(TMP2172, "\\item[$1]", 9);
STRING_LITERAL(TMP2173, "<td align=\"left\">$1</td>\015\012", 26);
STRING_LITERAL(TMP2175, "false renderRstToOut", 20);
STRING_LITERAL(TMP2176, "<pre>$1</pre>\015\012", 15);
STRING_LITERAL(TMP2177, "\\begin{rstpre}\015\012$1\015\012\\end{rstpre}\015\012", 34);
STRING_LITERAL(TMP2178, "<p>$1</p>", 9);
STRING_LITERAL(TMP2179, "$1<br />", 8);
STRING_LITERAL(TMP2180, "$1\\\\\015\012", 6);
STRING_LITERAL(TMP2181, "<blockquote><p>$1</p></blockquote>\015\012", 36);
STRING_LITERAL(TMP2182, "\\begin{quote}$1\\end{quote}\015\012", 28);
STRING_LITERAL(TMP2183, "<table border=\"1\" class=\"docutils\">$1</table>", 45);
STRING_LITERAL(TMP2184, "\\begin{table}\\begin{rsttab}{", 28);
STRING_LITERAL(TMP2185, "|X", 2);
STRING_LITERAL(TMP2186, "|}\015\012\\hline\015\012$1\\end{rsttab}\\end{table}", 37);
STRING_LITERAL(TMP2187, " & ", 3);
STRING_LITERAL(TMP2188, "\\\\\015\012\\hline\015\012", 12);
STRING_LITERAL(TMP2189, "<tr>", 4);
STRING_LITERAL(TMP2190, "</tr>\015\012", 7);
STRING_LITERAL(TMP2191, "<th>$1</th>", 11);
STRING_LITERAL(TMP2192, "\\textbf{$1}", 11);
STRING_LITERAL(TMP2193, "<a class=\"reference external\" href=\"#$2\">$1</a>", 47);
STRING_LITERAL(TMP2194, "$1\\ref{$2}", 10);
STRING_LITERAL(TMP2195, "<a class=\"reference external\" href=\"$1\">$1</a>", 46);
STRING_LITERAL(TMP2196, "\\href{$1}{$1}", 13);
STRING_LITERAL(TMP2197, "<a class=\"reference external\" href=\"$2\">$1</a>", 46);
STRING_LITERAL(TMP2198, "\\href{$2}{$1}", 13);
STRING_LITERAL(TMP2200, "scale", 5);
STRING_LITERAL(TMP2201, " scale=\"$1\"", 11);
STRING_LITERAL(TMP2202, " scale=$1", 9);
STRING_LITERAL(TMP2203, "height", 6);
STRING_LITERAL(TMP2204, " height=\"$1\"", 12);
STRING_LITERAL(TMP2205, " height=$1", 10);
STRING_LITERAL(TMP2206, "width", 5);
STRING_LITERAL(TMP2207, " width=\"$1\"", 11);
STRING_LITERAL(TMP2208, " width=$1", 9);
STRING_LITERAL(TMP2209, "alt", 3);
STRING_LITERAL(TMP2210, " alt=\"$1\"", 9);
STRING_LITERAL(TMP2211, "align", 5);
STRING_LITERAL(TMP2212, " align=\"$1\"", 11);
STRING_LITERAL(TMP2213, "[$1]", 4);
STRING_LITERAL(TMP2214, "<img src=\"$1\"$2 />", 18);
STRING_LITERAL(TMP2215, "\\includegraphics$2{$1}", 22);
STRING_LITERAL(TMP2223, "<pre>", 5);
STRING_LITERAL(TMP2224, "\\begin{rstpre}\015\012", 16);
STRING_LITERAL(TMP2383, "<span class=\"$2\">$1</span>", 26);
STRING_LITERAL(TMP2384, "\\span$2{$1}", 11);
extern NIM_CONST TY350082 tokenclasstostr_350081;
STRING_LITERAL(TMP2418, "</pre>", 6);
STRING_LITERAL(TMP2419, "\015\012\\end{rstpre}\015\012", 16);
STRING_LITERAL(TMP2420, "<div>$1</div>", 13);
STRING_LITERAL(TMP2421, "<div class=\"$1\">$2</div>", 24);
STRING_LITERAL(TMP2422, "$2", 2);
STRING_LITERAL(TMP2423, "|$1|", 4);
STRING_LITERAL(TMP2424, "<sub>$1</sub>", 13);
STRING_LITERAL(TMP2425, "\\rstsub{$1}", 11);
STRING_LITERAL(TMP2426, "<sup>$1</sup>", 13);
STRING_LITERAL(TMP2427, "\\rstsup{$1}", 11);
STRING_LITERAL(TMP2428, "<em>$1</em>", 11);
STRING_LITERAL(TMP2429, "\\emph{$1}", 9);
STRING_LITERAL(TMP2430, "<strong>$1</strong>", 19);
STRING_LITERAL(TMP2431, "<strong><em>$1</em></strong>", 28);
STRING_LITERAL(TMP2432, "\\textbf{emph{$1}}", 17);
STRING_LITERAL(TMP2433, "<cite>$1</cite>", 15);
STRING_LITERAL(TMP2436, "<span id=\"$1\">$2</span>", 23);
STRING_LITERAL(TMP2437, "$2\\label{$1}", 12);
STRING_LITERAL(TMP2438, "<tt class=\"docutils literal\"><span class=\"pre\">$1</span></tt>", 61);
STRING_LITERAL(TMP2439, "\\texttt{$1}", 11);
STRING_LITERAL(TMP2440, "<img src=\"/images/smilies/$1.gif\" width=\"15\" \015\012        height=\""
"17\" hspace=\"2\" vspace=\"2\" />", 91);
STRING_LITERAL(TMP2441, "\\includegraphics{$1}", 20);
STRING_LITERAL(TMP4604, ".nim", 4);
STRING_LITERAL(TMP4605, "Module ", 7);
STRING_LITERAL(TMP4606, "split.item.toc", 14);
STRING_LITERAL(TMP4679, "<li><a class=\"reference\" id=\"$1_toc\" href=\"#$1\">$2</a></li>\015\012", 61);
STRING_LITERAL(TMP4680, "\\item\\label{$1_toc} $2\\ref{$1}\015\012", 32);
STRING_LITERAL(TMP4681, "<ul class=\"simple\">$1</ul>", 26);
STRING_LITERAL(TMP4682, "\\begin{enumerate}$1\\end{enumerate}", 34);
STRING_LITERAL(TMP4761, "*", 1);
STRING_LITERAL(TMP4762, ".idx", 4);
STRING_LITERAL(TMP4763, "doc_toc_", 8);
STRING_LITERAL(TMP4767, "Documents: ", 11);
STRING_LITERAL(TMP4771, "<a href=\"", 9);
STRING_LITERAL(TMP4772, "\">", 2);
STRING_LITERAL(TMP4773, "</a>", 4);
STRING_LITERAL(TMP4774, ", ", 2);
STRING_LITERAL(TMP4775, ".<br>", 5);
STRING_LITERAL(TMP4776, "<p />", 5);
STRING_LITERAL(TMP4777, "Modules: ", 9);
STRING_LITERAL(TMP4778, ".html\">", 7);
STRING_LITERAL(TMP4779, "<h2>Documentation files</h2>\015\012", 30);
STRING_LITERAL(TMP4783, "<ul>\015\012", 6);
STRING_LITERAL(TMP4784, "<ul>", 4);
STRING_LITERAL(TMP4785, "</ul>", 5);
STRING_LITERAL(TMP4786, "<li><a href=\"", 13);
STRING_LITERAL(TMP4787, "</a>\015\012", 6);
STRING_LITERAL(TMP4788, "</ul>\015\012", 7);
STRING_LITERAL(TMP4789, "<ul><li><a href=\"", 17);
STRING_LITERAL(TMP4790, "<h2>API symbols</h2>\015\012", 22);
STRING_LITERAL(TMP4791, "<dt><span>$1:</span></dt><ul class=\"simple\"><dd>\015\012", 50);
STRING_LITERAL(TMP4792, "<li><a class=\"reference external\"\015\012          title=\"$3\" href=\"$"
"1\">$2</a></li>\015\012          ", 89);
STRING_LITERAL(TMP4793, "<li><a class=\"reference external\" href=\"$1\">$2</a></li>\015\012      "
"    ", 67);
STRING_LITERAL(TMP4794, "</ul></dd>\015\012", 12);
NimStringDesc* splitter_356332;
extern tgcheap46616 gch_46644;
extern TNimType NTI350023; /* TGeneralTokenizer */
extern TNimType NTI3211; /* RootObj */
TNimType NTI356016; /* TRstGenerator */
TNimType NTI356010; /* TOutputTarget */
extern TNimType NTI132014; /* StringTableRef */
extern TNimType NTI108; /* int */
TNimType NTI356012; /* TTocEntry */
extern TNimType NTI341007; /* PRstNode */
extern TNimType NTI149; /* string */
TNimType NTI356032; /* seq[TTocEntry] */
extern TNimType NTI138; /* bool */
extern TNimType NTI342015; /* TRstParseOptions */
extern TNimType NTI342023; /* TFindFileHandler */
extern TNimType NTI342021; /* TMsgHandler */
TNimType NTI356040; /* array[TMetaEnum, string] */
extern TNimType NTI356050; /* Table */
extern TNimType NTI120208; /* seq[string] */
TNimType NTI357264; /* TIndexEntry */
TNimType NTI359804; /* seq[TIndexEntry] */
extern TY104045 Dl_104044;
extern TY104205 Dl_104204;
extern TNimType NTI357280; /* KeyValuePairSeq */
TNimType NTI357880; /* tuple[level: int, text: string] */
TNimType NTI357879; /* seq[tuple[level: int, text: string]] */

static N_INLINE(tcell44533*, usrtocell_48246)(void* usr) {
	tcell44533* result;
	result = 0;
	result = ((tcell44533*) ((NI)((NU64)(((NI) (usr))) - (NU64)(((NI)sizeof(tcell44533))))));
	return result;
}

static N_INLINE(void, rtladdzct_49804)(tcell44533* c) {
	addzct_48217(&gch_46644.Zct, c);
}

static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	tcell44533* c;
	c = usrtocell_48246(p);
	{
		(*c).Refcount -= 8;
		if (!((NU64)((*c).Refcount) < (NU64)(8))) goto LA3;
		rtladdzct_49804(c);
	}
	LA3: ;
}

N_NIMCALL(void, renderaux_356589)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result) {
	{
		NI i_356607;
		NI HEX3Atmp_356609;
		NI LOC2;
		NI res_356612;
		i_356607 = 0;
		HEX3Atmp_356609 = 0;
		LOC2 = 0;
		LOC2 = len_341084(n);
		HEX3Atmp_356609 = (NI64)(LOC2 - 1);
		res_356612 = 0;
		{
			while (1) {
				if (!(res_356612 <= HEX3Atmp_356609)) goto LA4;
				i_356607 = res_356612;
				renderrsttoout_356579(d, (*n).Sons->data[i_356607], result);
				res_356612 += 1;
			} LA4: ;
		}
	}
}

static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src) {
	{
		tcell44533* c;
		if (!!((src == NIM_NIL))) goto LA3;
		c = usrtocell_48246(src);
		(*c).Refcount += 8;
	}
	LA3: ;
	{
		tcell44533* c;
		if (!!(((*dest) == NIM_NIL))) goto LA7;
		c = usrtocell_48246((*dest));
		{
			(*c).Refcount -= 8;
			if (!((NU64)((*c).Refcount) < (NU64)(8))) goto LA11;
			rtladdzct_49804(c);
		}
		LA11: ;
	}
	LA7: ;
	(*dest) = src;
}

N_NIMCALL(void, dispa_356544)(NU8 target, NimStringDesc** dest, NimStringDesc* xml, NimStringDesc* tex, NimStringDesc** args, NI argsLen0) {
	{
		if (!!((target == ((NU8) 1)))) goto LA3;
		nsuAddf(dest, xml, args, argsLen0);
	}
	goto LA1;
	LA3: ;
	{
		nsuAddf(dest, tex, args, argsLen0);
	}
	LA1: ;
}

static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	memcpy(((NCSTRING) (&(*dest).data[((*dest).Sup.len)- 0])), ((NCSTRING) ((*src).data)), (NI64)((*src).Sup.len + 1));
	(*dest).Sup.len += (*src).Sup.len;
}

static N_INLINE(void, appendChar)(NimStringDesc* dest, NIM_CHAR c) {
	(*dest).data[((*dest).Sup.len)- 0] = c;
	(*dest).data[((NI64)((*dest).Sup.len + 1))- 0] = 0;
	(*dest).Sup.len += 1;
}

N_NIMCALL(NimStringDesc*, quoteindexcolumn_356690)(NimStringDesc* text) {
	NimStringDesc* result;
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	result = 0;
	LOC1 = 0;
	LOC1 = nsuReplaceStr(text, ((NimStringDesc*) &TMP2116), ((NimStringDesc*) &TMP2117));
	LOC2 = 0;
	LOC2 = nsuReplaceStr(LOC1, ((NimStringDesc*) &TMP2118), ((NimStringDesc*) &TMP2119));
	result = nsuReplaceStr(LOC2, ((NimStringDesc*) &TMP2120), ((NimStringDesc*) &TMP2121));
	return result;
}

N_NIMCALL(void, setindexterm_356710)(trstgenerator356016* d, NimStringDesc* id, NimStringDesc* term, NimStringDesc* linktitle, NimStringDesc* linkdesc) {
	NimStringDesc* entry;
	NIM_BOOL istitle;
	NimStringDesc* htmlfile;
	NimStringDesc* LOC1;
	entry = copyString(term);
	istitle = NIM_FALSE;
	entry = addChar(entry, 9);
	LOC1 = 0;
	LOC1 = nosextractFilename((*d).Filename);
	htmlfile = noschangeFileExt(LOC1, ((NimStringDesc*) &TMP2115));
	entry = resizeString(entry, htmlfile->Sup.len + 0);
appendString(entry, htmlfile);
	{
		if (!(0 < id->Sup.len)) goto LA4;
		entry = addChar(entry, 35);
		entry = resizeString(entry, id->Sup.len + 0);
appendString(entry, id);
	}
	goto LA2;
	LA4: ;
	{
		istitle = NIM_TRUE;
	}
	LA2: ;
	{
		NIM_BOOL LOC9;
		NimStringDesc* LOC13;
		NimStringDesc* LOC14;
		NimStringDesc* LOC15;
		NimStringDesc* LOC16;
		LOC9 = 0;
		LOC9 = (0 < linktitle->Sup.len);
		if (LOC9) goto LA10;
		LOC9 = (0 < linkdesc->Sup.len);
		LA10: ;
		if (!LOC9) goto LA11;
		LOC13 = 0;
		LOC14 = 0;
		LOC14 = quoteindexcolumn_356690(linktitle);
		LOC13 = rawNewString(LOC14->Sup.len + 1);
appendChar(LOC13, 9);
appendString(LOC13, LOC14);
		entry = resizeString(entry, LOC13->Sup.len + 0);
appendString(entry, LOC13);
		LOC15 = 0;
		LOC16 = 0;
		LOC16 = quoteindexcolumn_356690(linkdesc);
		LOC15 = rawNewString(LOC16->Sup.len + 1);
appendChar(LOC15, 9);
appendString(LOC15, LOC16);
		entry = resizeString(entry, LOC15->Sup.len + 0);
appendString(entry, LOC15);
	}
	LA11: ;
	entry = resizeString(entry, 2);
appendString(entry, ((NimStringDesc*) &TMP2118));
	{
		if (!istitle) goto LA19;
		insert_87201(&(*d).Theindex, entry, 0);
	}
	goto LA17;
	LA19: ;
	{
		(*d).Theindex = resizeString((*d).Theindex, entry->Sup.len + 0);
appendString((*d).Theindex, entry);
	}
	LA17: ;
}

N_NIMCALL(NimStringDesc*, striptochtml_362260)(NimStringDesc* s) {
	NimStringDesc* result;
	NI first;
	result = 0;
	result = copyString(s);
	first = nsuFindChar(result, 60, 0);
	{
		while (1) {
			NI last;
			if (!(0 <= first)) goto LA2;
			last = nsuFindChar(result, 62, first);
			{
				if (!(last < 0)) goto LA5;
				goto BeforeRet;
			}
			LA5: ;
			nsuDelete(&result, first, last);
			first = nsuFindChar(result, 60, first);
		} LA2: ;
	}
	BeforeRet: ;
	return result;
}

N_NIMCALL(void, renderheadline_362281)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result) {
	NimStringDesc* tmp;
	NimStringDesc* refname;
	NimStringDesc* LOC14;
	NimStringDesc* LOC15;
	NimStringDesc* LOC16;
	tmp = copyString(((NimStringDesc*) &TMP2110));
	{
		NI i_362300;
		NI HEX3Atmp_362405;
		NI LOC2;
		NI res_362408;
		i_362300 = 0;
		HEX3Atmp_362405 = 0;
		LOC2 = 0;
		LOC2 = len_341084(n);
		HEX3Atmp_362405 = (NI64)(LOC2 - 1);
		res_362408 = 0;
		{
			while (1) {
				if (!(res_362408 <= HEX3Atmp_362405)) goto LA4;
				i_362300 = res_362408;
				renderrsttoout_356579(d, (*n).Sons->data[i_362300], &tmp);
				res_362408 += 1;
			} LA4: ;
		}
	}
	unsureAsgnRef((void**) &(*d).Currentsection, copyString(tmp));
	refname = rstnodetorefname_342060(n);
	{
		NI length;
		NimStringDesc* LOC9;
		NimStringDesc* LOC10;
		TY197620 LOC11;
		if (!(*d).Hastoc) goto LA7;
		length = (*d).Tocpart->Sup.len;
		(*d).Tocpart = (TY356032*) setLengthSeq(&((*d).Tocpart)->Sup, sizeof(ttocentry356012), (NI64)(length + 1));
		LOC9 = 0;
		LOC9 = (*d).Tocpart->data[length].Refname; (*d).Tocpart->data[length].Refname = copyStringRC1(refname);
		if (LOC9) nimGCunrefNoCycle(LOC9);
		asgnRefNoCycle((void**) &(*d).Tocpart->data[length].N, n);
		LOC10 = 0;
		LOC10 = (*d).Tocpart->data[length].Header; (*d).Tocpart->data[length].Header = copyStringRC1(tmp);
		if (LOC10) nimGCunrefNoCycle(LOC10);
		memset((void*)LOC11, 0, sizeof(LOC11));
		LOC11[0] = nimIntToStr((*n).Level);
		LOC11[1] = copyString((*d).Tocpart->data[length].Refname);
		LOC11[2] = copyString(tmp);
		LOC11[3] = nimCharToStr(((NIM_CHAR) (((NI) ((NI64)((NI64)((*n).Level - 1) + 65))))));
		dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP2112), ((NimStringDesc*) &TMP2113), LOC11, 4);
	}
	goto LA5;
	LA7: ;
	{
		TY197620 LOC13;
		memset((void*)LOC13, 0, sizeof(LOC13));
		LOC13[0] = nimIntToStr((*n).Level);
		LOC13[1] = copyString(refname);
		LOC13[2] = copyString(tmp);
		LOC13[3] = nimCharToStr(((NIM_CHAR) (((NI) ((NI64)((NI64)((*n).Level - 1) + 65))))));
		dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP2114), ((NimStringDesc*) &TMP2113), LOC13, 4);
	}
	LA5: ;
	LOC14 = 0;
	LOC14 = striptochtml_362260(tmp);
	LOC15 = 0;
	LOC16 = 0;
	LOC16 = nsuRepeatChar(((0 >= (*n).Level) ? 0 : (*n).Level), 32);
	LOC15 = rawNewString(LOC16->Sup.len + tmp->Sup.len + 0);
appendString(LOC15, LOC16);
appendString(LOC15, tmp);
	setindexterm_356710(d, refname, LOC14, LOC15, ((NimStringDesc*) &TMP2110));
}

N_NIMCALL(void, renderoverline_362425)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result) {
	{
		if (!((*d).Meta[(((NU8) 1))- 0]->Sup.len == 0)) goto LA3;
		{
			NI i_362443;
			NI HEX3Atmp_362488;
			NI LOC6;
			NI res_362491;
			i_362443 = 0;
			HEX3Atmp_362488 = 0;
			LOC6 = 0;
			LOC6 = len_341084(n);
			HEX3Atmp_362488 = (NI64)(LOC6 - 1);
			res_362491 = 0;
			{
				while (1) {
					if (!(res_362491 <= HEX3Atmp_362488)) goto LA8;
					i_362443 = res_362491;
					renderrsttoout_356579(d, (*n).Sons->data[i_362443], &(*d).Meta[(((NU8) 1))- 0]);
					res_362491 += 1;
				} LA8: ;
			}
		}
		unsureAsgnRef((void**) &(*d).Currentsection, copyString((*d).Meta[(((NU8) 1))- 0]));
	}
	goto LA1;
	LA3: ;
	{
		if (!((*d).Meta[(((NU8) 2))- 0]->Sup.len == 0)) goto LA10;
		{
			NI i_362457;
			NI HEX3Atmp_362494;
			NI LOC13;
			NI res_362497;
			i_362457 = 0;
			HEX3Atmp_362494 = 0;
			LOC13 = 0;
			LOC13 = len_341084(n);
			HEX3Atmp_362494 = (NI64)(LOC13 - 1);
			res_362497 = 0;
			{
				while (1) {
					if (!(res_362497 <= HEX3Atmp_362494)) goto LA15;
					i_362457 = res_362497;
					renderrsttoout_356579(d, (*n).Sons->data[i_362457], &(*d).Meta[(((NU8) 2))- 0]);
					res_362497 += 1;
				} LA15: ;
			}
		}
		unsureAsgnRef((void**) &(*d).Currentsection, copyString((*d).Meta[(((NU8) 2))- 0]));
	}
	goto LA1;
	LA10: ;
	{
		NimStringDesc* tmp;
		TY197620 LOC21;
		tmp = copyString(((NimStringDesc*) &TMP2110));
		{
			NI i_362472;
			NI HEX3Atmp_362500;
			NI LOC18;
			NI res_362503;
			i_362472 = 0;
			HEX3Atmp_362500 = 0;
			LOC18 = 0;
			LOC18 = len_341084(n);
			HEX3Atmp_362500 = (NI64)(LOC18 - 1);
			res_362503 = 0;
			{
				while (1) {
					if (!(res_362503 <= HEX3Atmp_362500)) goto LA20;
					i_362472 = res_362503;
					renderrsttoout_356579(d, (*n).Sons->data[i_362472], &tmp);
					res_362503 += 1;
				} LA20: ;
			}
		}
		unsureAsgnRef((void**) &(*d).Currentsection, copyString(tmp));
		memset((void*)LOC21, 0, sizeof(LOC21));
		LOC21[0] = nimIntToStr((*n).Level);
		LOC21[1] = rstnodetorefname_342060(n);
		LOC21[2] = copyString(tmp);
		LOC21[3] = nimCharToStr(((NIM_CHAR) (((NI) ((NI64)((NI64)((*n).Level - 1) + 65))))));
		dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP2122), ((NimStringDesc*) &TMP2123), LOC21, 4);
	}
	LA1: ;
}

N_NIMCALL(void, renderaux_356629)(trstgenerator356016* d, trstnode341011* n, NimStringDesc* frmta, NimStringDesc* frmtb, NimStringDesc** result) {
	NimStringDesc* tmp;
	tmp = copyString(((NimStringDesc*) &TMP2110));
	{
		NI i_356650;
		NI HEX3Atmp_356670;
		NI LOC2;
		NI res_356673;
		i_356650 = 0;
		HEX3Atmp_356670 = 0;
		LOC2 = 0;
		LOC2 = len_341084(n);
		HEX3Atmp_356670 = (NI64)(LOC2 - 1);
		res_356673 = 0;
		{
			while (1) {
				if (!(res_356673 <= HEX3Atmp_356670)) goto LA4;
				i_356650 = res_356673;
				renderrsttoout_356579(d, (*n).Sons->data[i_356650], &tmp);
				res_356673 += 1;
			} LA4: ;
		}
	}
	{
		TY197301 LOC9;
		if (!!(((*d).Target == ((NU8) 1)))) goto LA7;
		memset((void*)LOC9, 0, sizeof(LOC9));
		LOC9[0] = copyString(tmp);
		nsuAddf(result, frmta, LOC9, 1);
	}
	goto LA5;
	LA7: ;
	{
		TY197301 LOC11;
		memset((void*)LOC11, 0, sizeof(LOC11));
		LOC11[0] = copyString(tmp);
		nsuAddf(result, frmtb, LOC11, 1);
	}
	LA5: ;
}

N_NIMCALL(NI, nextsplitpoint_356349)(NimStringDesc* s, NI start) {
	NI result;
	result = 0;
	result = start;
	{
		while (1) {
			if (!(result < (NI64)(s->Sup.len + 0))) goto LA2;
			switch (((NU8)(s->data[result]))) {
			case 95:
			{
				goto BeforeRet;
			}
			break;
			case 97 ... 122:
			{
				{
					if (!((NI64)(result + 1) < (NI64)(s->Sup.len + 0))) goto LA7;
					{
						if (!(((NU8)(s->data[(NI64)(result + 1)])) >= ((NU8)(65)) && ((NU8)(s->data[(NI64)(result + 1)])) <= ((NU8)(90)))) goto LA11;
						goto BeforeRet;
					}
					LA11: ;
				}
				LA7: ;
			}
			break;
			default:
			{
			}
			break;
			}
			result += 1;
		} LA2: ;
	}
	result -= 1;
	BeforeRet: ;
	return result;
}

static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b) {
	NIM_BOOL result;
	NIM_BOOL LOC11;
	int LOC13;
	result = 0;
	{
		if (!(a == b)) goto LA3;
		result = NIM_TRUE;
		goto BeforeRet;
	}
	LA3: ;
	{
		NIM_BOOL LOC7;
		LOC7 = 0;
		LOC7 = (a == NIM_NIL);
		if (LOC7) goto LA8;
		LOC7 = (b == NIM_NIL);
		LA8: ;
		if (!LOC7) goto LA9;
		result = NIM_FALSE;
		goto BeforeRet;
	}
	LA9: ;
	LOC11 = 0;
	LOC11 = ((*a).Sup.len == (*b).Sup.len);
	if (!(LOC11)) goto LA12;
	LOC13 = 0;
	LOC13 = memcmp(((NCSTRING) ((*a).data)), ((NCSTRING) ((*b).data)), (NI64)((*a).Sup.len * 1));
	LOC11 = (LOC13 == ((NI32) 0));
	LA12: ;
	result = LOC11;
	goto BeforeRet;
	BeforeRet: ;
	return result;
}

N_NIMCALL(void, addxmlchar_356299)(NimStringDesc** dest, NIM_CHAR c) {
	switch (((NU8)(c))) {
	case 38:
	{
		(*dest) = resizeString((*dest), 5);
appendString((*dest), ((NimStringDesc*) &TMP2142));
	}
	break;
	case 60:
	{
		(*dest) = resizeString((*dest), 4);
appendString((*dest), ((NimStringDesc*) &TMP2143));
	}
	break;
	case 62:
	{
		(*dest) = resizeString((*dest), 4);
appendString((*dest), ((NimStringDesc*) &TMP2144));
	}
	break;
	case 34:
	{
		(*dest) = resizeString((*dest), 6);
appendString((*dest), ((NimStringDesc*) &TMP2145));
	}
	break;
	default:
	{
		(*dest) = addChar((*dest), c);
	}
	break;
	}
}

N_NIMCALL(void, addtexchar_356321)(NimStringDesc** dest, NIM_CHAR c) {
	switch (((NU8)(c))) {
	case 95:
	{
		(*dest) = resizeString((*dest), 2);
appendString((*dest), ((NimStringDesc*) &TMP2146));
	}
	break;
	case 123:
	{
		(*dest) = resizeString((*dest), 12);
appendString((*dest), ((NimStringDesc*) &TMP2147));
	}
	break;
	case 125:
	{
		(*dest) = resizeString((*dest), 12);
appendString((*dest), ((NimStringDesc*) &TMP2148));
	}
	break;
	case 91:
	{
		(*dest) = resizeString((*dest), 11);
appendString((*dest), ((NimStringDesc*) &TMP2149));
	}
	break;
	case 93:
	{
		(*dest) = resizeString((*dest), 11);
appendString((*dest), ((NimStringDesc*) &TMP2150));
	}
	break;
	case 92:
	{
		(*dest) = resizeString((*dest), 11);
appendString((*dest), ((NimStringDesc*) &TMP2151));
	}
	break;
	case 36:
	{
		(*dest) = resizeString((*dest), 2);
appendString((*dest), ((NimStringDesc*) &TMP2152));
	}
	break;
	case 38:
	{
		(*dest) = resizeString((*dest), 2);
appendString((*dest), ((NimStringDesc*) &TMP2153));
	}
	break;
	case 35:
	{
		(*dest) = resizeString((*dest), 2);
appendString((*dest), ((NimStringDesc*) &TMP2154));
	}
	break;
	case 37:
	{
		(*dest) = resizeString((*dest), 2);
appendString((*dest), ((NimStringDesc*) &TMP2155));
	}
	break;
	case 126:
	{
		(*dest) = resizeString((*dest), 12);
appendString((*dest), ((NimStringDesc*) &TMP2156));
	}
	break;
	case 64:
	{
		(*dest) = resizeString((*dest), 11);
appendString((*dest), ((NimStringDesc*) &TMP2157));
	}
	break;
	case 94:
	{
		(*dest) = resizeString((*dest), 11);
appendString((*dest), ((NimStringDesc*) &TMP2158));
	}
	break;
	case 96:
	{
		(*dest) = resizeString((*dest), 11);
appendString((*dest), ((NimStringDesc*) &TMP2159));
	}
	break;
	default:
	{
		(*dest) = addChar((*dest), c);
	}
	break;
	}
}

static N_INLINE(void, escchar_356337)(NU8 target, NimStringDesc** dest, NIM_CHAR c) {
	switch (target) {
	case ((NU8) 0):
	{
		addxmlchar_356299(dest, c);
	}
	break;
	case ((NU8) 1):
	{
		addtexchar_356321(dest, c);
	}
	break;
	}
}

N_NIMCALL(NimStringDesc*, esc_356407)(NU8 target, NimStringDesc* s, NI splitafter) {
	NimStringDesc* result;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP2110));
	{
		NI partlen;
		NI j;
		if (!(0 <= splitafter)) goto LA3;
		partlen = 0;
		j = 0;
		{
			while (1) {
				NI k;
				if (!(j < s->Sup.len)) goto LA6;
				k = nextsplitpoint_356349(s, j);
				{
					NIM_BOOL LOC9;
					LOC9 = 0;
					LOC9 = !(eqStrings(splitter_356332, ((NimStringDesc*) &TMP2141)));
					if (LOC9) goto LA10;
					LOC9 = (splitafter < (NI64)((NI64)((NI64)(partlen + k) - j) + 1));
					LA10: ;
					if (!LOC9) goto LA11;
					partlen = 0;
					result = resizeString(result, splitter_356332->Sup.len + 0);
appendString(result, splitter_356332);
				}
				LA11: ;
				{
					NI i_356430;
					NI res_356462;
					i_356430 = 0;
					res_356462 = j;
					{
						while (1) {
							if (!(res_356462 <= k)) goto LA15;
							i_356430 = res_356462;
							escchar_356337(target, &result, s->data[i_356430]);
							res_356462 += 1;
						} LA15: ;
					}
				}
				partlen += (NI64)((NI64)(k - j) + 1);
				j = (NI64)(k + 1);
			} LA6: ;
		}
	}
	goto LA1;
	LA3: ;
	{
		{
			NI i_356456;
			NI HEX3Atmp_356465;
			NI res_356468;
			i_356456 = 0;
			HEX3Atmp_356465 = 0;
			HEX3Atmp_356465 = (NI64)(s->Sup.len - 1);
			res_356468 = 0;
			{
				while (1) {
					if (!(res_356468 <= HEX3Atmp_356465)) goto LA19;
					i_356456 = res_356468;
					escchar_356337(target, &result, s->data[i_356456]);
					res_356468 += 1;
				} LA19: ;
			}
		}
	}
	LA1: ;
	return result;
}

N_NIMCALL(void, renderfield_362927)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result) {
	NIM_BOOL b;
	b = NIM_FALSE;
	{
		NimStringDesc* fieldname;
		NimStringDesc* fieldval;
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!((*d).Target == ((NU8) 1))) goto LA3;
		fieldname = addnodes_342066((*n).Sons->data[0]);
		LOC5 = 0;
		LOC5 = addnodes_342066((*n).Sons->data[1]);
		LOC6 = 0;
		LOC6 = nsuStrip(LOC5, NIM_TRUE, NIM_TRUE);
		fieldval = esc_356407((*d).Target, LOC6, -1);
		{
			NIM_BOOL LOC9;
			NI LOC10;
			NI LOC12;
			LOC9 = 0;
			LOC10 = 0;
			LOC10 = nsuCmpIgnoreStyle(fieldname, ((NimStringDesc*) &TMP2160));
			LOC9 = (LOC10 == 0);
			if (LOC9) goto LA11;
			LOC12 = 0;
			LOC12 = nsuCmpIgnoreStyle(fieldname, ((NimStringDesc*) &TMP2161));
			LOC9 = (LOC12 == 0);
			LA11: ;
			if (!LOC9) goto LA13;
			{
				if (!((*d).Meta[(((NU8) 3))- 0]->Sup.len == 0)) goto LA17;
				unsureAsgnRef((void**) &(*d).Meta[(((NU8) 3))- 0], copyString(fieldval));
				b = NIM_TRUE;
			}
			LA17: ;
		}
		goto LA7;
		LA13: ;
		{
			NI LOC20;
			LOC20 = 0;
			LOC20 = nsuCmpIgnoreStyle(fieldname, ((NimStringDesc*) &TMP2162));
			if (!(LOC20 == 0)) goto LA21;
			{
				if (!((*d).Meta[(((NU8) 4))- 0]->Sup.len == 0)) goto LA25;
				unsureAsgnRef((void**) &(*d).Meta[(((NU8) 4))- 0], copyString(fieldval));
				b = NIM_TRUE;
			}
			LA25: ;
		}
		goto LA7;
		LA21: ;
		LA7: ;
	}
	LA3: ;
	{
		if (!!(b)) goto LA29;
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2163), ((NimStringDesc*) &TMP2164), result);
	}
	LA29: ;
}

N_NIMCALL(NimStringDesc*, texcolumns_362889)(trstnode341011* n) {
	NimStringDesc* result;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP2110));
	{
		NI i_362905;
		NI HEX3Atmp_362907;
		NI res_362910;
		i_362905 = 0;
		HEX3Atmp_362907 = 0;
		HEX3Atmp_362907 = len_341084(n);
		res_362910 = 1;
		{
			while (1) {
				if (!(res_362910 <= HEX3Atmp_362907)) goto LA3;
				i_362905 = res_362910;
				result = resizeString(result, 2);
appendString(result, ((NimStringDesc*) &TMP2185));
				res_362910 += 1;
			} LA3: ;
		}
	}
	return result;
}

N_NIMCALL(NimStringDesc*, dispf_356521)(NU8 target, NimStringDesc* xml, NimStringDesc* tex, NimStringDesc** args, NI argsLen0) {
	NimStringDesc* result;
	result = 0;
	{
		if (!!((target == ((NU8) 1)))) goto LA3;
		result = nsuFormatOpenArray(xml, args, argsLen0);
	}
	goto LA1;
	LA3: ;
	{
		result = nsuFormatOpenArray(tex, args, argsLen0);
	}
	LA1: ;
	return result;
}

N_NIMCALL(void, renderimage_362598)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result) {
	NimStringDesc* options;
	NimStringDesc* s;
	TY169951 LOC31;
	options = copyString(((NimStringDesc*) &TMP2110));
	s = getfieldvalue_342072(n, ((NimStringDesc*) &TMP2200));
	{
		TY197301 LOC5;
		if (!!(((s) && (s)->Sup.len == 0))) goto LA3;
		memset((void*)LOC5, 0, sizeof(LOC5));
		LOC5[0] = nsuStrip(s, NIM_TRUE, NIM_TRUE);
		dispa_356544((*d).Target, &options, ((NimStringDesc*) &TMP2201), ((NimStringDesc*) &TMP2202), LOC5, 1);
	}
	LA3: ;
	s = getfieldvalue_342072(n, ((NimStringDesc*) &TMP2203));
	{
		TY197301 LOC10;
		if (!!(((s) && (s)->Sup.len == 0))) goto LA8;
		memset((void*)LOC10, 0, sizeof(LOC10));
		LOC10[0] = nsuStrip(s, NIM_TRUE, NIM_TRUE);
		dispa_356544((*d).Target, &options, ((NimStringDesc*) &TMP2204), ((NimStringDesc*) &TMP2205), LOC10, 1);
	}
	LA8: ;
	s = getfieldvalue_342072(n, ((NimStringDesc*) &TMP2206));
	{
		TY197301 LOC15;
		if (!!(((s) && (s)->Sup.len == 0))) goto LA13;
		memset((void*)LOC15, 0, sizeof(LOC15));
		LOC15[0] = nsuStrip(s, NIM_TRUE, NIM_TRUE);
		dispa_356544((*d).Target, &options, ((NimStringDesc*) &TMP2207), ((NimStringDesc*) &TMP2208), LOC15, 1);
	}
	LA13: ;
	s = getfieldvalue_342072(n, ((NimStringDesc*) &TMP2209));
	{
		TY197301 LOC20;
		if (!!(((s) && (s)->Sup.len == 0))) goto LA18;
		memset((void*)LOC20, 0, sizeof(LOC20));
		LOC20[0] = nsuStrip(s, NIM_TRUE, NIM_TRUE);
		dispa_356544((*d).Target, &options, ((NimStringDesc*) &TMP2210), ((NimStringDesc*) &TMP2110), LOC20, 1);
	}
	LA18: ;
	s = getfieldvalue_342072(n, ((NimStringDesc*) &TMP2211));
	{
		TY197301 LOC25;
		if (!!(((s) && (s)->Sup.len == 0))) goto LA23;
		memset((void*)LOC25, 0, sizeof(LOC25));
		LOC25[0] = nsuStrip(s, NIM_TRUE, NIM_TRUE);
		dispa_356544((*d).Target, &options, ((NimStringDesc*) &TMP2212), ((NimStringDesc*) &TMP2110), LOC25, 1);
	}
	LA23: ;
	{
		TY197301 LOC30;
		if (!(0 < options->Sup.len)) goto LA28;
		memset((void*)LOC30, 0, sizeof(LOC30));
		LOC30[0] = copyString(options);
		options = dispf_356521((*d).Target, ((NimStringDesc*) &TMP2164), ((NimStringDesc*) &TMP2213), LOC30, 1);
	}
	LA28: ;
	memset((void*)LOC31, 0, sizeof(LOC31));
	LOC31[0] = getargument_342079(n);
	LOC31[1] = copyString(options);
	dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP2214), ((NimStringDesc*) &TMP2215), LOC31, 2);
	{
		NI LOC34;
		LOC34 = 0;
		LOC34 = len_341084(n);
		if (!(3 <= LOC34)) goto LA35;
		renderrsttoout_356579(d, (*n).Sons->data[2], result);
	}
	LA35: ;
}

N_NIMCALL(void, rendercodeblock_362662)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result) {
	trstnode341011* m;
	NimStringDesc* langstr;
	NimStringDesc* LOC5;
	NU8 lang;
	TY258532 LOC11;
	TY258532 LOC28;
	{
		if (!((*n).Sons->data[2] == NIM_NIL)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	m = (*(*n).Sons->data[2]).Sons->data[0];
	LOC5 = 0;
	LOC5 = getargument_342079(n);
	langstr = nsuStrip(LOC5, NIM_TRUE, NIM_TRUE);
	lang = 0;
	{
		if (!((langstr) && (langstr)->Sup.len == 0)) goto LA8;
		lang = ((NU8) 1);
	}
	goto LA6;
	LA8: ;
	{
		lang = getsourcelanguage_350093(langstr);
	}
	LA6: ;
	memset((void*)LOC11, 0, sizeof(LOC11));
	dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP2223), ((NimStringDesc*) &TMP2224), LOC11, 0);
	{
		if (!(lang == ((NU8) 0))) goto LA14;
		(*d).Msghandler((*d).Filename, 1, 0, ((NU8) 8), langstr);
		{
			NIM_CHAR letter_362819;
			NimStringDesc* HEX3Atmp_362837;
			NI i_362840;
			NI l_362842;
			letter_362819 = 0;
			HEX3Atmp_362837 = 0;
			HEX3Atmp_362837 = (*m).Text;
			i_362840 = 0;
			l_362842 = HEX3Atmp_362837->Sup.len;
			{
				while (1) {
					if (!(i_362840 < l_362842)) goto LA18;
					letter_362819 = HEX3Atmp_362837->data[i_362840];
					escchar_356337((*d).Target, result, letter_362819);
					i_362840 += 1;
				} LA18: ;
			}
		}
	}
	goto LA12;
	LA14: ;
	{
		tgeneraltokenizer350023 g;
		memset((void*)&g, 0, sizeof(g));
		g.Sup.m_type = (&NTI350023);
		initgeneraltokenizer_350229(&g, (*m).Text);
		{
			while (1) {
				getnexttoken_353166(&g, lang);
				switch (g.Kind) {
				case ((NU8) 0):
				{
					goto LA20;
				}
				break;
				case ((NU8) 1):
				case ((NU8) 2):
				{
					NimStringDesc* LOC24;
					LOC24 = 0;
					LOC24 = copyStrLast((*m).Text, g.Start, (NI64)((NI64)(g.Length + g.Start) - 1));
					(*result) = resizeString((*result), LOC24->Sup.len + 0);
appendString((*result), LOC24);
				}
				break;
				default:
				{
					TY169951 LOC26;
					NimStringDesc* LOC27;
					memset((void*)LOC26, 0, sizeof(LOC26));
					LOC27 = 0;
					LOC27 = copyStrLast((*m).Text, g.Start, (NI64)((NI64)(g.Length + g.Start) - 1));
					LOC26[0] = esc_356407((*d).Target, LOC27, -1);
					LOC26[1] = copyString(tokenclasstostr_350081[(g.Kind)- 0]);
					dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP2383), ((NimStringDesc*) &TMP2384), LOC26, 2);
				}
				break;
				}
			}
		} LA20: ;
		deinitgeneraltokenizer_350240(&g);
	}
	LA12: ;
	memset((void*)LOC28, 0, sizeof(LOC28));
	dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP2418), ((NimStringDesc*) &TMP2419), LOC28, 0);
	BeforeRet: ;
}

N_NIMCALL(void, rendercontainer_362866)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result) {
	NimStringDesc* tmp;
	NimStringDesc* arg;
	NimStringDesc* LOC1;
	tmp = copyString(((NimStringDesc*) &TMP2110));
	renderrsttoout_356579(d, (*n).Sons->data[2], &tmp);
	LOC1 = 0;
	LOC1 = getargument_342079(n);
	arg = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE);
	{
		TY197301 LOC6;
		if (!((arg) && (arg)->Sup.len == 0)) goto LA4;
		memset((void*)LOC6, 0, sizeof(LOC6));
		LOC6[0] = copyString(tmp);
		dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP2420), ((NimStringDesc*) &TMP2164), LOC6, 1);
	}
	goto LA2;
	LA4: ;
	{
		TY169951 LOC8;
		memset((void*)LOC8, 0, sizeof(LOC8));
		LOC8[0] = copyString(arg);
		LOC8[1] = copyString(tmp);
		dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP2421), ((NimStringDesc*) &TMP2422), LOC8, 2);
	}
	LA2: ;
}

N_NIMCALL(void, renderindexterm_356871)(trstgenerator356016* d, trstnode341011* n_356874, NimStringDesc** result) {
	NimStringDesc* refname;
	NimStringDesc* id;
	NimStringDesc* LOC8;
	NI LOC9;
	NimStringDesc* LOC10;
	NimStringDesc* term;
	TY169951 LOC11;
	refname = rstnodetorefname_342060(n_356874);
	{
		NIM_BOOL LOC3;
		NI LOC6;
		LOC3 = 0;
		LOC3 = haskey_356880((*d).Seenindexterms, refname);
		if (!LOC3) goto LA4;
		LOC6 = 0;
		LOC6 = HEX5BHEX5D_356943((*d).Seenindexterms, refname);
		HEX5BHEX5DHEX3D_356974(&(*d).Seenindexterms, refname, (NI64)(LOC6 + 1));
	}
	goto LA1;
	LA4: ;
	{
		HEX5BHEX5DHEX3D_356974(&(*d).Seenindexterms, refname, 1);
	}
	LA1: ;
	LOC8 = 0;
	LOC9 = 0;
	LOC9 = HEX5BHEX5D_356943((*d).Seenindexterms, refname);
	LOC10 = 0;
	LOC10 = nimIntToStr(LOC9);
	LOC8 = rawNewString(refname->Sup.len + LOC10->Sup.len + 1);
appendString(LOC8, refname);
appendChar(LOC8, 95);
appendString(LOC8, LOC10);
	id = LOC8;
	term = copyString(((NimStringDesc*) &TMP2110));
	renderaux_356589(d, n_356874, &term);
	setindexterm_356710(d, id, term, (*d).Currentsection, ((NimStringDesc*) &TMP2110));
	memset((void*)LOC11, 0, sizeof(LOC11));
	LOC11[0] = copyString(id);
	LOC11[1] = copyString(term);
	dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP2436), ((NimStringDesc*) &TMP2437), LOC11, 2);
}

N_NIMCALL(void, rendersmiley_362646)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result) {
	TY197301 LOC1;
	memset((void*)LOC1, 0, sizeof(LOC1));
	LOC1[0] = copyString((*n).Text);
	dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP2440), ((NimStringDesc*) &TMP2441), LOC1, 1);
}

N_NIMCALL(void, renderrsttoout_356579)(trstgenerator356016* d, trstnode341011* n, NimStringDesc** result) {
	{
		if (!(n == NIM_NIL)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	switch ((*n).Kind) {
	case ((NU8) 0):
	{
		renderaux_356589(d, n, result);
	}
	break;
	case ((NU8) 1):
	{
		renderheadline_362281(d, n, result);
	}
	break;
	case ((NU8) 2):
	{
		renderoverline_362425(d, n, result);
	}
	break;
	case ((NU8) 3):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2124), ((NimStringDesc*) &TMP2125), result);
	}
	break;
	case ((NU8) 4):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2126), ((NimStringDesc*) &TMP2127), result);
	}
	break;
	case ((NU8) 5):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2128), ((NimStringDesc*) &TMP2129), result);
	}
	break;
	case ((NU8) 6):
	case ((NU8) 8):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2130), ((NimStringDesc*) &TMP2131), result);
	}
	break;
	case ((NU8) 7):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2132), ((NimStringDesc*) &TMP2133), result);
	}
	break;
	case ((NU8) 9):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2134), ((NimStringDesc*) &TMP2135), result);
	}
	break;
	case ((NU8) 10):
	{
		renderaux_356589(d, n, result);
	}
	break;
	case ((NU8) 11):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2136), ((NimStringDesc*) &TMP2137), result);
	}
	break;
	case ((NU8) 12):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2138), ((NimStringDesc*) &TMP2139), result);
	}
	break;
	case ((NU8) 13):
	{
		NimStringDesc* tmp;
		tmp = copyString(((NimStringDesc*) &TMP2110));
		{
			NI i_362987;
			NI HEX3Atmp_363057;
			NI LOC19;
			NI res_363060;
			i_362987 = 0;
			HEX3Atmp_363057 = 0;
			LOC19 = 0;
			LOC19 = len_341084(n);
			HEX3Atmp_363057 = (NI64)(LOC19 - 1);
			res_363060 = 0;
			{
				while (1) {
					if (!(res_363060 <= HEX3Atmp_363057)) goto LA21;
					i_362987 = res_363060;
					renderrsttoout_356579(d, (*n).Sons->data[i_362987], &tmp);
					res_363060 += 1;
				} LA21: ;
			}
		}
		{
			TY197301 LOC26;
			if (!!((tmp->Sup.len == 0))) goto LA24;
			memset((void*)LOC26, 0, sizeof(LOC26));
			LOC26[0] = copyString(tmp);
			dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP2140), ((NimStringDesc*) &TMP2135), LOC26, 1);
		}
		LA24: ;
	}
	break;
	case ((NU8) 14):
	{
		renderfield_362927(d, n, result);
	}
	break;
	case ((NU8) 15):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2165), ((NimStringDesc*) &TMP2166), result);
	}
	break;
	case ((NU8) 16):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2167), ((NimStringDesc*) &TMP2168), result);
	}
	break;
	case ((NU8) 51):
	{
		renderrsttoout_356579(d, (*n).Sons->data[2], result);
	}
	break;
	case ((NU8) 17):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2169), ((NimStringDesc*) &TMP2170), result);
	}
	break;
	case ((NU8) 18):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2163), ((NimStringDesc*) &TMP2164), result);
	}
	break;
	case ((NU8) 19):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2171), ((NimStringDesc*) &TMP2172), result);
	}
	break;
	case ((NU8) 23):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2173), ((NimStringDesc*) &TMP2168), result);
	}
	break;
	case ((NU8) 20):
	case ((NU8) 21):
	case ((NU8) 22):
	{
		{
			if (!NIM_TRUE) goto LA38;
			raiseassert_86147(((NimStringDesc*) &TMP2175));
		}
		LA38: ;
	}
	break;
	case ((NU8) 24):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2176), ((NimStringDesc*) &TMP2177), result);
	}
	break;
	case ((NU8) 25):
	{
		{
			if (!NIM_TRUE) goto LA44;
			raiseassert_86147(((NimStringDesc*) &TMP2175));
		}
		LA44: ;
	}
	break;
	case ((NU8) 26):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2178), ((NimStringDesc*) &TMP2127), result);
	}
	break;
	case ((NU8) 27):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2179), ((NimStringDesc*) &TMP2180), result);
	}
	break;
	case ((NU8) 28):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2181), ((NimStringDesc*) &TMP2182), result);
	}
	break;
	case ((NU8) 29):
	case ((NU8) 30):
	{
		NimStringDesc* LOC50;
		NimStringDesc* LOC51;
		LOC50 = 0;
		LOC51 = 0;
		LOC51 = texcolumns_362889(n);
		LOC50 = rawNewString(LOC51->Sup.len + 65);
appendString(LOC50, ((NimStringDesc*) &TMP2184));
appendString(LOC50, LOC51);
appendString(LOC50, ((NimStringDesc*) &TMP2186));
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2183), LOC50, result);
	}
	break;
	case ((NU8) 31):
	{
		{
			NI LOC55;
			LOC55 = 0;
			LOC55 = len_341084(n);
			if (!(1 <= LOC55)) goto LA56;
			{
				if (!((*d).Target == ((NU8) 1))) goto LA60;
				renderrsttoout_356579(d, (*n).Sons->data[0], result);
				{
					NI i_363014;
					NI HEX3Atmp_363063;
					NI LOC63;
					NI res_363066;
					i_363014 = 0;
					HEX3Atmp_363063 = 0;
					LOC63 = 0;
					LOC63 = len_341084(n);
					HEX3Atmp_363063 = (NI64)(LOC63 - 1);
					res_363066 = 1;
					{
						while (1) {
							if (!(res_363066 <= HEX3Atmp_363063)) goto LA65;
							i_363014 = res_363066;
							(*result) = resizeString((*result), 3);
appendString((*result), ((NimStringDesc*) &TMP2187));
							renderrsttoout_356579(d, (*n).Sons->data[i_363014], result);
							res_363066 += 1;
						} LA65: ;
					}
				}
				(*result) = resizeString((*result), 12);
appendString((*result), ((NimStringDesc*) &TMP2188));
			}
			goto LA58;
			LA60: ;
			{
				(*result) = resizeString((*result), 4);
appendString((*result), ((NimStringDesc*) &TMP2189));
				renderaux_356589(d, n, result);
				(*result) = resizeString((*result), 7);
appendString((*result), ((NimStringDesc*) &TMP2190));
			}
			LA58: ;
		}
		LA56: ;
	}
	break;
	case ((NU8) 33):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2167), ((NimStringDesc*) &TMP2164), result);
	}
	break;
	case ((NU8) 32):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2191), ((NimStringDesc*) &TMP2192), result);
	}
	break;
	case ((NU8) 34):
	{
		{
			if (!NIM_TRUE) goto LA72;
			raiseassert_86147(((NimStringDesc*) &TMP2175));
		}
		LA72: ;
	}
	break;
	case ((NU8) 35):
	{
		{
			if (!NIM_TRUE) goto LA77;
			raiseassert_86147(((NimStringDesc*) &TMP2175));
		}
		LA77: ;
	}
	break;
	case ((NU8) 36):
	{
		{
			if (!NIM_TRUE) goto LA82;
			raiseassert_86147(((NimStringDesc*) &TMP2175));
		}
		LA82: ;
	}
	break;
	case ((NU8) 39):
	{
		NimStringDesc* tmp;
		TY169951 LOC85;
		tmp = copyString(((NimStringDesc*) &TMP2110));
		renderaux_356589(d, n, &tmp);
		memset((void*)LOC85, 0, sizeof(LOC85));
		LOC85[0] = copyString(tmp);
		LOC85[1] = rstnodetorefname_342060(n);
		dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP2193), ((NimStringDesc*) &TMP2194), LOC85, 2);
	}
	break;
	case ((NU8) 37):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2195), ((NimStringDesc*) &TMP2196), result);
	}
	break;
	case ((NU8) 38):
	{
		NimStringDesc* tmp0;
		NimStringDesc* tmp1;
		TY169951 LOC88;
		tmp0 = copyString(((NimStringDesc*) &TMP2110));
		tmp1 = copyString(((NimStringDesc*) &TMP2110));
		renderrsttoout_356579(d, (*n).Sons->data[0], &tmp0);
		renderrsttoout_356579(d, (*n).Sons->data[1], &tmp1);
		memset((void*)LOC88, 0, sizeof(LOC88));
		LOC88[0] = copyString(tmp0);
		LOC88[1] = copyString(tmp1);
		dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP2197), ((NimStringDesc*) &TMP2198), LOC88, 2);
	}
	break;
	case ((NU8) 41):
	case ((NU8) 42):
	{
		renderaux_356589(d, n, result);
	}
	break;
	case ((NU8) 48):
	{
		{
			trstnode341011* LOC95;
			NimStringDesc* LOC96;
			if (!!(((*d).Target == ((NU8) 1)))) goto LA93;
			LOC95 = 0;
			LOC95 = lastson_341162(n);
			LOC96 = 0;
			LOC96 = addnodes_342066(LOC95);
			(*result) = resizeString((*result), LOC96->Sup.len + 0);
appendString((*result), LOC96);
		}
		LA93: ;
	}
	break;
	case ((NU8) 49):
	{
		{
			trstnode341011* LOC102;
			NimStringDesc* LOC103;
			if (!((*d).Target == ((NU8) 1))) goto LA100;
			LOC102 = 0;
			LOC102 = lastson_341162(n);
			LOC103 = 0;
			LOC103 = addnodes_342066(LOC102);
			(*result) = resizeString((*result), LOC103->Sup.len + 0);
appendString((*result), LOC103);
		}
		LA100: ;
	}
	break;
	case ((NU8) 45):
	case ((NU8) 46):
	{
		renderimage_362598(d, n, result);
	}
	break;
	case ((NU8) 47):
	{
		rendercodeblock_362662(d, n, result);
	}
	break;
	case ((NU8) 50):
	{
		rendercontainer_362866(d, n, result);
	}
	break;
	case ((NU8) 62):
	case ((NU8) 52):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2423), ((NimStringDesc*) &TMP2423), result);
	}
	break;
	case ((NU8) 40):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2110), ((NimStringDesc*) &TMP2110), result);
	}
	break;
	case ((NU8) 53):
	{
		NimStringDesc* tmp0;
		NimStringDesc* tmp1;
		TY169951 LOC110;
		tmp0 = copyString(((NimStringDesc*) &TMP2110));
		tmp1 = copyString(((NimStringDesc*) &TMP2110));
		renderrsttoout_356579(d, (*n).Sons->data[0], &tmp0);
		renderrsttoout_356579(d, (*n).Sons->data[1], &tmp1);
		memset((void*)LOC110, 0, sizeof(LOC110));
		LOC110[0] = copyString(tmp0);
		LOC110[1] = copyString(tmp1);
		dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP2383), ((NimStringDesc*) &TMP2384), LOC110, 2);
	}
	break;
	case ((NU8) 54):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2424), ((NimStringDesc*) &TMP2425), result);
	}
	break;
	case ((NU8) 55):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2426), ((NimStringDesc*) &TMP2427), result);
	}
	break;
	case ((NU8) 57):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2428), ((NimStringDesc*) &TMP2429), result);
	}
	break;
	case ((NU8) 58):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2430), ((NimStringDesc*) &TMP2192), result);
	}
	break;
	case ((NU8) 59):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2431), ((NimStringDesc*) &TMP2432), result);
	}
	break;
	case ((NU8) 60):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2433), ((NimStringDesc*) &TMP2429), result);
	}
	break;
	case ((NU8) 56):
	{
		renderindexterm_356871(d, n, result);
	}
	break;
	case ((NU8) 61):
	{
		renderaux_356629(d, n, ((NimStringDesc*) &TMP2438), ((NimStringDesc*) &TMP2439), result);
	}
	break;
	case ((NU8) 63):
	{
		rendersmiley_362646(d, n, result);
	}
	break;
	case ((NU8) 64):
	{
		NimStringDesc* LOC121;
		LOC121 = 0;
		LOC121 = esc_356407((*d).Target, (*n).Text, -1);
		(*result) = resizeString((*result), LOC121->Sup.len + 0);
appendString((*result), LOC121);
	}
	break;
	case ((NU8) 44):
	{
		(*d).Hastoc = NIM_TRUE;
	}
	break;
	case ((NU8) 43):
	{
		unsureAsgnRef((void**) &(*d).Meta[(((NU8) 1))- 0], copyString(((NimStringDesc*) &TMP2110)));
		renderrsttoout_356579(d, (*n).Sons->data[0], &(*d).Meta[(((NU8) 1))- 0]);
	}
	break;
	}
	BeforeRet: ;
}
N_NIMCALL(void, TMP4600)(void* p, NI op) {
	TY356032* a;
	NI LOC1;
	a = (TY356032*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].N, op);
	nimGCvisit((void*)a->data[LOC1].Refname, op);
	nimGCvisit((void*)a->data[LOC1].Header, op);
	}
}

N_NIMCALL(void, initrstgenerator_356072)(trstgenerator356016* g, NU8 target, stringtableobj132012* config, NimStringDesc* filename, NU8 options, tfindfilehandler342023 findfile, tmsghandler342021 msghandler) {
	TY116404 fileparts;
	NimStringDesc* s;
	unsureAsgnRef((void**) &(*g).Config, config);
	(*g).Target = target;
	unsureAsgnRef((void**) &(*g).Tocpart, (TY356032*) newSeq((&NTI356032), 0));
	unsureAsgnRef((void**) &(*g).Filename, copyString(filename));
	(*g).Splitafter = 20;
	unsureAsgnRef((void**) &(*g).Theindex, copyString(((NimStringDesc*) &TMP2110)));
	(*g).Options = options;
	(*g).Findfile = findfile;
	unsureAsgnRef((void**) &(*g).Currentsection, copyString(((NimStringDesc*) &TMP2110)));
	memset((void*)&fileparts, 0, sizeof(fileparts));
	chckNil((void*)&fileparts);
	memset((void*)&fileparts, 0, sizeof(fileparts));
	nossplitFile(filename, &fileparts);
	{
		NimStringDesc* LOC5;
		if (!eqStrings(fileparts.Field2, ((NimStringDesc*) &TMP4604))) goto LA3;
		LOC5 = 0;
		LOC5 = rawNewString(fileparts.Field1->Sup.len + 7);
appendString(LOC5, ((NimStringDesc*) &TMP4605));
appendString(LOC5, fileparts.Field1);
		unsureAsgnRef((void**) &(*g).Currentsection, LOC5);
	}
	LA3: ;
	inittable_356104(64, &(*g).Seenindexterms);
	(*g).Msghandler = msghandler;
	s = nstGet(config, ((NimStringDesc*) &TMP4606));
	{
		if (!!(((s) && (s)->Sup.len == 0))) goto LA8;
		(*g).Splitafter = nsuParseInt(s);
	}
	LA8: ;
	{
		NU8 i_356266;
		NU8 res_356270;
		i_356266 = 0;
		res_356270 = ((NU8) 0);
		{
			while (1) {
				if (!(res_356270 <= ((NU8) 4))) goto LA12;
				i_356266 = res_356270;
				unsureAsgnRef((void**) &(*g).Meta[(i_356266)- 0], copyString(((NimStringDesc*) &TMP2110)));
				res_356270 += 1;
			} LA12: ;
		}
	}
}

N_NIMCALL(void, rendertocentry_362538)(trstgenerator356016* d, ttocentry356012* e, NimStringDesc** result) {
	TY169951 LOC1;
	memset((void*)LOC1, 0, sizeof(LOC1));
	LOC1[0] = copyString((*e).Refname);
	LOC1[1] = copyString((*e).Header);
	dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP4679), ((NimStringDesc*) &TMP4680), LOC1, 2);
}

N_NIMCALL(void, rendertocentries_362554)(trstgenerator356016* d, NI* j, NI lvl, NimStringDesc** result) {
	NimStringDesc* tmp;
	tmp = copyString(((NimStringDesc*) &TMP2110));
	{
		while (1) {
			NI a;
			if (!((*j) <= ((*d).Tocpart->Sup.len-1))) goto LA2;
			a = ((*(*d).Tocpart->data[(*j)].N).Level > 0? ((*(*d).Tocpart->data[(*j)].N).Level) : -((*(*d).Tocpart->data[(*j)].N).Level));
			{
				if (!(a == lvl)) goto LA5;
				rendertocentry_362538(d, &(*d).Tocpart->data[(*j)], &tmp);
				(*j) += 1;
			}
			goto LA3;
			LA5: ;
			{
				if (!(lvl < a)) goto LA8;
				rendertocentries_362554(d, j, a, &tmp);
			}
			goto LA3;
			LA8: ;
			{
				goto LA1;
			}
			LA3: ;
		} LA2: ;
	} LA1: ;
	{
		TY197301 LOC15;
		if (!(1 < lvl)) goto LA13;
		memset((void*)LOC15, 0, sizeof(LOC15));
		LOC15[0] = copyString(tmp);
		dispa_356544((*d).Target, result, ((NimStringDesc*) &TMP4681), ((NimStringDesc*) &TMP4682), LOC15, 1);
	}
	goto LA11;
	LA13: ;
	{
		(*result) = resizeString((*result), tmp->Sup.len + 0);
appendString((*result), tmp);
	}
	LA11: ;
}

N_NIMCALL(void, writeindexfile_356287)(trstgenerator356016* g, NimStringDesc* outfile) {
	{
		if (!(0 < (*g).Theindex->Sup.len)) goto LA3;
		writefile_12645(outfile, (*g).Theindex);
	}
	LA3: ;
}
N_NIMCALL(void, TMP4759)(void* p, NI op) {
	TY359804* a;
	NI LOC1;
	a = (TY359804*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Keyword, op);
	nimGCvisit((void*)a->data[LOC1].Link, op);
	nimGCvisit((void*)a->data[LOC1].Linktitle, op);
	nimGCvisit((void*)a->data[LOC1].Linkdesc, op);
	}
}

static N_INLINE(NIM_BOOL, skipfinddata_113236)(twin32finddata104019* f) {
	NIM_BOOL result;
	NIM_BOOL LOC1;
	NIM_BOOL LOC3;
	NIM_BOOL LOC5;
	result = 0;
	LOC1 = 0;
	LOC1 = (((NI) ((*f).Cfilename[(0)- 0])) == 46);
	if (!(LOC1)) goto LA2;
	LOC3 = 0;
	LOC3 = (((NI) ((*f).Cfilename[(1)- 0])) == 0);
	if (LOC3) goto LA4;
	LOC5 = 0;
	LOC5 = (((NI) ((*f).Cfilename[(1)- 0])) == 46);
	if (!(LOC5)) goto LA6;
	LOC5 = (((NI) ((*f).Cfilename[(2)- 0])) == 0);
	LA6: ;
	LOC3 = LOC5;
	LA4: ;
	LOC1 = LOC3;
	LA2: ;
	result = LOC1;
	return result;
}

N_NIMCALL(NIM_BOOL, isdocumentationtitle_357777)(NimStringDesc* hyperlink) {
	NIM_BOOL result;
	NI LOC1;
	result = 0;
	LOC1 = 0;
	LOC1 = nsuFindChar(hyperlink, 35, 0);
	result = (LOC1 < 0);
	return result;
}

N_NIMCALL(NimStringDesc*, unquoteindexcolumn_356700)(NimStringDesc* text) {
	NimStringDesc* result;
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	result = 0;
	LOC1 = 0;
	LOC1 = nsuReplaceStr(text, ((NimStringDesc*) &TMP2121), ((NimStringDesc*) &TMP2120));
	LOC2 = 0;
	LOC2 = nsuReplaceStr(LOC1, ((NimStringDesc*) &TMP2119), ((NimStringDesc*) &TMP2118));
	result = nsuReplaceStr(LOC2, ((NimStringDesc*) &TMP2117), ((NimStringDesc*) &TMP2116));
	return result;
}

static N_INLINE(NI, HEX21HEX26_129025)(NI h, NI val) {
	NI result;
	result = 0;
	result = (NI)((NU64)(h) + (NU64)(val));
	result = (NI)((NU64)(result) + (NU64)((NI)((NU64)(result) << (NU64)(10))));
	result = (NI)(result ^ (NI)((NU64)(result) >> (NU64)(6)));
	return result;
}

static N_INLINE(NimStringDesc*, or_356568)(NimStringDesc* x, NimStringDesc* y) {
	NimStringDesc* result;
	result = 0;
	{
		if (!x == 0) goto LA3;
		result = copyString(y);
	}
	goto LA1;
	LA3: ;
	{
		result = copyString(x);
	}
	LA1: ;
	return result;
}

static N_INLINE(NI, HEX21HEX24_129054)(NI h) {
	NI result;
	result = 0;
	result = (NI)((NU64)(h) + (NU64)((NI)((NU64)(h) << (NU64)(3))));
	result = (NI)(result ^ (NI)((NU64)(result) >> (NU64)(11)));
	result = (NI)((NU64)(result) + (NU64)((NI)((NU64)(result) << (NU64)(15))));
	return result;
}

N_NIMCALL(NI, hash_357309)(tindexentry357264* x) {
	NI result;
	NI LOC1;
	NI LOC2;
	NimStringDesc* LOC3;
	NI LOC4;
	NimStringDesc* LOC5;
	NI LOC6;
	result = 0;
	LOC1 = 0;
	LOC1 = hash_129839((*x).Keyword);
	LOC2 = 0;
	LOC2 = hash_129839((*x).Link);
	result = HEX21HEX26_129025(LOC1, LOC2);
	LOC3 = 0;
	LOC3 = or_356568((*x).Linktitle, ((NimStringDesc*) &TMP2110));
	LOC4 = 0;
	LOC4 = hash_129839(LOC3);
	result = HEX21HEX26_129025(result, LOC4);
	LOC5 = 0;
	LOC5 = or_356568((*x).Linkdesc, ((NimStringDesc*) &TMP2110));
	LOC6 = 0;
	LOC6 = hash_129839(LOC5);
	result = HEX21HEX26_129025(result, LOC6);
	result = HEX21HEX24_129054(result);
	return result;
}

N_NIMCALL(void, readindexdir_359798)(NimStringDesc* dir, TY359801* Result) {
	NI l;
	TY360570 LOC85;
	unsureAsgnRef((void**) &(*Result).Field0, (TY120208*) newSeq((&NTI120208), 0));
	inittable_359830(32, &(*Result).Field2);
	unsureAsgnRef((void**) &(*Result).Field1, (TY359804*) newSeq((&NTI359804), 15000));
	(*Result).Field1 = (TY359804*) setLengthSeq(&((*Result).Field1)->Sup, sizeof(tindexentry357264), 0);
	l = 0;
	{
		NU8 kind_360055;
		NimStringDesc* path_360056;
		twin32finddata104019 f_362101;
		NI h_362103;
		NimStringDesc* LOC2;
		kind_360055 = 0;
		path_360056 = 0;
		memset((void*)&f_362101, 0, sizeof(f_362101));
		LOC2 = 0;
		LOC2 = HEX2F_116099(dir, ((NimStringDesc*) &TMP4761));
		h_362103 = findfirstfile_113216(LOC2, &f_362101);
		{
			if (!!((h_362103 == -1))) goto LA5;
			{
				while (1) {
					NU8 k_362105;
					k_362105 = ((NU8) 0);
					{
						NIM_BOOL LOC11;
						NimStringDesc* LOC22;
						NimStringDesc* LOC23;
						LOC11 = 0;
						LOC11 = skipfinddata_113236(&f_362101);
						if (!!(LOC11)) goto LA12;
						{
							if (!!(((NI32)(f_362101.Dwfileattributes & ((NI32) 16)) == ((NI32) 0)))) goto LA16;
							k_362105 = ((NU8) 2);
						}
						LA16: ;
						{
							if (!!(((NI32)(f_362101.Dwfileattributes & ((NI32) 1024)) == ((NI32) 0)))) goto LA20;
							k_362105 = (k_362105 + 1);
						}
						LA20: ;
						kind_360055 = k_362105;
						LOC22 = 0;
						LOC22 = HEX24_78995(((NI16*) (&f_362101.Cfilename[(0)- 0])));
						LOC23 = 0;
						LOC23 = nosextractFilename(LOC22);
						path_360056 = HEX2F_116099(dir, LOC23);
						{
							NIM_BOOL LOC26;
							TY359804* fileentries;
							tindexentry357264 title;
							NI f;
							LOC26 = 0;
							LOC26 = (kind_360055 == ((NU8) 0));
							if (!(LOC26)) goto LA27;
							LOC26 = nsuEndsWith(path_360056, ((NimStringDesc*) &TMP4762));
							LA27: ;
							if (!LOC26) goto LA28;
							fileentries = 0;
							memset((void*)&title, 0, sizeof(title));
							f = 0;
							fileentries = (TY359804*) newSeq((&NTI359804), 500);
							fileentries = (TY359804*) setLengthSeq(&(fileentries)->Sup, sizeof(tindexentry357264), 0);
							{
								NimStringDesc* line_360103;
								FILE* f_362088;
								NimStringDesc* res_362090;
								line_360103 = 0;
								f_362088 = open_12417(path_360056, ((NU8) 0), 8000);
								res_362090 = rawNewString(80);
								{
									while (1) {
										NIM_BOOL LOC33;
										LOC33 = 0;
										LOC33 = readline_12689(f_362088, &res_362090);
										if (!LOC33) goto LA32;
										line_360103 = res_362090;
										{
											NI s;
											s = nsuFindChar(line_360103, 9, 0);
											{
												if (!(s < 0)) goto LA37;
												goto LA34;
											}
											LA37: ;
											fileentries = (TY359804*) setLengthSeq(&(fileentries)->Sup, sizeof(tindexentry357264), (NI64)(f + 1));
											asgnRefNoCycle((void**) &fileentries->data[f].Keyword, copyStrLast(line_360103, 0, (NI64)(s - 1)));
											asgnRefNoCycle((void**) &fileentries->data[f].Link, copyStr(line_360103, (NI64)(s + 1)));
											{
												NIM_BOOL LOC41;
												LOC41 = 0;
												LOC41 = title.Keyword == 0;
												if (!(LOC41)) goto LA42;
												LOC41 = isdocumentationtitle_357777(fileentries->data[f].Link);
												LA42: ;
												if (!LOC41) goto LA43;
												title.Keyword = copyString(fileentries->data[f].Keyword);
												title.Link = copyString(fileentries->data[f].Link);
											}
											LA43: ;
											{
												NI LOC47;
												TY120208* extracols;
												NimStringDesc* LOC50;
												LOC47 = 0;
												LOC47 = nsuFindChar(fileentries->data[f].Link, 9, 0);
												if (!(0 < LOC47)) goto LA48;
												extracols = nsuSplitChar(fileentries->data[f].Link, 9);
												LOC50 = 0;
												LOC50 = fileentries->data[f].Link; fileentries->data[f].Link = copyStringRC1(extracols->data[0]);
												if (LOC50) nimGCunrefNoCycle(LOC50);
												asgnRefNoCycle((void**) &fileentries->data[f].Linktitle, unquoteindexcolumn_356700(extracols->data[1]));
												asgnRefNoCycle((void**) &fileentries->data[f].Linkdesc, unquoteindexcolumn_356700(extracols->data[2]));
											}
											goto LA45;
											LA48: ;
											{
												NimStringDesc* LOC52;
												NimStringDesc* LOC53;
												LOC52 = 0;
												LOC52 = fileentries->data[f].Linktitle; fileentries->data[f].Linktitle = copyStringRC1(NIM_NIL);
												if (LOC52) nimGCunrefNoCycle(LOC52);
												LOC53 = 0;
												LOC53 = fileentries->data[f].Linkdesc; fileentries->data[f].Linkdesc = copyStringRC1(NIM_NIL);
												if (LOC53) nimGCunrefNoCycle(LOC53);
											}
											LA45: ;
											f += 1;
										} LA34: ;
									} LA32: ;
								}
								fclose(f_362088);
							}
							{
								TY116404 LOC74;
								NimStringDesc* LOC75;
								if (!title.Keyword == 0) goto LA56;
								{
									NI i_360234;
									NI HEX3Atmp_362094;
									NI res_362097;
									i_360234 = 0;
									HEX3Atmp_362094 = 0;
									HEX3Atmp_362094 = (f - 1);
									res_362097 = 0;
									{
										while (1) {
											if (!(res_362097 <= HEX3Atmp_362094)) goto LA60;
											i_360234 = res_362097;
											{
												NimStringDesc* toc;
												NimStringDesc* LOC70;
												NimStringDesc* LOC71;
												NimStringDesc* LOC72;
												NimStringDesc* LOC73;
												toc = fileentries->data[i_360234].Linktitle;
												{
													NIM_BOOL LOC64;
													NIM_BOOL LOC65;
													LOC64 = 0;
													LOC65 = 0;
													LOC65 = !(toc == 0);
													if (!(LOC65)) goto LA66;
													LOC65 = (0 < toc->Sup.len);
													LA66: ;
													LOC64 = LOC65;
													if (!(LOC64)) goto LA67;
													LOC64 = ((NU8)(toc->data[0]) == (NU8)(32));
													LA67: ;
													if (!LOC64) goto LA68;
													goto LA61;
												}
												LA68: ;
												(*Result).Field1 = (TY359804*) setLengthSeq(&((*Result).Field1)->Sup, sizeof(tindexentry357264), (NI64)(l + 1));
												LOC70 = 0;
												LOC70 = (*Result).Field1->data[l].Keyword; (*Result).Field1->data[l].Keyword = copyStringRC1(fileentries->data[i_360234].Keyword);
												if (LOC70) nimGCunrefNoCycle(LOC70);
												LOC71 = 0;
												LOC71 = (*Result).Field1->data[l].Link; (*Result).Field1->data[l].Link = copyStringRC1(fileentries->data[i_360234].Link);
												if (LOC71) nimGCunrefNoCycle(LOC71);
												LOC72 = 0;
												LOC72 = (*Result).Field1->data[l].Linktitle; (*Result).Field1->data[l].Linktitle = copyStringRC1(fileentries->data[i_360234].Linktitle);
												if (LOC72) nimGCunrefNoCycle(LOC72);
												LOC73 = 0;
												LOC73 = (*Result).Field1->data[l].Linkdesc; (*Result).Field1->data[l].Linkdesc = copyStringRC1(fileentries->data[i_360234].Linkdesc);
												if (LOC73) nimGCunrefNoCycle(LOC73);
												l += 1;
											} LA61: ;
											res_362097 += 1;
										} LA60: ;
									}
								}
								memset((void*)&LOC74, 0, sizeof(LOC74));
								nossplitFile(path_360056, &LOC74);
								(*Result).Field0 = (TY120208*) incrSeq(&((*Result).Field0)->Sup, sizeof(NimStringDesc*));
								LOC75 = 0;
								LOC75 = (*Result).Field0->data[(*Result).Field0->Sup.len-1]; (*Result).Field0->data[(*Result).Field0->Sup.len-1] = copyStringRC1(LOC74.Field1);
								if (LOC75) nimGCunrefNoCycle(LOC75);
							}
							goto LA54;
							LA56: ;
							{
								NimStringDesc* LOC77;
								NI LOC78;
								NimStringDesc* LOC79;
								LOC77 = 0;
								LOC78 = 0;
								LOC78 = len_360285((*Result).Field2);
								LOC79 = 0;
								LOC79 = nimIntToStr(LOC78);
								LOC77 = rawNewString(LOC79->Sup.len + 8);
appendString(LOC77, ((NimStringDesc*) &TMP4763));
appendString(LOC77, LOC79);
								title.Linktitle = LOC77;
								HEX5BHEX5DHEX3D_360301(&(*Result).Field2, &title, fileentries);
							}
							LA54: ;
						}
						LA28: ;
					}
					LA12: ;
					{
						NI32 LOC82;
						LOC82 = 0;
						LOC82 = Dl_104044(h_362103, &f_362101);
						if (!(LOC82 == ((NI32) 0))) goto LA83;
						goto LA7;
					}
					LA83: ;
				}
			} LA7: ;
			Dl_104204(h_362103);
		}
		LA5: ;
	}
	memset((void*)&LOC85, 0, sizeof(LOC85));
	LOC85.ClPrc = ((TMP4766) (cmp_4528)); LOC85.ClEnv = NIM_NIL;
	sort_360551((*Result).Field0->data, (*Result).Field0->Sup.len, LOC85, ((NU8) 1));
}

N_NIMCALL(void, HEX3CHEX2D_357607)(tindexentry357264* a, tindexentry357264* b) {
	unsureAsgnRef((void**) &(*a).Keyword, (*b).Keyword);
	unsureAsgnRef((void**) &(*a).Link, (*b).Link);
	{
		if (!(*b).Linktitle == 0) goto LA3;
		unsureAsgnRef((void**) &(*a).Linktitle, copyString(NIM_NIL));
	}
	goto LA1;
	LA3: ;
	{
		unsureAsgnRef((void**) &(*a).Linktitle, (*b).Linktitle);
	}
	LA1: ;
	{
		if (!(*b).Linkdesc == 0) goto LA8;
		unsureAsgnRef((void**) &(*a).Linkdesc, copyString(NIM_NIL));
	}
	goto LA6;
	LA8: ;
	{
		unsureAsgnRef((void**) &(*a).Linkdesc, (*b).Linkdesc);
	}
	LA6: ;
}

N_NIMCALL(NI, cmp_357298)(tindexentry357264* a, tindexentry357264* b) {
	NI result;
	result = 0;
	result = nsuCmpIgnoreStyle((*a).Keyword, (*b).Keyword);
	{
		if (!(result == 0)) goto LA3;
		result = nsuCmpIgnoreStyle((*a).Link, (*b).Link);
	}
	LA3: ;
	return result;
}

N_NIMCALL(NimStringDesc*, generatedocumentationjumps_359423)(table357277 docs) {
	NimStringDesc* result_359426;
	TY359804* titles;
	TY359804* result_359428;
	TY358572 LOC13;
	TY120208* chunks;
	NimStringDesc* LOC19;
	NimStringDesc* LOC20;
	result_359426 = 0;
	result_359426 = copyString(((NimStringDesc*) &TMP4767));
	result_359428 = (TY359804*) newSeq((&NTI359804), 0);
	{
		tindexentry357264 x_359430;
		memset((void*)&x_359430, 0, sizeof(x_359430));
		{
			NI h_359679;
			NI HEX3Atmp_359681;
			NI res_359683;
			h_359679 = 0;
			HEX3Atmp_359681 = 0;
			HEX3Atmp_359681 = (docs.Data->Sup.len-1);
			res_359683 = 0;
			{
				while (1) {
					if (!(res_359683 <= HEX3Atmp_359681)) goto LA4;
					h_359679 = res_359683;
					{
						NimStringDesc* LOC9;
						NimStringDesc* LOC10;
						NimStringDesc* LOC11;
						NimStringDesc* LOC12;
						if (!(docs.Data->data[h_359679].Field0 == ((NU8) 1))) goto LA7;
						x_359430.Keyword = docs.Data->data[h_359679].Field1.Keyword;
						x_359430.Link = docs.Data->data[h_359679].Field1.Link;
						x_359430.Linktitle = docs.Data->data[h_359679].Field1.Linktitle;
						x_359430.Linkdesc = docs.Data->data[h_359679].Field1.Linkdesc;
						result_359428 = (TY359804*) incrSeq(&(result_359428)->Sup, sizeof(tindexentry357264));
						LOC9 = 0;
						LOC9 = result_359428->data[result_359428->Sup.len-1].Keyword; result_359428->data[result_359428->Sup.len-1].Keyword = copyStringRC1(x_359430.Keyword);
						if (LOC9) nimGCunrefNoCycle(LOC9);
						LOC10 = 0;
						LOC10 = result_359428->data[result_359428->Sup.len-1].Link; result_359428->data[result_359428->Sup.len-1].Link = copyStringRC1(x_359430.Link);
						if (LOC10) nimGCunrefNoCycle(LOC10);
						LOC11 = 0;
						LOC11 = result_359428->data[result_359428->Sup.len-1].Linktitle; result_359428->data[result_359428->Sup.len-1].Linktitle = copyStringRC1(x_359430.Linktitle);
						if (LOC11) nimGCunrefNoCycle(LOC11);
						LOC12 = 0;
						LOC12 = result_359428->data[result_359428->Sup.len-1].Linkdesc; result_359428->data[result_359428->Sup.len-1].Linkdesc = copyStringRC1(x_359430.Linkdesc);
						if (LOC12) nimGCunrefNoCycle(LOC12);
					}
					LA7: ;
					res_359683 += 1;
				} LA4: ;
			}
		}
	}
	genericSeqAssign(&titles, result_359428, (&NTI359804));
	memset((void*)&LOC13, 0, sizeof(LOC13));
	LOC13.ClPrc = ((TMP4770) (cmp_357298)); LOC13.ClEnv = NIM_NIL;
	sort_358553(titles->data, titles->Sup.len, LOC13, ((NU8) 1));
	chunks = (TY120208*) newSeq((&NTI120208), 0);
	{
		tindexentry357264 title_359655;
		NI i_359688;
		NI l_359690;
		memset((void*)&title_359655, 0, sizeof(title_359655));
		i_359688 = 0;
		l_359690 = titles->Sup.len;
		{
			while (1) {
				NimStringDesc* LOC17;
				NimStringDesc* LOC18;
				if (!(i_359688 < l_359690)) goto LA16;
				title_359655.Keyword = titles->data[i_359688].Keyword;
				title_359655.Link = titles->data[i_359688].Link;
				title_359655.Linktitle = titles->data[i_359688].Linktitle;
				title_359655.Linkdesc = titles->data[i_359688].Linkdesc;
				LOC17 = 0;
				LOC17 = rawNewString(title_359655.Link->Sup.len + title_359655.Keyword->Sup.len + 15);
appendString(LOC17, ((NimStringDesc*) &TMP4771));
appendString(LOC17, title_359655.Link);
appendString(LOC17, ((NimStringDesc*) &TMP4772));
appendString(LOC17, title_359655.Keyword);
appendString(LOC17, ((NimStringDesc*) &TMP4773));
				chunks = (TY120208*) incrSeq(&(chunks)->Sup, sizeof(NimStringDesc*));
				LOC18 = 0;
				LOC18 = chunks->data[chunks->Sup.len-1]; chunks->data[chunks->Sup.len-1] = copyStringRC1(LOC17);
				if (LOC18) nimGCunrefNoCycle(LOC18);
				i_359688 += 1;
			} LA16: ;
		}
	}
	LOC19 = 0;
	LOC20 = 0;
	LOC20 = nsuJoinSep(chunks->data, chunks->Sup.len, ((NimStringDesc*) &TMP4774));
	LOC19 = rawNewString(LOC20->Sup.len + 5);
appendString(LOC19, LOC20);
appendString(LOC19, ((NimStringDesc*) &TMP4775));
	result_359426 = resizeString(result_359426, LOC19->Sup.len + 0);
appendString(result_359426, LOC19);
	return result_359426;
}

N_NIMCALL(NimStringDesc*, generatemodulejumps_359718)(TY120208* modules) {
	NimStringDesc* result;
	TY120208* chunks;
	NimStringDesc* LOC6;
	NimStringDesc* LOC7;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP4777));
	chunks = (TY120208*) newSeq((&NTI120208), 0);
	{
		NimStringDesc* name_359757;
		NI i_359780;
		NI l_359782;
		name_359757 = 0;
		i_359780 = 0;
		l_359782 = modules->Sup.len;
		{
			while (1) {
				NimStringDesc* LOC4;
				NimStringDesc* LOC5;
				if (!(i_359780 < l_359782)) goto LA3;
				name_359757 = modules->data[i_359780];
				LOC4 = 0;
				LOC4 = rawNewString(name_359757->Sup.len + name_359757->Sup.len + 20);
appendString(LOC4, ((NimStringDesc*) &TMP4771));
appendString(LOC4, name_359757);
appendString(LOC4, ((NimStringDesc*) &TMP4778));
appendString(LOC4, name_359757);
appendString(LOC4, ((NimStringDesc*) &TMP4773));
				chunks = (TY120208*) incrSeq(&(chunks)->Sup, sizeof(NimStringDesc*));
				LOC5 = 0;
				LOC5 = chunks->data[chunks->Sup.len-1]; chunks->data[chunks->Sup.len-1] = copyStringRC1(LOC4);
				if (LOC5) nimGCunrefNoCycle(LOC5);
				i_359780 += 1;
			} LA3: ;
		}
	}
	LOC6 = 0;
	LOC7 = 0;
	LOC7 = nsuJoinSep(chunks->data, chunks->Sup.len, ((NimStringDesc*) &TMP4774));
	LOC6 = rawNewString(LOC7->Sup.len + 5);
appendString(LOC6, LOC7);
appendString(LOC6, ((NimStringDesc*) &TMP4775));
	result = resizeString(result, LOC6->Sup.len + 0);
appendString(result, LOC6);
	return result;
}
N_NIMCALL(void, TMP4782)(void* p, NI op) {
	TY357879* a;
	NI LOC1;
	a = (TY357879*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Field1, op);
	}
}

static N_INLINE(NimStringDesc*, HEX5BHEX5D_85564)(NimStringDesc* s, slice85571 x) {
	NimStringDesc* result;
	NI LOC1;
	NI LOC7;
	result = 0;
	LOC1 = 0;
	{
		if (!(0 <= x.A)) goto LA4;
		LOC1 = x.A;
	}
	goto LA2;
	LA4: ;
	{
		LOC1 = (NI64)(s->Sup.len + x.A);
	}
	LA2: ;
	LOC7 = 0;
	{
		if (!(0 <= x.B)) goto LA10;
		LOC7 = x.B;
	}
	goto LA8;
	LA10: ;
	{
		LOC7 = (NI64)(s->Sup.len + x.B);
	}
	LA8: ;
	result = copyStrLast(s, LOC1, LOC7);
	return result;
}

static N_INLINE(slice85571, HEX2EHEX2E_93694)(NI a_93698, NI b_93700) {
	slice85571 result;
	memset((void*)&result, 0, sizeof(result));
	result.A = a_93698;
	result.B = b_93700;
	return result;
}

N_NIMCALL(void, striptoclevel_357788)(NimStringDesc* s, TY357880* Result) {
	slice85571 LOC8;
	{
		NI c_357816;
		NI HEX3Atmp_357840;
		NI res_357843;
		c_357816 = 0;
		HEX3Atmp_357840 = 0;
		HEX3Atmp_357840 = (s->Sup.len - 1);
		res_357843 = 0;
		{
			while (1) {
				if (!(res_357843 <= HEX3Atmp_357840)) goto LA3;
				c_357816 = res_357843;
				(*Result).Field0 = c_357816;
				{
					if (!!(((NU8)(s->data[c_357816]) == (NU8)(32)))) goto LA6;
					goto LA1;
				}
				LA6: ;
				res_357843 += 1;
			} LA3: ;
		}
	} LA1: ;
	LOC8 = HEX2EHEX2E_93694((*Result).Field0, (s->Sup.len - 1));
	unsureAsgnRef((void**) &(*Result).Field1, HEX5BHEX5D_85564(s, LOC8));
}

N_NIMCALL(NimStringDesc*, indenttolevel_357860)(NI* level, NI newlevel) {
	NimStringDesc* result;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP2110));
	{
		if (!((*level) == newlevel)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	{
		if (!((*level) < newlevel)) goto LA7;
		result = nsuRepeatStr((NI64)(newlevel - (*level)), ((NimStringDesc*) &TMP4784));
	}
	goto LA5;
	LA7: ;
	{
		result = nsuRepeatStr((NI64)((*level) - newlevel), ((NimStringDesc*) &TMP4785));
	}
	LA5: ;
	(*level) = newlevel;
	BeforeRet: ;
	return result;
}

N_NIMCALL(NimStringDesc*, generatedocumentationtoc_357873)(TY359804* entries) {
	NimStringDesc* result;
	NimStringDesc* titleref;
	TY357879* levels;
	NI l_357884;
	NI level;
	NimStringDesc* LOC23;
	NimStringDesc* LOC24;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP2110));
	titleref = 0;
	levels = 0;
	l_357884 = 0;
	level = 1;
	levels = (TY357879*) newSeq((&NTI357879), entries->Sup.len);
	{
		tindexentry357264 entry_358011;
		NI i_358206;
		NI l_358208;
		memset((void*)&entry_358011, 0, sizeof(entry_358011));
		i_358206 = 0;
		l_358208 = entries->Sup.len;
		{
			while (1) {
				NimStringDesc* LOC4;
				TY357880 LOC5;
				NI rawlevel;
				NimStringDesc* rawtext;
				if (!(i_358206 < l_358208)) goto LA3;
				entry_358011.Keyword = entries->data[i_358206].Keyword;
				entry_358011.Link = entries->data[i_358206].Link;
				entry_358011.Linktitle = entries->data[i_358206].Linktitle;
				entry_358011.Linkdesc = entries->data[i_358206].Linkdesc;
				LOC4 = 0;
				LOC4 = or_356568(entry_358011.Linktitle, entry_358011.Keyword);
				memset((void*)&LOC5, 0, sizeof(LOC5));
				striptoclevel_357788(LOC4, &LOC5);
				rawlevel = 0;
				rawlevel = LOC5.Field0;
				rawtext = 0;
				rawtext = LOC5.Field1;
				{
					NimStringDesc* LOC10;
					if (!(rawlevel < 1)) goto LA8;
					levels->data[l_357884].Field0 = (NI64)(level + 1);
					LOC10 = 0;
					LOC10 = levels->data[l_357884].Field1; levels->data[l_357884].Field1 = copyStringRC1(entry_358011.Keyword);
					if (LOC10) nimGCunrefNoCycle(LOC10);
				}
				goto LA6;
				LA8: ;
				{
					NimStringDesc* LOC12;
					level = rawlevel;
					levels->data[l_357884].Field0 = rawlevel;
					LOC12 = 0;
					LOC12 = levels->data[l_357884].Field1; levels->data[l_357884].Field1 = copyStringRC1(rawtext);
					if (LOC12) nimGCunrefNoCycle(LOC12);
				}
				LA6: ;
				l_357884 += 1;
				i_358206 += 1;
			} LA3: ;
		}
	}
	result = copyString(((NimStringDesc*) &TMP4783));
	level = 1;
	l_357884 = 0;
	{
		while (1) {
			NimStringDesc* link;
			if (!(l_357884 < entries->Sup.len)) goto LA14;
			link = entries->data[l_357884].Link;
			{
				NIM_BOOL LOC17;
				LOC17 = 0;
				LOC17 = isdocumentationtitle_357777(link);
				if (!LOC17) goto LA18;
				titleref = copyString(link);
			}
			goto LA15;
			LA18: ;
			{
				NimStringDesc* LOC21;
				NimStringDesc* LOC22;
				LOC21 = 0;
				LOC21 = indenttolevel_357860(&level, levels->data[l_357884].Field0);
				result = resizeString(result, LOC21->Sup.len + 0);
appendString(result, LOC21);
				LOC22 = 0;
				LOC22 = rawNewString(link->Sup.len + levels->data[l_357884].Field1->Sup.len + 21);
appendString(LOC22, ((NimStringDesc*) &TMP4786));
appendString(LOC22, link);
appendString(LOC22, ((NimStringDesc*) &TMP4772));
appendString(LOC22, levels->data[l_357884].Field1);
appendString(LOC22, ((NimStringDesc*) &TMP4787));
				result = resizeString(result, LOC22->Sup.len + 0);
appendString(result, LOC22);
			}
			LA15: ;
			l_357884 += 1;
		} LA14: ;
	}
	LOC23 = 0;
	LOC24 = 0;
	LOC24 = indenttolevel_357860(&level, 1);
	LOC23 = rawNewString(LOC24->Sup.len + 7);
appendString(LOC23, LOC24);
appendString(LOC23, ((NimStringDesc*) &TMP4788));
	result = resizeString(result, LOC23->Sup.len + 0);
appendString(result, LOC23);
	return result;
}

N_NIMCALL(NimStringDesc*, generatedocumentationindex_358231)(table357277 docs) {
	NimStringDesc* result_358234;
	TY359804* titles;
	TY359804* result_358236;
	TY358572 LOC13;
	result_358234 = 0;
	result_358234 = copyString(((NimStringDesc*) &TMP2110));
	result_358236 = (TY359804*) newSeq((&NTI359804), 0);
	{
		tindexentry357264 x_358238;
		memset((void*)&x_358238, 0, sizeof(x_358238));
		{
			NI h_359385;
			NI HEX3Atmp_359387;
			NI res_359389;
			h_359385 = 0;
			HEX3Atmp_359387 = 0;
			HEX3Atmp_359387 = (docs.Data->Sup.len-1);
			res_359389 = 0;
			{
				while (1) {
					if (!(res_359389 <= HEX3Atmp_359387)) goto LA4;
					h_359385 = res_359389;
					{
						NimStringDesc* LOC9;
						NimStringDesc* LOC10;
						NimStringDesc* LOC11;
						NimStringDesc* LOC12;
						if (!(docs.Data->data[h_359385].Field0 == ((NU8) 1))) goto LA7;
						x_358238.Keyword = docs.Data->data[h_359385].Field1.Keyword;
						x_358238.Link = docs.Data->data[h_359385].Field1.Link;
						x_358238.Linktitle = docs.Data->data[h_359385].Field1.Linktitle;
						x_358238.Linkdesc = docs.Data->data[h_359385].Field1.Linkdesc;
						result_358236 = (TY359804*) incrSeq(&(result_358236)->Sup, sizeof(tindexentry357264));
						LOC9 = 0;
						LOC9 = result_358236->data[result_358236->Sup.len-1].Keyword; result_358236->data[result_358236->Sup.len-1].Keyword = copyStringRC1(x_358238.Keyword);
						if (LOC9) nimGCunrefNoCycle(LOC9);
						LOC10 = 0;
						LOC10 = result_358236->data[result_358236->Sup.len-1].Link; result_358236->data[result_358236->Sup.len-1].Link = copyStringRC1(x_358238.Link);
						if (LOC10) nimGCunrefNoCycle(LOC10);
						LOC11 = 0;
						LOC11 = result_358236->data[result_358236->Sup.len-1].Linktitle; result_358236->data[result_358236->Sup.len-1].Linktitle = copyStringRC1(x_358238.Linktitle);
						if (LOC11) nimGCunrefNoCycle(LOC11);
						LOC12 = 0;
						LOC12 = result_358236->data[result_358236->Sup.len-1].Linkdesc; result_358236->data[result_358236->Sup.len-1].Linkdesc = copyStringRC1(x_358238.Linkdesc);
						if (LOC12) nimGCunrefNoCycle(LOC12);
					}
					LA7: ;
					res_359389 += 1;
				} LA4: ;
			}
		}
	}
	genericSeqAssign(&titles, result_358236, (&NTI359804));
	memset((void*)&LOC13, 0, sizeof(LOC13));
	LOC13.ClPrc = ((TMP4780) (cmp_357298)); LOC13.ClEnv = NIM_NIL;
	sort_358553(titles->data, titles->Sup.len, LOC13, ((NU8) 1));
	{
		tindexentry357264 title_359295;
		NI i_359393;
		NI l_359395;
		memset((void*)&title_359295, 0, sizeof(title_359295));
		i_359393 = 0;
		l_359395 = titles->Sup.len;
		{
			while (1) {
				NimStringDesc* toclist;
				TY359804* LOC17;
				NimStringDesc* LOC18;
				if (!(i_359393 < l_359395)) goto LA16;
				title_359295.Keyword = titles->data[i_359393].Keyword;
				title_359295.Link = titles->data[i_359393].Link;
				title_359295.Linktitle = titles->data[i_359393].Linktitle;
				title_359295.Linkdesc = titles->data[i_359393].Linkdesc;
				LOC17 = 0;
				LOC17 = HEX5BHEX5D_359298(docs, &title_359295);
				toclist = generatedocumentationtoc_357873(LOC17);
				LOC18 = 0;
				LOC18 = rawNewString(title_359295.Link->Sup.len + title_359295.Keyword->Sup.len + toclist->Sup.len + 32);
appendString(LOC18, ((NimStringDesc*) &TMP4789));
appendString(LOC18, title_359295.Link);
appendString(LOC18, ((NimStringDesc*) &TMP4772));
appendString(LOC18, title_359295.Keyword);
appendString(LOC18, ((NimStringDesc*) &TMP4787));
appendString(LOC18, toclist);
appendString(LOC18, ((NimStringDesc*) &TMP4788));
				result_358234 = resizeString(result_358234, LOC18->Sup.len + 0);
appendString(result_358234, LOC18);
				i_359393 += 1;
			} LA16: ;
		}
	}
	return result_358234;
}

N_NIMCALL(void, sortindex_357618)(tindexentry357264* a, NI aLen0) {
	NI n;
	NI h;
	n = aLen0;
	h = 1;
	{
		while (1) {
			h = (NI64)((NI64)(3 * h) + 1);
			{
				if (!(n < h)) goto LA5;
				goto LA1;
			}
			LA5: ;
		}
	} LA1: ;
	{
		while (1) {
			h = (NI64)(h / 3);
			{
				NI i_357645;
				NI HEX3Atmp_357657;
				NI res_357660;
				i_357645 = 0;
				HEX3Atmp_357657 = 0;
				HEX3Atmp_357657 = (NI64)(n - 1);
				res_357660 = h;
				{
					while (1) {
						tindexentry357264 v;
						NI j;
						if (!(res_357660 <= HEX3Atmp_357657)) goto LA11;
						i_357645 = res_357660;
						memset((void*)&v, 0, sizeof(v));
						HEX3CHEX2D_357607(&v, &a[i_357645]);
						j = i_357645;
						{
							while (1) {
								NI LOC14;
								LOC14 = 0;
								LOC14 = cmp_357298(&a[(NI64)(j - h)], &v);
								if (!(0 <= LOC14)) goto LA13;
								HEX3CHEX2D_357607(&a[j], &a[(NI64)(j - h)]);
								j = (NI64)(j - h);
								{
									if (!(j < h)) goto LA17;
									goto LA12;
								}
								LA17: ;
							} LA13: ;
						} LA12: ;
						HEX3CHEX2D_357607(&a[j], &v);
						res_357660 += 1;
					} LA11: ;
				}
			}
			{
				if (!(h == 1)) goto LA21;
				goto LA7;
			}
			LA21: ;
		}
	} LA7: ;
}

N_NIMCALL(NimStringDesc*, generatesymbolindex_357695)(TY359804* symbols) {
	NimStringDesc* result;
	NI i;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP2110));
	i = 0;
	{
		while (1) {
			TY197301 LOC3;
			NI j;
			if (!(i < symbols->Sup.len)) goto LA2;
			memset((void*)LOC3, 0, sizeof(LOC3));
			LOC3[0] = copyString(symbols->data[i].Keyword);
			nsuAddf(&result, ((NimStringDesc*) &TMP4791), LOC3, 1);
			j = i;
			{
				while (1) {
					NIM_BOOL LOC6;
					NimStringDesc* url;
					NimStringDesc* text;
					NimStringDesc* desc;
					LOC6 = 0;
					LOC6 = (j < symbols->Sup.len);
					if (!(LOC6)) goto LA7;
					LOC6 = eqStrings(symbols->data[i].Keyword, symbols->data[j].Keyword);
					LA7: ;
					if (!LOC6) goto LA5;
					url = symbols->data[j].Link;
					{
						if (!!(symbols->data[j].Linktitle == 0)) goto LA10;
						text = symbols->data[j].Linktitle;
					}
					goto LA8;
					LA10: ;
					{
						text = url;
					}
					LA8: ;
					{
						if (!!(symbols->data[j].Linkdesc == 0)) goto LA15;
						desc = symbols->data[j].Linkdesc;
					}
					goto LA13;
					LA15: ;
					{
						desc = copyString(((NimStringDesc*) &TMP2110));
					}
					LA13: ;
					{
						TY208063 LOC22;
						if (!(0 < desc->Sup.len)) goto LA20;
						memset((void*)LOC22, 0, sizeof(LOC22));
						LOC22[0] = copyString(url);
						LOC22[1] = copyString(text);
						LOC22[2] = copyString(desc);
						nsuAddf(&result, ((NimStringDesc*) &TMP4792), LOC22, 3);
					}
					goto LA18;
					LA20: ;
					{
						TY169951 LOC24;
						memset((void*)LOC24, 0, sizeof(LOC24));
						LOC24[0] = copyString(url);
						LOC24[1] = copyString(text);
						nsuAddf(&result, ((NimStringDesc*) &TMP4793), LOC24, 2);
					}
					LA18: ;
					j += 1;
				} LA5: ;
			}
			result = resizeString(result, 12);
appendString(result, ((NimStringDesc*) &TMP4794));
			i = j;
		} LA2: ;
	}
	return result;
}

N_NIMCALL(NimStringDesc*, mergeindexes_362146)(NimStringDesc* dir) {
	NimStringDesc* result;
	TY359801 LOC1;
	TY120208* modules;
	TY359804* symbols;
	table357277 docs;
	result = 0;
	memset((void*)&LOC1, 0, sizeof(LOC1));
	readindexdir_359798(dir, &LOC1);
	modules = 0;
	genericSeqAssign(&modules, LOC1.Field0, (&NTI120208));
	symbols = 0;
	genericSeqAssign(&symbols, LOC1.Field1, (&NTI359804));
	memset((void*)&docs, 0, sizeof(docs));
	genericSeqAssign(&docs.Data, LOC1.Field2.Data, (&NTI357280));
	docs.Counter = LOC1.Field2.Counter;
	result = copyString(((NimStringDesc*) &TMP2110));
	{
		NI LOC4;
		NimStringDesc* LOC7;
		LOC4 = 0;
		LOC4 = len_360285(docs);
		if (!(0 < LOC4)) goto LA5;
		LOC7 = 0;
		LOC7 = generatedocumentationjumps_359423(docs);
		result = resizeString(result, LOC7->Sup.len + 0);
appendString(result, LOC7);
		result = resizeString(result, 5);
appendString(result, ((NimStringDesc*) &TMP4776));
	}
	LA5: ;
	{
		NimStringDesc* LOC12;
		if (!(0 < modules->Sup.len)) goto LA10;
		LOC12 = 0;
		LOC12 = generatemodulejumps_359718(modules);
		result = resizeString(result, LOC12->Sup.len + 0);
appendString(result, LOC12);
		result = resizeString(result, 5);
appendString(result, ((NimStringDesc*) &TMP4776));
	}
	LA10: ;
	{
		NI LOC15;
		NimStringDesc* LOC18;
		LOC15 = 0;
		LOC15 = len_360285(docs);
		if (!(0 < LOC15)) goto LA16;
		result = resizeString(result, 30);
appendString(result, ((NimStringDesc*) &TMP4779));
		LOC18 = 0;
		LOC18 = generatedocumentationindex_358231(docs);
		result = resizeString(result, LOC18->Sup.len + 0);
appendString(result, LOC18);
	}
	LA16: ;
	{
		NimStringDesc* LOC23;
		if (!(0 < symbols->Sup.len)) goto LA21;
		sortindex_357618(symbols->data, symbols->Sup.len);
		result = resizeString(result, 22);
appendString(result, ((NimStringDesc*) &TMP4790));
		LOC23 = 0;
		LOC23 = generatesymbolindex_357695(symbols);
		result = resizeString(result, LOC23->Sup.len + 0);
appendString(result, LOC23);
	}
	LA21: ;
	return result;
}
NIM_EXTERNC N_NOINLINE(void, docutils_rstgenInit)(void) {
	NimStringDesc* LOC1;
	LOC1 = 0;
	LOC1 = splitter_356332; splitter_356332 = copyStringRC1(((NimStringDesc*) &TMP903));
	if (LOC1) nimGCunrefNoCycle(LOC1);
}

NIM_EXTERNC N_NOINLINE(void, docutils_rstgenDatInit)(void) {
static TNimNode* TMP4595[13];
static TNimNode* TMP4596[2];
NI TMP4598;
static char* NIM_CONST TMP4597[2] = {
"outHtml", 
"outLatex"};
static TNimNode* TMP4599[3];
static TNimNode* TMP4758[4];
static TNimNode* TMP4781[2];
static TNimNode TMP895[29];
NTI356016.size = sizeof(trstgenerator356016);
NTI356016.kind = 17;
NTI356016.base = (&NTI3211);
TMP4595[0] = &TMP895[1];
NTI356010.size = sizeof(NU8);
NTI356010.kind = 14;
NTI356010.base = 0;
NTI356010.flags = 3;
for (TMP4598 = 0; TMP4598 < 2; TMP4598++) {
TMP895[TMP4598+2].kind = 1;
TMP895[TMP4598+2].offset = TMP4598;
TMP895[TMP4598+2].name = TMP4597[TMP4598];
TMP4596[TMP4598] = &TMP895[TMP4598+2];
}
TMP895[4].len = 2; TMP895[4].kind = 2; TMP895[4].sons = &TMP4596[0];
NTI356010.node = &TMP895[4];
TMP895[1].kind = 1;
TMP895[1].offset = offsetof(trstgenerator356016, Target);
TMP895[1].typ = (&NTI356010);
TMP895[1].name = "target";
TMP4595[1] = &TMP895[5];
TMP895[5].kind = 1;
TMP895[5].offset = offsetof(trstgenerator356016, Config);
TMP895[5].typ = (&NTI132014);
TMP895[5].name = "config";
TMP4595[2] = &TMP895[6];
TMP895[6].kind = 1;
TMP895[6].offset = offsetof(trstgenerator356016, Splitafter);
TMP895[6].typ = (&NTI108);
TMP895[6].name = "splitAfter";
TMP4595[3] = &TMP895[7];
NTI356012.size = sizeof(ttocentry356012);
NTI356012.kind = 18;
NTI356012.base = 0;
NTI356012.flags = 2;
TMP4599[0] = &TMP895[9];
TMP895[9].kind = 1;
TMP895[9].offset = offsetof(ttocentry356012, N);
TMP895[9].typ = (&NTI341007);
TMP895[9].name = "n";
TMP4599[1] = &TMP895[10];
TMP895[10].kind = 1;
TMP895[10].offset = offsetof(ttocentry356012, Refname);
TMP895[10].typ = (&NTI149);
TMP895[10].name = "refname";
TMP4599[2] = &TMP895[11];
TMP895[11].kind = 1;
TMP895[11].offset = offsetof(ttocentry356012, Header);
TMP895[11].typ = (&NTI149);
TMP895[11].name = "header";
TMP895[8].len = 3; TMP895[8].kind = 2; TMP895[8].sons = &TMP4599[0];
NTI356012.node = &TMP895[8];
NTI356032.size = sizeof(TY356032*);
NTI356032.kind = 24;
NTI356032.base = (&NTI356012);
NTI356032.flags = 2;
NTI356032.marker = TMP4600;
TMP895[7].kind = 1;
TMP895[7].offset = offsetof(trstgenerator356016, Tocpart);
TMP895[7].typ = (&NTI356032);
TMP895[7].name = "tocPart";
TMP4595[4] = &TMP895[12];
TMP895[12].kind = 1;
TMP895[12].offset = offsetof(trstgenerator356016, Hastoc);
TMP895[12].typ = (&NTI138);
TMP895[12].name = "hasToc";
TMP4595[5] = &TMP895[13];
TMP895[13].kind = 1;
TMP895[13].offset = offsetof(trstgenerator356016, Theindex);
TMP895[13].typ = (&NTI149);
TMP895[13].name = "theIndex";
TMP4595[6] = &TMP895[14];
TMP895[14].kind = 1;
TMP895[14].offset = offsetof(trstgenerator356016, Options);
TMP895[14].typ = (&NTI342015);
TMP895[14].name = "options";
TMP4595[7] = &TMP895[15];
TMP895[15].kind = 1;
TMP895[15].offset = offsetof(trstgenerator356016, Findfile);
TMP895[15].typ = (&NTI342023);
TMP895[15].name = "findFile";
TMP4595[8] = &TMP895[16];
TMP895[16].kind = 1;
TMP895[16].offset = offsetof(trstgenerator356016, Msghandler);
TMP895[16].typ = (&NTI342021);
TMP895[16].name = "msgHandler";
TMP4595[9] = &TMP895[17];
TMP895[17].kind = 1;
TMP895[17].offset = offsetof(trstgenerator356016, Filename);
TMP895[17].typ = (&NTI149);
TMP895[17].name = "filename";
TMP4595[10] = &TMP895[18];
NTI356040.size = sizeof(TY356040);
NTI356040.kind = 16;
NTI356040.base = (&NTI149);
NTI356040.flags = 2;
TMP895[18].kind = 1;
TMP895[18].offset = offsetof(trstgenerator356016, Meta);
TMP895[18].typ = (&NTI356040);
TMP895[18].name = "meta";
TMP4595[11] = &TMP895[19];
TMP895[19].kind = 1;
TMP895[19].offset = offsetof(trstgenerator356016, Currentsection);
TMP895[19].typ = (&NTI149);
TMP895[19].name = "currentSection";
TMP4595[12] = &TMP895[20];
TMP895[20].kind = 1;
TMP895[20].offset = offsetof(trstgenerator356016, Seenindexterms);
TMP895[20].typ = (&NTI356050);
TMP895[20].name = "seenIndexTerms";
TMP895[0].len = 13; TMP895[0].kind = 2; TMP895[0].sons = &TMP4595[0];
NTI356016.node = &TMP895[0];
NTI357264.size = sizeof(tindexentry357264);
NTI357264.kind = 18;
NTI357264.base = 0;
NTI357264.flags = 2;
TMP4758[0] = &TMP895[22];
TMP895[22].kind = 1;
TMP895[22].offset = offsetof(tindexentry357264, Keyword);
TMP895[22].typ = (&NTI149);
TMP895[22].name = "keyword";
TMP4758[1] = &TMP895[23];
TMP895[23].kind = 1;
TMP895[23].offset = offsetof(tindexentry357264, Link);
TMP895[23].typ = (&NTI149);
TMP895[23].name = "link";
TMP4758[2] = &TMP895[24];
TMP895[24].kind = 1;
TMP895[24].offset = offsetof(tindexentry357264, Linktitle);
TMP895[24].typ = (&NTI149);
TMP895[24].name = "linkTitle";
TMP4758[3] = &TMP895[25];
TMP895[25].kind = 1;
TMP895[25].offset = offsetof(tindexentry357264, Linkdesc);
TMP895[25].typ = (&NTI149);
TMP895[25].name = "linkDesc";
TMP895[21].len = 4; TMP895[21].kind = 2; TMP895[21].sons = &TMP4758[0];
NTI357264.node = &TMP895[21];
NTI359804.size = sizeof(TY359804*);
NTI359804.kind = 24;
NTI359804.base = (&NTI357264);
NTI359804.flags = 2;
NTI359804.marker = TMP4759;
NTI357880.size = sizeof(TY357880);
NTI357880.kind = 18;
NTI357880.base = 0;
NTI357880.flags = 2;
TMP4781[0] = &TMP895[27];
TMP895[27].kind = 1;
TMP895[27].offset = offsetof(TY357880, Field0);
TMP895[27].typ = (&NTI108);
TMP895[27].name = "Field0";
TMP4781[1] = &TMP895[28];
TMP895[28].kind = 1;
TMP895[28].offset = offsetof(TY357880, Field1);
TMP895[28].typ = (&NTI149);
TMP895[28].name = "Field1";
TMP895[26].len = 2; TMP895[26].kind = 2; TMP895[26].sons = &TMP4781[0];
NTI357880.node = &TMP895[26];
NTI357879.size = sizeof(TY357879*);
NTI357879.kind = 24;
NTI357879.base = (&NTI357880);
NTI357879.flags = 2;
NTI357879.marker = TMP4782;
}

