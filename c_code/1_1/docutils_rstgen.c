/* Generated by Nimrod Compiler v0.9.4 */
/*   (c) 2014 Andreas Rumpf */
/* The generated code is subject to the original license. */
#define NIM_INTBITS 32
#include "nimbase.h"

#include <string.h>

#include <stdio.h>
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct tcell40888 tcell40888;
typedef struct TNimType TNimType;
typedef struct tcellseq40904 tcellseq40904;
typedef struct tgcheap42816 tgcheap42816;
typedef struct tcellset40900 tcellset40900;
typedef struct tpagedesc40896 tpagedesc40896;
typedef struct tmemregion23210 tmemregion23210;
typedef struct tsmallchunk22438 tsmallchunk22438;
typedef struct tllchunk23204 tllchunk23204;
typedef struct tbigchunk22440 tbigchunk22440;
typedef struct tintset22415 tintset22415;
typedef struct ttrunk22411 ttrunk22411;
typedef struct tavlnode23208 tavlnode23208;
typedef struct tgcstat42814 tgcstat42814;
typedef struct trstgenerator307012 trstgenerator307012;
typedef struct trstnode295009 trstnode295009;
typedef struct trstnodeseq295007 trstnodeseq295007;
typedef struct TNimObject TNimObject;
typedef struct TNimNode TNimNode;
typedef struct tstringtable122810 tstringtable122810;
typedef struct TY307028 TY307028;
typedef struct ttocentry307008 ttocentry307008;
typedef struct tgeneraltokenizer303015 tgeneraltokenizer303015;
typedef struct TY307574 TY307574;
typedef struct tindexentry307505 tindexentry307505;
typedef struct twin32finddata95815 twin32finddata95815;
typedef struct tfiletime94868 tfiletime94868;
typedef struct TY111405 TY111405;
typedef struct tbasechunk22436 tbasechunk22436;
typedef struct tfreecell22428 tfreecell22428;
typedef struct tkeyvaluepairseq122808 tkeyvaluepairseq122808;
typedef struct tkeyvaluepair122806 tkeyvaluepair122806;
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct  tcell40888  {
NI Refcount;
TNimType* Typ;
};
struct  tcellseq40904  {
NI Len;
NI Cap;
tcell40888** D;
};
struct  tcellset40900  {
NI Counter;
NI Max;
tpagedesc40896* Head;
tpagedesc40896** Data;
};
typedef tsmallchunk22438* TY23222[512];
typedef ttrunk22411* ttrunkbuckets22413[256];
struct  tintset22415  {
ttrunkbuckets22413 Data;
};
struct  tmemregion23210  {
NI Minlargeobj;
NI Maxlargeobj;
TY23222 Freesmallchunks;
tllchunk23204* Llmem;
NI Currmem;
NI Maxmem;
NI Freemem;
NI Lastsize;
tbigchunk22440* Freechunkslist;
tintset22415 Chunkstarts;
tavlnode23208* Root;
tavlnode23208* Deleted;
tavlnode23208* Last;
tavlnode23208* Freeavlnodes;
};
struct  tgcstat42814  {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
NI64 Maxpause;
};
struct  tgcheap42816  {
void* Stackbottom;
NI Cyclethreshold;
tcellseq40904 Zct;
tcellseq40904 Decstack;
tcellset40900 Cycleroots;
tcellseq40904 Tempstack;
NI Recgclock;
tmemregion23210 Region;
tgcstat42814 Stat;
};
struct  trstnode295009  {
NU8 Kind;
NimStringDesc* Text;
NI Level;
trstnodeseq295007* Sons;
};
typedef N_NIMCALL_PTR(void, TY2289) (void* p, NI op);
struct  TNimType  {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY2289 marker;
};
struct  TNimObject  {
TNimType* m_type;
};
struct  ttocentry307008  {
trstnode295009* N;
NimStringDesc* Refname;
NimStringDesc* Header;
};
typedef N_NIMCALL_PTR(NimStringDesc*, tfindfilehandler296018) (NimStringDesc* filename);
typedef N_NIMCALL_PTR(void, tmsghandler296016) (NimStringDesc* filename, NI line, NI col, NU8 msgkind, NimStringDesc* arg);
typedef NimStringDesc* TY307036[5];
struct  trstgenerator307012  {
  TNimObject Sup;
NU8 Target;
tstringtable122810* Config;
NI Splitafter;
TY307028* Tocpart;
NIM_BOOL Hastoc;
NimStringDesc* Theindex;
NU8 Options;
tfindfilehandler296018 Findfile;
tmsghandler296016 Msghandler;
NimStringDesc* Filename;
TY307036 Meta;
NimStringDesc* Currentsection;
};
typedef NimStringDesc* TY164283[4];
typedef NimStringDesc* TY164002[1];
typedef NimStringDesc* TY136887[2];
typedef NimStringDesc* TY521288[1];
struct  tgeneraltokenizer303015  {
  TNimObject Sup;
NU8 Kind;
NI Start;
NI Length;
NCSTRING Buf;
NI Pos;
NU8 State;
};
struct  TNimNode  {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef NimStringDesc* TY303071[33];
struct  tindexentry307505  {
NimStringDesc* Keyword;
NimStringDesc* Link;
NimStringDesc* Linktitle;
NimStringDesc* Linkdesc;
};
struct  tfiletime94868  {
NI32 Dwlowdatetime;
NI32 Dwhighdatetime;
};
typedef NI16 TY95824[260];
typedef NI16 TY95828[14];
struct  twin32finddata95815  {
NI32 Dwfileattributes;
tfiletime94868 Ftcreationtime;
tfiletime94868 Ftlastaccesstime;
tfiletime94868 Ftlastwritetime;
NI32 Nfilesizehigh;
NI32 Nfilesizelow;
NI32 Dwreserved0;
NI32 Dwreserved1;
TY95824 Cfilename;
TY95828 Calternatefilename;
};
typedef N_STDCALL_PTR(NI32, TY95839) (NI hfindfile, twin32finddata95815* lpfindfiledata);
typedef N_STDCALL_PTR(void, TY96003) (NI hfindfile);
typedef NimStringDesc* TY172034[3];
typedef NI TY22418[16];
struct  tpagedesc40896  {
tpagedesc40896* Next;
NI Key;
TY22418 Bits;
};
struct  tbasechunk22436  {
NI Prevsize;
NI Size;
NIM_BOOL Used;
};
struct  tsmallchunk22438  {
  tbasechunk22436 Sup;
tsmallchunk22438* Next;
tsmallchunk22438* Prev;
tfreecell22428* Freelist;
NI Free;
NI Acc;
NF Data;
};
struct  tllchunk23204  {
NI Size;
NI Acc;
tllchunk23204* Next;
};
struct  tbigchunk22440  {
  tbasechunk22436 Sup;
tbigchunk22440* Next;
tbigchunk22440* Prev;
NI Align;
NF Data;
};
struct  ttrunk22411  {
ttrunk22411* Next;
NI Key;
TY22418 Bits;
};
typedef tavlnode23208* TY23214[2];
struct  tavlnode23208  {
TY23214 Link;
NI Key;
NI Upperbound;
NI Level;
};
struct tkeyvaluepair122806 {
NimStringDesc* Field0;
NimStringDesc* Field1;
};
struct  tstringtable122810  {
  TNimObject Sup;
NI Counter;
tkeyvaluepairseq122808* Data;
NU8 Mode;
};
struct  tfreecell22428  {
tfreecell22428* Next;
NI Zerofield;
};
struct trstnodeseq295007 {
  TGenericSeq Sup;
  trstnode295009* data[SEQ_DECL_SIZE];
};
struct TY307028 {
  TGenericSeq Sup;
  ttocentry307008 data[SEQ_DECL_SIZE];
};
struct TY307574 {
  TGenericSeq Sup;
  tindexentry307505 data[SEQ_DECL_SIZE];
};
struct TY111405 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct tkeyvaluepairseq122808 {
  TGenericSeq Sup;
  tkeyvaluepair122806 data[SEQ_DECL_SIZE];
};
N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
static N_INLINE(tcell40888*, usrtocell_44243)(void* usr);
static N_INLINE(void, rtladdzct_45802)(tcell40888* c);
N_NOINLINE(void, addzct_44218)(tcellseq40904* s, tcell40888* c);
N_NIMCALL(void, renderaux_307347)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result);
N_NIMCALL(NI, len_295080)(trstnode295009* n);
N_NIMCALL(void, renderrsttoout_307339)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result);
N_NIMCALL(void, renderheadline_307879)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
N_NIMCALL(NimStringDesc*, rstnodetorefname_296051)(trstnode295009* n);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* seq, NI elemsize, NI newlen);
static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src);
N_NIMCALL(void, dispa_307319)(NU8 target, NimStringDesc** dest, NimStringDesc* xml, NimStringDesc* tex, NimStringDesc** args, NI argsLen0);
N_NIMCALL(void, nsuAddf)(NimStringDesc** s, NimStringDesc* formatstr, NimStringDesc** a, NI aLen0);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI x);
N_NIMCALL(NimStringDesc*, nimCharToStr)(NIM_CHAR x);
N_NIMCALL(void, renderoverline_307962)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result);
N_NIMCALL(void, renderaux_307373)(trstgenerator307012* d, trstnode295009* n, NimStringDesc* frmta, NimStringDesc* frmtb, NimStringDesc** result);
N_NIMCALL(void, renderfield_308282)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result);
N_NIMCALL(NimStringDesc*, addnodes_296055)(trstnode295009* n);
N_NIMCALL(NimStringDesc*, esc_307216)(NU8 target, NimStringDesc* s, NI splitafter);
N_NIMCALL(NI, nextsplitpoint_307160)(NimStringDesc* s, NI start);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* dest, NI addlen);
static N_INLINE(void, escchar_307152)(NU8 target, NimStringDesc** dest, NIM_CHAR c);
N_NIMCALL(void, addxmlchar_307128)(NimStringDesc** dest, NIM_CHAR c);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* s, NIM_CHAR c);
N_NIMCALL(void, addtexchar_307142)(NimStringDesc** dest, NIM_CHAR c);
N_NIMCALL(NimStringDesc*, nsuStrip)(NimStringDesc* s, NIM_BOOL leading, NIM_BOOL trailing);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* a, NimStringDesc* b);
N_NOINLINE(void, raiseassert_80692)(NimStringDesc* msg);
N_NIMCALL(NimStringDesc*, texcolumns_308258)(trstnode295009* n);
N_NIMCALL(NimStringDesc*, rawNewString)(NI space);
N_NIMCALL(trstnode295009*, lastson_295146)(trstnode295009* n);
N_NIMCALL(void, renderimage_308091)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result);
N_NIMCALL(NimStringDesc*, getfieldvalue_296059)(trstnode295009* n, NimStringDesc* fieldname);
N_NIMCALL(NimStringDesc*, dispf_307300)(NU8 target, NimStringDesc* xml, NimStringDesc* tex, NimStringDesc** args, NI argsLen0);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* formatstr, NimStringDesc** a, NI aLen0);
N_NIMCALL(NimStringDesc*, getargument_296064)(trstnode295009* n);
N_NIMCALL(void, rendercodeblock_308147)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result);
N_NIMCALL(NU8, getsourcelanguage_303080)(NimStringDesc* name);
N_NIMCALL(void, initgeneraltokenizer_303192)(tgeneraltokenizer303015* g, NimStringDesc* buf);
N_NIMCALL(void, getnexttoken_306067)(tgeneraltokenizer303015* g, NU8 lang);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* s, NI start_70424, NI last);
N_NIMCALL(NimStringDesc*, copyStrLast)(NimStringDesc* s, NI first, NI last);
N_NIMCALL(void, deinitgeneraltokenizer_303199)(tgeneraltokenizer303015* g);
N_NIMCALL(void, rendercontainer_308239)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result);
N_NIMCALL(void, renderindexterm_307489)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result);
static N_INLINE(void, appendChar)(NimStringDesc* dest, NIM_CHAR c);
N_NIMCALL(NI, hash_307446)(trstnode295009* n);
N_NIMCALL(NI, hash_120827)(NimStringDesc* x);
static N_INLINE(NI, HEX21HEX26_120015)(NI h, NI val);
static N_INLINE(NI, HEX21HEX24_120040)(NI h);
N_NIMCALL(void, setindexterm_307433)(trstgenerator307012* d, NimStringDesc* id, NimStringDesc* term, NimStringDesc* linktitle, NimStringDesc* linkdesc);
N_NIMCALL(NimStringDesc*, noschangeFileExt)(NimStringDesc* filename, NimStringDesc* ext);
N_NIMCALL(NimStringDesc*, nosextractFilename)(NimStringDesc* path);
N_NIMCALL(NimStringDesc*, quoteindexcolumn_307421)(NimStringDesc* text);
N_NIMCALL(NimStringDesc*, nsuReplaceStr)(NimStringDesc* s, NimStringDesc* sub, NimStringDesc* by);
N_NIMCALL(void, rendersmiley_308135)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result);
N_NIMCALL(void, nimGCvisit)(void* d, NI op);
N_NIMCALL(void, TMP4327)(void* p, NI op);
N_NIMCALL(void*, newSeq)(TNimType* typ, NI len);
N_NIMCALL(NimStringDesc*, nstGet)(tstringtable122810* t, NimStringDesc* key);
N_NIMCALL(NI, nsuParseInt)(NimStringDesc* s);
N_NIMCALL(void, rendertocentry_308041)(trstgenerator307012* d, ttocentry307008 e, NimStringDesc** result);
N_NIMCALL(void, rendertocentries_308053)(trstgenerator307012* d, NI* j, NI lvl, NimStringDesc** result);
N_NIMCALL(void, writefile_10443)(NimStringDesc* filename, NimStringDesc* content);
N_NIMCALL(void, TMP4481)(void* p, NI op);
N_NIMCALL(NI, findfirstfile_104616)(NimStringDesc* a, twin32finddata95815* b);
N_NIMCALL(NimStringDesc*, HEX2F_107477)(NimStringDesc* head, NimStringDesc* tail);
static N_INLINE(NIM_BOOL, skipfinddata_104634)(twin32finddata95815* f);
N_NIMCALL(NimStringDesc*, HEX24_74191)(NI16* s);
N_NIMCALL(NIM_BOOL, nsuEndsWith)(NimStringDesc* s, NimStringDesc* suffix);
N_NIMCALL(FILE*, open_10217)(NimStringDesc* filename, NU8 mode, NI bufsize);
N_NIMCALL(NimStringDesc*, rawNewString)(NI cap);
N_NIMCALL(NIM_BOOL, readline_10487)(FILE* f, NimStringDesc** line);
N_NIMCALL(NI, nsuFindChar)(NimStringDesc* s, NIM_CHAR sub, NI start);
N_NIMCALL(NimStringDesc*, copyStr)(NimStringDesc* s, NI start);
N_NIMCALL(NimStringDesc*, copyStr)(NimStringDesc* s, NI first);
N_NIMCALL(TY111405*, nsuSplitChar)(NimStringDesc* s, NIM_CHAR sep);
N_NIMCALL(NimStringDesc*, unquoteindexcolumn_307427)(NimStringDesc* text);
N_NIMCALL(void, sortindex_307525)(tindexentry307505* a, NI aLen0);
N_NIMCALL(void, HEX3CHEX2D_307518)(tindexentry307505* a, tindexentry307505 b);
N_NIMCALL(NI, cmp_307511)(tindexentry307505 a, tindexentry307505 b);
STRING_LITERAL(TMP887, "<wbr />", 7);
STRING_LITERAL(TMP1992, "", 0);
STRING_LITERAL(TMP1994, "\015\012<h$1><a class=\"toc-backref\" id=\"$2\" href=\"#$2_toc\">$3</a></h$"
"1>", 65);
STRING_LITERAL(TMP1995, "\\rsth$4{$3}\\label{$2}\015\012", 23);
STRING_LITERAL(TMP1996, "\015\012<h$1 id=\"$2\">$3</h$1>", 23);
STRING_LITERAL(TMP1997, "<h$1 id=\"$2\"><center>$3</center></h$1>", 38);
STRING_LITERAL(TMP1998, "\\rstov$4{$3}\\label{$2}\015\012", 24);
STRING_LITERAL(TMP1999, "<hr />\015\012", 8);
STRING_LITERAL(TMP2000, "\\hrule\015\012", 8);
STRING_LITERAL(TMP2001, "<p>$1</p>\015\012", 11);
STRING_LITERAL(TMP2002, "$1\015\012\015\012", 6);
STRING_LITERAL(TMP2003, "<ul class=\"simple\">$1</ul>\015\012", 28);
STRING_LITERAL(TMP2004, "\\begin{itemize}$1\\end{itemize}\015\012", 32);
STRING_LITERAL(TMP2005, "<li>$1</li>\015\012", 13);
STRING_LITERAL(TMP2006, "\\item $1\015\012", 10);
STRING_LITERAL(TMP2007, "<ol class=\"simple\">$1</ol>\015\012", 28);
STRING_LITERAL(TMP2008, "\\begin{enumerate}$1\\end{enumerate}\015\012", 36);
STRING_LITERAL(TMP2009, "<dl class=\"docutils\">$1</dl>\015\012", 30);
STRING_LITERAL(TMP2010, "\\begin{description}$1\\end{description}\015\012", 40);
STRING_LITERAL(TMP2011, "<dt>$1</dt>\015\012", 13);
STRING_LITERAL(TMP2012, "\\item[$1] ", 10);
STRING_LITERAL(TMP2013, "<dd>$1</dd>\015\012", 13);
STRING_LITERAL(TMP2014, "$1\015\012", 4);
STRING_LITERAL(TMP2015, "<table class=\"docinfo\" frame=\"void\" rules=\"none\"><col class=\"do"
"cinfo-name\" /><col class=\"docinfo-content\" /><tbody valign=\"top\""
">$1</tbody></table>", 146);
STRING_LITERAL(TMP2016, " ", 1);
STRING_LITERAL(TMP2017, "&amp;", 5);
STRING_LITERAL(TMP2018, "&lt;", 4);
STRING_LITERAL(TMP2019, "&gt;", 4);
STRING_LITERAL(TMP2020, "&quot;", 6);
STRING_LITERAL(TMP2021, "\\_", 2);
STRING_LITERAL(TMP2022, "\\symbol{123}", 12);
STRING_LITERAL(TMP2023, "\\symbol{125}", 12);
STRING_LITERAL(TMP2024, "\\symbol{91}", 11);
STRING_LITERAL(TMP2025, "\\symbol{93}", 11);
STRING_LITERAL(TMP2026, "\\symbol{92}", 11);
STRING_LITERAL(TMP2027, "\\$", 2);
STRING_LITERAL(TMP2028, "\\&", 2);
STRING_LITERAL(TMP2029, "\\#", 2);
STRING_LITERAL(TMP2030, "\\%", 2);
STRING_LITERAL(TMP2031, "\\symbol{126}", 12);
STRING_LITERAL(TMP2032, "\\symbol{64}", 11);
STRING_LITERAL(TMP2033, "\\symbol{94}", 11);
STRING_LITERAL(TMP2034, "\\symbol{96}", 11);
STRING_LITERAL(TMP2035, "author", 6);
STRING_LITERAL(TMP2036, "authors", 7);
STRING_LITERAL(TMP2037, "version", 7);
STRING_LITERAL(TMP2038, "<tr>$1</tr>\015\012", 13);
STRING_LITERAL(TMP2039, "$1", 2);
STRING_LITERAL(TMP2040, "<th class=\"docinfo-name\">$1:</th>", 33);
STRING_LITERAL(TMP2041, "\\item[$1:]", 10);
STRING_LITERAL(TMP2042, "<td>$1</td>", 11);
STRING_LITERAL(TMP2043, " $1\015\012", 5);
STRING_LITERAL(TMP2044, "<table frame=\"void\">$1</table>", 30);
STRING_LITERAL(TMP2045, "\\begin{description}\015\012$1\\end{description}\015\012", 42);
STRING_LITERAL(TMP2046, "<th align=\"left\">$1</th>", 24);
STRING_LITERAL(TMP2047, "\\item[$1]", 9);
STRING_LITERAL(TMP2048, "<td align=\"left\">$1</td>\015\012", 26);
STRING_LITERAL(TMP2050, "false renderRstToOut", 20);
STRING_LITERAL(TMP2051, "<pre>$1</pre>\015\012", 15);
STRING_LITERAL(TMP2052, "\\begin{rstpre}\015\012$1\015\012\\end{rstpre}\015\012", 34);
STRING_LITERAL(TMP2053, "<p>$1</p>", 9);
STRING_LITERAL(TMP2054, "$1<br />", 8);
STRING_LITERAL(TMP2055, "$1\\\\\015\012", 6);
STRING_LITERAL(TMP2056, "<blockquote><p>$1</p></blockquote>\015\012", 36);
STRING_LITERAL(TMP2057, "\\begin{quote}$1\\end{quote}\015\012", 28);
STRING_LITERAL(TMP2058, "<table border=\"1\" class=\"docutils\">$1</table>", 45);
STRING_LITERAL(TMP2059, "\\begin{table}\\begin{rsttab}{", 28);
STRING_LITERAL(TMP2060, "|X", 2);
STRING_LITERAL(TMP2061, "|}\015\012\\hline\015\012$1\\end{rsttab}\\end{table}", 37);
STRING_LITERAL(TMP2062, " & ", 3);
STRING_LITERAL(TMP2063, "\\\\\015\012\\hline\015\012", 12);
STRING_LITERAL(TMP2064, "<tr>", 4);
STRING_LITERAL(TMP2065, "</tr>\015\012", 7);
STRING_LITERAL(TMP2066, "<th>$1</th>", 11);
STRING_LITERAL(TMP2067, "\\textbf{$1}", 11);
STRING_LITERAL(TMP2068, "<a class=\"reference external\" href=\"#$2\">$1</a>", 47);
STRING_LITERAL(TMP2069, "$1\\ref{$2}", 10);
STRING_LITERAL(TMP2070, "<a class=\"reference external\" href=\"$1\">$1</a>", 46);
STRING_LITERAL(TMP2071, "\\href{$1}{$1}", 13);
STRING_LITERAL(TMP2072, "<a class=\"reference external\" href=\"$2\">$1</a>", 46);
STRING_LITERAL(TMP2073, "\\href{$2}{$1}", 13);
STRING_LITERAL(TMP2075, "scale", 5);
STRING_LITERAL(TMP2076, " scale=\"$1\"", 11);
STRING_LITERAL(TMP2077, " scale=$1", 9);
STRING_LITERAL(TMP2078, "height", 6);
STRING_LITERAL(TMP2079, " height=\"$1\"", 12);
STRING_LITERAL(TMP2080, " height=$1", 10);
STRING_LITERAL(TMP2081, "width", 5);
STRING_LITERAL(TMP2082, " width=\"$1\"", 11);
STRING_LITERAL(TMP2083, " width=$1", 9);
STRING_LITERAL(TMP2084, "alt", 3);
STRING_LITERAL(TMP2085, " alt=\"$1\"", 9);
STRING_LITERAL(TMP2086, "align", 5);
STRING_LITERAL(TMP2087, " align=\"$1\"", 11);
STRING_LITERAL(TMP2088, "[$1]", 4);
STRING_LITERAL(TMP2089, "<img src=\"$1\"$2 />", 18);
STRING_LITERAL(TMP2090, "\\includegraphics$2{$1}", 22);
STRING_LITERAL(TMP2097, "<pre>", 5);
STRING_LITERAL(TMP2098, "\\begin{rstpre}\015\012", 16);
STRING_LITERAL(TMP2258, "<span class=\"$2\">$1</span>", 26);
STRING_LITERAL(TMP2259, "\\span$2{$1}", 11);
extern NIM_CONST TY303071 tokenclasstostr_303070;
STRING_LITERAL(TMP2293, "</pre>", 6);
STRING_LITERAL(TMP2294, "\015\012\\end{rstpre}\015\012", 16);
STRING_LITERAL(TMP2295, "<div>$1</div>", 13);
STRING_LITERAL(TMP2296, "<div class=\"$1\">$2</div>", 24);
STRING_LITERAL(TMP2297, "$2", 2);
STRING_LITERAL(TMP2298, "|$1|", 4);
STRING_LITERAL(TMP2299, "<sub>$1</sub>", 13);
STRING_LITERAL(TMP2300, "\\rstsub{$1}", 11);
STRING_LITERAL(TMP2301, "<sup>$1</sup>", 13);
STRING_LITERAL(TMP2302, "\\rstsup{$1}", 11);
STRING_LITERAL(TMP2303, "<em>$1</em>", 11);
STRING_LITERAL(TMP2304, "\\emph{$1}", 9);
STRING_LITERAL(TMP2305, "<strong>$1</strong>", 19);
STRING_LITERAL(TMP2306, "<strong><em>$1</em></strong>", 28);
STRING_LITERAL(TMP2307, "\\textbf{emph{$1}}", 17);
STRING_LITERAL(TMP2308, "<cite>$1</cite>", 15);
STRING_LITERAL(TMP2309, "html", 4);
STRING_LITERAL(TMP2310, "\\", 1);
STRING_LITERAL(TMP2311, "\\\\", 2);
STRING_LITERAL(TMP2312, "\015\012", 2);
STRING_LITERAL(TMP2313, "\\n", 2);
STRING_LITERAL(TMP2314, "\011", 1);
STRING_LITERAL(TMP2315, "\\t", 2);
STRING_LITERAL(TMP2316, "<span id=\"$1\">$2</span>", 23);
STRING_LITERAL(TMP2317, "$2\\label{$1}", 12);
STRING_LITERAL(TMP2318, "<tt class=\"docutils literal\"><span class=\"pre\">$1</span></tt>", 61);
STRING_LITERAL(TMP2319, "\\texttt{$1}", 11);
STRING_LITERAL(TMP2320, "<img src=\"/images/smilies/$1.gif\" width=\"15\" \015\012        height=\""
"17\" hspace=\"2\" vspace=\"2\" />", 91);
STRING_LITERAL(TMP2321, "\\includegraphics{$1}", 20);
STRING_LITERAL(TMP4330, "split.item.toc", 14);
STRING_LITERAL(TMP4401, "<li><a class=\"reference\" id=\"$1_toc\" href=\"#$1\">$2</a></li>\015\012", 61);
STRING_LITERAL(TMP4402, "\\item\\label{$1_toc} $2\\ref{$1}\015\012", 32);
STRING_LITERAL(TMP4403, "<ul class=\"simple\">$1</ul>", 26);
STRING_LITERAL(TMP4404, "\\begin{enumerate}$1\\end{enumerate}", 34);
STRING_LITERAL(TMP4482, "*", 1);
STRING_LITERAL(TMP4483, ".idx", 4);
STRING_LITERAL(TMP4484, "<dt><span>$1</span></dt><ul class=\"simple\"><dd>\015\012", 49);
STRING_LITERAL(TMP4485, "<li><a class=\"reference external\"\015\012          title=\"$3\" href=\"$"
"1\">$2</a></li>\015\012          ", 89);
STRING_LITERAL(TMP4486, "<li><a class=\"reference external\" href=\"$1\">$2</a></li>\015\012      "
"    ", 67);
STRING_LITERAL(TMP4487, "</ul></dd>\015\012", 12);
NimStringDesc* splitter_307149;
extern tgcheap42816 gch_42844;
extern TNimType NTI303015; /* TGeneralTokenizer */
extern TNimType NTI2409; /* TObject */
TNimType NTI307012; /* TRstGenerator */
TNimType NTI307006; /* TOutputTarget */
extern TNimType NTI122812; /* PStringTable */
extern TNimType NTI106; /* int */
TNimType NTI307008; /* TTocEntry */
extern TNimType NTI295005; /* PRstNode */
extern TNimType NTI143; /* string */
TNimType NTI307028; /* seq[TTocEntry] */
extern TNimType NTI134; /* bool */
extern TNimType NTI296010; /* TRstParseOptions */
extern TNimType NTI296018; /* TFindFileHandler */
extern TNimType NTI296016; /* TMsgHandler */
TNimType NTI307036; /* array[TMetaEnum, string] */
TNimType NTI307505; /* TIndexEntry */
TNimType NTI307574; /* seq[TIndexEntry] */
extern TY95839 Dl_95838;
extern TY96003 Dl_96002;

static N_INLINE(tcell40888*, usrtocell_44243)(void* usr) {
	tcell40888* result;
	result = 0;
	result = ((tcell40888*) ((NI)((NU32)(((NI) (usr))) - (NU32)(((NI)sizeof(tcell40888))))));
	return result;
}

static N_INLINE(void, rtladdzct_45802)(tcell40888* c) {
	addzct_44218(&gch_42844.Zct, c);
}

static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	tcell40888* c;
	c = usrtocell_44243(p);
	{
		(*c).Refcount -= 8;
		if (!((NU32)((*c).Refcount) < (NU32)(8))) goto LA3;
		rtladdzct_45802(c);
	}
	LA3: ;
}

N_NIMCALL(void, renderaux_307347)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result) {
	NI i_307365;
	NI HEX3Atmp_307366;
	NI LOC1;
	NI res_307368;
	i_307365 = 0;
	HEX3Atmp_307366 = 0;
	LOC1 = 0;
	LOC1 = len_295080(n);
	HEX3Atmp_307366 = (NI32)(LOC1 - 1);
	res_307368 = 0;
	while (1) {
		if (!(res_307368 <= HEX3Atmp_307366)) goto LA2;
		i_307365 = res_307368;
		renderrsttoout_307339(d, (*n).Sons->data[i_307365], result);
		res_307368 += 1;
	} LA2: ;
}

static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src) {
	{
		tcell40888* c;
		if (!!((src == NIM_NIL))) goto LA3;
		c = usrtocell_44243(src);
		(*c).Refcount += 8;
	}
	LA3: ;
	{
		tcell40888* c;
		if (!!(((*dest) == NIM_NIL))) goto LA7;
		c = usrtocell_44243((*dest));
		{
			(*c).Refcount -= 8;
			if (!((NU32)((*c).Refcount) < (NU32)(8))) goto LA11;
			rtladdzct_45802(c);
		}
		LA11: ;
	}
	LA7: ;
	(*dest) = src;
}

N_NIMCALL(void, dispa_307319)(NU8 target, NimStringDesc** dest, NimStringDesc* xml, NimStringDesc* tex, NimStringDesc** args, NI argsLen0) {
	{
		if (!!((target == ((NU8) 1)))) goto LA3;
		nsuAddf(dest, xml, args, argsLen0);
	}
	goto LA1;
	LA3: ;
	{
		nsuAddf(dest, tex, args, argsLen0);
	}
	LA1: ;
}

N_NIMCALL(void, renderheadline_307879)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result) {
	NimStringDesc* tmp;
	NI i_307898;
	NI HEX3Atmp_307955;
	NI LOC1;
	NI res_307957;
	NimStringDesc* refname;
	tmp = copyString(((NimStringDesc*) &TMP1992));
	i_307898 = 0;
	HEX3Atmp_307955 = 0;
	LOC1 = 0;
	LOC1 = len_295080(n);
	HEX3Atmp_307955 = (NI32)(LOC1 - 1);
	res_307957 = 0;
	while (1) {
		if (!(res_307957 <= HEX3Atmp_307955)) goto LA2;
		i_307898 = res_307957;
		renderrsttoout_307339(d, (*n).Sons->data[i_307898], &tmp);
		res_307957 += 1;
	} LA2: ;
	unsureAsgnRef((void**) &(*d).Currentsection, copyString(tmp));
	refname = rstnodetorefname_296051(n);
	{
		NI length;
		NimStringDesc* LOC7;
		NimStringDesc* LOC8;
		TY164283 LOC9;
		if (!(*d).Hastoc) goto LA5;
		length = (*d).Tocpart->Sup.len;
		(*d).Tocpart = (TY307028*) setLengthSeq(&((*d).Tocpart)->Sup, sizeof(ttocentry307008), (NI32)(length + 1));
		LOC7 = 0;
		LOC7 = (*d).Tocpart->data[length].Refname; (*d).Tocpart->data[length].Refname = copyStringRC1(refname);
		if (LOC7) nimGCunrefNoCycle(LOC7);
		asgnRefNoCycle((void**) &(*d).Tocpart->data[length].N, n);
		LOC8 = 0;
		LOC8 = (*d).Tocpart->data[length].Header; (*d).Tocpart->data[length].Header = copyStringRC1(tmp);
		if (LOC8) nimGCunrefNoCycle(LOC8);
		memset((void*)LOC9, 0, sizeof(LOC9));
		LOC9[0] = nimIntToStr((*n).Level);
		LOC9[1] = copyString((*d).Tocpart->data[length].Refname);
		LOC9[2] = copyString(tmp);
		LOC9[3] = nimCharToStr(((NIM_CHAR) (((NI) ((NI32)((NI32)((*n).Level - 1) + 65))))));
		dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP1994), ((NimStringDesc*) &TMP1995), LOC9, 4);
	}
	goto LA3;
	LA5: ;
	{
		TY164283 LOC11;
		memset((void*)LOC11, 0, sizeof(LOC11));
		LOC11[0] = nimIntToStr((*n).Level);
		LOC11[1] = copyString(refname);
		LOC11[2] = copyString(tmp);
		LOC11[3] = nimCharToStr(((NIM_CHAR) (((NI) ((NI32)((NI32)((*n).Level - 1) + 65))))));
		dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP1996), ((NimStringDesc*) &TMP1995), LOC11, 4);
	}
	LA3: ;
}

N_NIMCALL(void, renderoverline_307962)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result) {
	{
		NI i_307980;
		NI HEX3Atmp_308024;
		NI LOC5;
		NI res_308026;
		if (!((*d).Meta[(((NU8) 1))- 0]->Sup.len == 0)) goto LA3;
		unsureAsgnRef((void**) &(*d).Currentsection, copyString((*d).Meta[(((NU8) 1))- 0]));
		i_307980 = 0;
		HEX3Atmp_308024 = 0;
		LOC5 = 0;
		LOC5 = len_295080(n);
		HEX3Atmp_308024 = (NI32)(LOC5 - 1);
		res_308026 = 0;
		while (1) {
			if (!(res_308026 <= HEX3Atmp_308024)) goto LA6;
			i_307980 = res_308026;
			renderrsttoout_307339(d, (*n).Sons->data[i_307980], &(*d).Meta[(((NU8) 1))- 0]);
			res_308026 += 1;
		} LA6: ;
	}
	goto LA1;
	LA3: ;
	{
		NI i_307994;
		NI HEX3Atmp_308028;
		NI LOC10;
		NI res_308030;
		if (!((*d).Meta[(((NU8) 2))- 0]->Sup.len == 0)) goto LA8;
		unsureAsgnRef((void**) &(*d).Currentsection, copyString((*d).Meta[(((NU8) 2))- 0]));
		i_307994 = 0;
		HEX3Atmp_308028 = 0;
		LOC10 = 0;
		LOC10 = len_295080(n);
		HEX3Atmp_308028 = (NI32)(LOC10 - 1);
		res_308030 = 0;
		while (1) {
			if (!(res_308030 <= HEX3Atmp_308028)) goto LA11;
			i_307994 = res_308030;
			renderrsttoout_307339(d, (*n).Sons->data[i_307994], &(*d).Meta[(((NU8) 2))- 0]);
			res_308030 += 1;
		} LA11: ;
	}
	goto LA1;
	LA8: ;
	{
		NimStringDesc* tmp;
		NI i_308009;
		NI HEX3Atmp_308032;
		NI LOC13;
		NI res_308034;
		TY164283 LOC15;
		tmp = copyString(((NimStringDesc*) &TMP1992));
		i_308009 = 0;
		HEX3Atmp_308032 = 0;
		LOC13 = 0;
		LOC13 = len_295080(n);
		HEX3Atmp_308032 = (NI32)(LOC13 - 1);
		res_308034 = 0;
		while (1) {
			if (!(res_308034 <= HEX3Atmp_308032)) goto LA14;
			i_308009 = res_308034;
			renderrsttoout_307339(d, (*n).Sons->data[i_308009], &tmp);
			res_308034 += 1;
		} LA14: ;
		unsureAsgnRef((void**) &(*d).Currentsection, copyString(tmp));
		memset((void*)LOC15, 0, sizeof(LOC15));
		LOC15[0] = nimIntToStr((*n).Level);
		LOC15[1] = rstnodetorefname_296051(n);
		LOC15[2] = copyString(tmp);
		LOC15[3] = nimCharToStr(((NIM_CHAR) (((NI) ((NI32)((NI32)((*n).Level - 1) + 65))))));
		dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP1997), ((NimStringDesc*) &TMP1998), LOC15, 4);
	}
	LA1: ;
}

N_NIMCALL(void, renderaux_307373)(trstgenerator307012* d, trstnode295009* n, NimStringDesc* frmta, NimStringDesc* frmtb, NimStringDesc** result) {
	NimStringDesc* tmp;
	NI i_307394;
	NI HEX3Atmp_307413;
	NI LOC1;
	NI res_307415;
	tmp = copyString(((NimStringDesc*) &TMP1992));
	i_307394 = 0;
	HEX3Atmp_307413 = 0;
	LOC1 = 0;
	LOC1 = len_295080(n);
	HEX3Atmp_307413 = (NI32)(LOC1 - 1);
	res_307415 = 0;
	while (1) {
		if (!(res_307415 <= HEX3Atmp_307413)) goto LA2;
		i_307394 = res_307415;
		renderrsttoout_307339(d, (*n).Sons->data[i_307394], &tmp);
		res_307415 += 1;
	} LA2: ;
	{
		TY164002 LOC7;
		if (!!(((*d).Target == ((NU8) 1)))) goto LA5;
		memset((void*)LOC7, 0, sizeof(LOC7));
		LOC7[0] = copyString(tmp);
		nsuAddf(result, frmta, LOC7, 1);
	}
	goto LA3;
	LA5: ;
	{
		TY164002 LOC9;
		memset((void*)LOC9, 0, sizeof(LOC9));
		LOC9[0] = copyString(tmp);
		nsuAddf(result, frmtb, LOC9, 1);
	}
	LA3: ;
}

N_NIMCALL(NI, nextsplitpoint_307160)(NimStringDesc* s, NI start) {
	NI result;
	result = 0;
	result = start;
	while (1) {
		if (!(result < (NI32)(s->Sup.len + 0))) goto LA1;
		switch (((NU8)(s->data[result]))) {
		case 95:
		{
			goto BeforeRet;
		}
		break;
		case 97 ... 122:
		{
			{
				if (!((NI32)(result + 1) < (NI32)(s->Sup.len + 0))) goto LA6;
				{
					if (!(((NU8)(s->data[(NI32)(result + 1)])) >= ((NU8)(65)) && ((NU8)(s->data[(NI32)(result + 1)])) <= ((NU8)(90)))) goto LA10;
					goto BeforeRet;
				}
				LA10: ;
			}
			LA6: ;
		}
		break;
		default:
		{
		}
		break;
		}
		result += 1;
	} LA1: ;
	result -= 1;
	BeforeRet: ;
	return result;
}

static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b) {
	NIM_BOOL result;
	NIM_BOOL LOC11;
	int LOC13;
	result = 0;
	{
		if (!(a == b)) goto LA3;
		result = NIM_TRUE;
		goto BeforeRet;
	}
	LA3: ;
	{
		NIM_BOOL LOC7;
		LOC7 = 0;
		LOC7 = (a == NIM_NIL);
		if (LOC7) goto LA8;
		LOC7 = (b == NIM_NIL);
		LA8: ;
		if (!LOC7) goto LA9;
		result = NIM_FALSE;
		goto BeforeRet;
	}
	LA9: ;
	LOC11 = 0;
	LOC11 = ((*a).Sup.len == (*b).Sup.len);
	if (!(LOC11)) goto LA12;
	LOC13 = 0;
	LOC13 = memcmp(((NCSTRING) ((*a).data)), ((NCSTRING) ((*b).data)), (NI32)((*a).Sup.len * 1));
	LOC11 = (LOC13 == ((NI32) 0));
	LA12: ;
	result = LOC11;
	goto BeforeRet;
	BeforeRet: ;
	return result;
}

static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	memcpy(((NCSTRING) (&(*dest).data[((*dest).Sup.len)- 0])), ((NCSTRING) ((*src).data)), (NI32)((*src).Sup.len + 1));
	(*dest).Sup.len += (*src).Sup.len;
}

N_NIMCALL(void, addxmlchar_307128)(NimStringDesc** dest, NIM_CHAR c) {
	switch (((NU8)(c))) {
	case 38:
	{
		(*dest) = resizeString((*dest), 5);
appendString((*dest), ((NimStringDesc*) &TMP2017));
	}
	break;
	case 60:
	{
		(*dest) = resizeString((*dest), 4);
appendString((*dest), ((NimStringDesc*) &TMP2018));
	}
	break;
	case 62:
	{
		(*dest) = resizeString((*dest), 4);
appendString((*dest), ((NimStringDesc*) &TMP2019));
	}
	break;
	case 34:
	{
		(*dest) = resizeString((*dest), 6);
appendString((*dest), ((NimStringDesc*) &TMP2020));
	}
	break;
	default:
	{
		(*dest) = addChar((*dest), c);
	}
	break;
	}
}

N_NIMCALL(void, addtexchar_307142)(NimStringDesc** dest, NIM_CHAR c) {
	switch (((NU8)(c))) {
	case 95:
	{
		(*dest) = resizeString((*dest), 2);
appendString((*dest), ((NimStringDesc*) &TMP2021));
	}
	break;
	case 123:
	{
		(*dest) = resizeString((*dest), 12);
appendString((*dest), ((NimStringDesc*) &TMP2022));
	}
	break;
	case 125:
	{
		(*dest) = resizeString((*dest), 12);
appendString((*dest), ((NimStringDesc*) &TMP2023));
	}
	break;
	case 91:
	{
		(*dest) = resizeString((*dest), 11);
appendString((*dest), ((NimStringDesc*) &TMP2024));
	}
	break;
	case 93:
	{
		(*dest) = resizeString((*dest), 11);
appendString((*dest), ((NimStringDesc*) &TMP2025));
	}
	break;
	case 92:
	{
		(*dest) = resizeString((*dest), 11);
appendString((*dest), ((NimStringDesc*) &TMP2026));
	}
	break;
	case 36:
	{
		(*dest) = resizeString((*dest), 2);
appendString((*dest), ((NimStringDesc*) &TMP2027));
	}
	break;
	case 38:
	{
		(*dest) = resizeString((*dest), 2);
appendString((*dest), ((NimStringDesc*) &TMP2028));
	}
	break;
	case 35:
	{
		(*dest) = resizeString((*dest), 2);
appendString((*dest), ((NimStringDesc*) &TMP2029));
	}
	break;
	case 37:
	{
		(*dest) = resizeString((*dest), 2);
appendString((*dest), ((NimStringDesc*) &TMP2030));
	}
	break;
	case 126:
	{
		(*dest) = resizeString((*dest), 12);
appendString((*dest), ((NimStringDesc*) &TMP2031));
	}
	break;
	case 64:
	{
		(*dest) = resizeString((*dest), 11);
appendString((*dest), ((NimStringDesc*) &TMP2032));
	}
	break;
	case 94:
	{
		(*dest) = resizeString((*dest), 11);
appendString((*dest), ((NimStringDesc*) &TMP2033));
	}
	break;
	case 96:
	{
		(*dest) = resizeString((*dest), 11);
appendString((*dest), ((NimStringDesc*) &TMP2034));
	}
	break;
	default:
	{
		(*dest) = addChar((*dest), c);
	}
	break;
	}
}

static N_INLINE(void, escchar_307152)(NU8 target, NimStringDesc** dest, NIM_CHAR c) {
	switch (target) {
	case ((NU8) 0):
	{
		addxmlchar_307128(dest, c);
	}
	break;
	case ((NU8) 1):
	{
		addtexchar_307142(dest, c);
	}
	break;
	}
}

N_NIMCALL(NimStringDesc*, esc_307216)(NU8 target, NimStringDesc* s, NI splitafter) {
	NimStringDesc* result;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP1992));
	{
		NI partlen;
		NI j;
		if (!(0 <= splitafter)) goto LA3;
		partlen = 0;
		j = 0;
		while (1) {
			NI k;
			NI i_307239;
			NI res_307272;
			if (!(j < s->Sup.len)) goto LA5;
			k = nextsplitpoint_307160(s, j);
			{
				NIM_BOOL LOC8;
				LOC8 = 0;
				LOC8 = !(eqStrings(splitter_307149, ((NimStringDesc*) &TMP2016)));
				if (LOC8) goto LA9;
				LOC8 = (splitafter < (NI32)((NI32)((NI32)(partlen + k) - j) + 1));
				LA9: ;
				if (!LOC8) goto LA10;
				partlen = 0;
				result = resizeString(result, splitter_307149->Sup.len + 0);
appendString(result, splitter_307149);
			}
			LA10: ;
			i_307239 = 0;
			res_307272 = j;
			while (1) {
				if (!(res_307272 <= k)) goto LA12;
				i_307239 = res_307272;
				escchar_307152(target, &result, s->data[i_307239]);
				res_307272 += 1;
			} LA12: ;
			partlen += (NI32)((NI32)(k - j) + 1);
			j = (NI32)(k + 1);
		} LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		NI i_307269;
		NI HEX3Atmp_307274;
		NI res_307276;
		i_307269 = 0;
		HEX3Atmp_307274 = 0;
		HEX3Atmp_307274 = (NI32)(s->Sup.len - 1);
		res_307276 = 0;
		while (1) {
			if (!(res_307276 <= HEX3Atmp_307274)) goto LA14;
			i_307269 = res_307276;
			escchar_307152(target, &result, s->data[i_307269]);
			res_307276 += 1;
		} LA14: ;
	}
	LA1: ;
	return result;
}

N_NIMCALL(void, renderfield_308282)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result) {
	NIM_BOOL b;
	b = NIM_FALSE;
	{
		NimStringDesc* fieldname;
		NimStringDesc* fieldval;
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		if (!((*d).Target == ((NU8) 1))) goto LA3;
		fieldname = addnodes_296055((*n).Sons->data[0]);
		LOC5 = 0;
		LOC5 = addnodes_296055((*n).Sons->data[1]);
		LOC6 = 0;
		LOC6 = nsuStrip(LOC5, NIM_TRUE, NIM_TRUE);
		fieldval = esc_307216((*d).Target, LOC6, -1);
		{
			NIM_BOOL LOC9;
			NI LOC10;
			NI LOC12;
			LOC9 = 0;
			LOC10 = 0;
			LOC10 = nsuCmpIgnoreStyle(fieldname, ((NimStringDesc*) &TMP2035));
			LOC9 = (LOC10 == 0);
			if (LOC9) goto LA11;
			LOC12 = 0;
			LOC12 = nsuCmpIgnoreStyle(fieldname, ((NimStringDesc*) &TMP2036));
			LOC9 = (LOC12 == 0);
			LA11: ;
			if (!LOC9) goto LA13;
			{
				if (!((*d).Meta[(((NU8) 3))- 0]->Sup.len == 0)) goto LA17;
				unsureAsgnRef((void**) &(*d).Meta[(((NU8) 3))- 0], copyString(fieldval));
				b = NIM_TRUE;
			}
			LA17: ;
		}
		goto LA7;
		LA13: ;
		{
			NI LOC20;
			LOC20 = 0;
			LOC20 = nsuCmpIgnoreStyle(fieldname, ((NimStringDesc*) &TMP2037));
			if (!(LOC20 == 0)) goto LA21;
			{
				if (!((*d).Meta[(((NU8) 4))- 0]->Sup.len == 0)) goto LA25;
				unsureAsgnRef((void**) &(*d).Meta[(((NU8) 4))- 0], copyString(fieldval));
				b = NIM_TRUE;
			}
			LA25: ;
		}
		goto LA7;
		LA21: ;
		LA7: ;
	}
	LA3: ;
	{
		if (!!(b)) goto LA29;
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2038), ((NimStringDesc*) &TMP2039), result);
	}
	LA29: ;
}

N_NIMCALL(NimStringDesc*, texcolumns_308258)(trstnode295009* n) {
	NimStringDesc* result;
	NI i_308274;
	NI HEX3Atmp_308275;
	NI res_308277;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP1992));
	i_308274 = 0;
	HEX3Atmp_308275 = 0;
	HEX3Atmp_308275 = len_295080(n);
	res_308277 = 1;
	while (1) {
		if (!(res_308277 <= HEX3Atmp_308275)) goto LA1;
		i_308274 = res_308277;
		result = resizeString(result, 2);
appendString(result, ((NimStringDesc*) &TMP2060));
		res_308277 += 1;
	} LA1: ;
	return result;
}

N_NIMCALL(NimStringDesc*, dispf_307300)(NU8 target, NimStringDesc* xml, NimStringDesc* tex, NimStringDesc** args, NI argsLen0) {
	NimStringDesc* result;
	result = 0;
	{
		if (!!((target == ((NU8) 1)))) goto LA3;
		result = nsuFormatOpenArray(xml, args, argsLen0);
	}
	goto LA1;
	LA3: ;
	{
		result = nsuFormatOpenArray(tex, args, argsLen0);
	}
	LA1: ;
	return result;
}

N_NIMCALL(void, renderimage_308091)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result) {
	NimStringDesc* options;
	NimStringDesc* s;
	TY136887 LOC31;
	options = copyString(((NimStringDesc*) &TMP1992));
	s = getfieldvalue_296059(n, ((NimStringDesc*) &TMP2075));
	{
		TY164002 LOC5;
		if (!!(((s) && (s)->Sup.len == 0))) goto LA3;
		memset((void*)LOC5, 0, sizeof(LOC5));
		LOC5[0] = nsuStrip(s, NIM_TRUE, NIM_TRUE);
		dispa_307319((*d).Target, &options, ((NimStringDesc*) &TMP2076), ((NimStringDesc*) &TMP2077), LOC5, 1);
	}
	LA3: ;
	s = getfieldvalue_296059(n, ((NimStringDesc*) &TMP2078));
	{
		TY164002 LOC10;
		if (!!(((s) && (s)->Sup.len == 0))) goto LA8;
		memset((void*)LOC10, 0, sizeof(LOC10));
		LOC10[0] = nsuStrip(s, NIM_TRUE, NIM_TRUE);
		dispa_307319((*d).Target, &options, ((NimStringDesc*) &TMP2079), ((NimStringDesc*) &TMP2080), LOC10, 1);
	}
	LA8: ;
	s = getfieldvalue_296059(n, ((NimStringDesc*) &TMP2081));
	{
		TY164002 LOC15;
		if (!!(((s) && (s)->Sup.len == 0))) goto LA13;
		memset((void*)LOC15, 0, sizeof(LOC15));
		LOC15[0] = nsuStrip(s, NIM_TRUE, NIM_TRUE);
		dispa_307319((*d).Target, &options, ((NimStringDesc*) &TMP2082), ((NimStringDesc*) &TMP2083), LOC15, 1);
	}
	LA13: ;
	s = getfieldvalue_296059(n, ((NimStringDesc*) &TMP2084));
	{
		TY164002 LOC20;
		if (!!(((s) && (s)->Sup.len == 0))) goto LA18;
		memset((void*)LOC20, 0, sizeof(LOC20));
		LOC20[0] = nsuStrip(s, NIM_TRUE, NIM_TRUE);
		dispa_307319((*d).Target, &options, ((NimStringDesc*) &TMP2085), ((NimStringDesc*) &TMP1992), LOC20, 1);
	}
	LA18: ;
	s = getfieldvalue_296059(n, ((NimStringDesc*) &TMP2086));
	{
		TY164002 LOC25;
		if (!!(((s) && (s)->Sup.len == 0))) goto LA23;
		memset((void*)LOC25, 0, sizeof(LOC25));
		LOC25[0] = nsuStrip(s, NIM_TRUE, NIM_TRUE);
		dispa_307319((*d).Target, &options, ((NimStringDesc*) &TMP2087), ((NimStringDesc*) &TMP1992), LOC25, 1);
	}
	LA23: ;
	{
		TY164002 LOC30;
		if (!(0 < options->Sup.len)) goto LA28;
		memset((void*)LOC30, 0, sizeof(LOC30));
		LOC30[0] = copyString(options);
		options = dispf_307300((*d).Target, ((NimStringDesc*) &TMP2039), ((NimStringDesc*) &TMP2088), LOC30, 1);
	}
	LA28: ;
	memset((void*)LOC31, 0, sizeof(LOC31));
	LOC31[0] = getargument_296064(n);
	LOC31[1] = copyString(options);
	dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP2089), ((NimStringDesc*) &TMP2090), LOC31, 2);
	{
		NI LOC34;
		LOC34 = 0;
		LOC34 = len_295080(n);
		if (!(3 <= LOC34)) goto LA35;
		renderrsttoout_307339(d, (*n).Sons->data[2], result);
	}
	LA35: ;
}

N_NIMCALL(void, rendercodeblock_308147)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result) {
	trstnode295009* m;
	NimStringDesc* langstr;
	NimStringDesc* LOC5;
	NU8 lang;
	TY521288 LOC11;
	TY521288 LOC24;
	{
		if (!((*n).Sons->data[2] == NIM_NIL)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	m = (*(*n).Sons->data[2]).Sons->data[0];
	LOC5 = 0;
	LOC5 = getargument_296064(n);
	langstr = nsuStrip(LOC5, NIM_TRUE, NIM_TRUE);
	lang = 0;
	{
		if (!((langstr) && (langstr)->Sup.len == 0)) goto LA8;
		lang = ((NU8) 1);
	}
	goto LA6;
	LA8: ;
	{
		lang = getsourcelanguage_303080(langstr);
	}
	LA6: ;
	memset((void*)LOC11, 0, sizeof(LOC11));
	dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP2097), ((NimStringDesc*) &TMP2098), LOC11, 0);
	{
		if (!(lang == ((NU8) 0))) goto LA14;
		(*d).Msghandler((*d).Filename, 1, 0, ((NU8) 8), langstr);
		(*result) = resizeString((*result), (*m).Text->Sup.len + 0);
appendString((*result), (*m).Text);
	}
	goto LA12;
	LA14: ;
	{
		tgeneraltokenizer303015 g;
		memset((void*)&g, 0, sizeof(g));
		g.Sup.m_type = (&NTI303015);
		initgeneraltokenizer_303192(&g, (*m).Text);
		while (1) {
			getnexttoken_306067(&g, lang);
			switch (g.Kind) {
			case ((NU8) 0):
			{
				goto LA17;
			}
			break;
			case ((NU8) 1):
			case ((NU8) 2):
			{
				NimStringDesc* LOC20;
				LOC20 = 0;
				LOC20 = copyStrLast((*m).Text, g.Start, (NI32)((NI32)(g.Length + g.Start) - 1));
				(*result) = resizeString((*result), LOC20->Sup.len + 0);
appendString((*result), LOC20);
			}
			break;
			default:
			{
				TY136887 LOC22;
				NimStringDesc* LOC23;
				memset((void*)LOC22, 0, sizeof(LOC22));
				LOC23 = 0;
				LOC23 = copyStrLast((*m).Text, g.Start, (NI32)((NI32)(g.Length + g.Start) - 1));
				LOC22[0] = esc_307216((*d).Target, LOC23, -1);
				LOC22[1] = copyString(tokenclasstostr_303070[(g.Kind)- 0]);
				dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP2258), ((NimStringDesc*) &TMP2259), LOC22, 2);
			}
			break;
			}
		} LA17: ;
		deinitgeneraltokenizer_303199(&g);
	}
	LA12: ;
	memset((void*)LOC24, 0, sizeof(LOC24));
	dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP2293), ((NimStringDesc*) &TMP2294), LOC24, 0);
	BeforeRet: ;
}

N_NIMCALL(void, rendercontainer_308239)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result) {
	NimStringDesc* tmp;
	NimStringDesc* arg;
	NimStringDesc* LOC1;
	tmp = copyString(((NimStringDesc*) &TMP1992));
	renderrsttoout_307339(d, (*n).Sons->data[2], &tmp);
	LOC1 = 0;
	LOC1 = getargument_296064(n);
	arg = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE);
	{
		TY164002 LOC6;
		if (!((arg) && (arg)->Sup.len == 0)) goto LA4;
		memset((void*)LOC6, 0, sizeof(LOC6));
		LOC6[0] = copyString(tmp);
		dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP2295), ((NimStringDesc*) &TMP2039), LOC6, 1);
	}
	goto LA2;
	LA4: ;
	{
		TY136887 LOC8;
		memset((void*)LOC8, 0, sizeof(LOC8));
		LOC8[0] = copyString(arg);
		LOC8[1] = copyString(tmp);
		dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP2296), ((NimStringDesc*) &TMP2297), LOC8, 2);
	}
	LA2: ;
}

static N_INLINE(void, appendChar)(NimStringDesc* dest, NIM_CHAR c) {
	(*dest).data[((*dest).Sup.len)- 0] = c;
	(*dest).data[((NI32)((*dest).Sup.len + 1))- 0] = 0;
	(*dest).Sup.len += 1;
}

static N_INLINE(NI, HEX21HEX26_120015)(NI h, NI val) {
	NI result;
	result = 0;
	result = (NI)((NU32)(h) + (NU32)(val));
	result = (NI)((NU32)(result) + (NU32)((NI)((NU32)(result) << (NU32)(10))));
	result = (NI)(result ^ (NI)((NU32)(result) >> (NU32)(6)));
	return result;
}

static N_INLINE(NI, HEX21HEX24_120040)(NI h) {
	NI result;
	result = 0;
	result = (NI)((NU32)(h) + (NU32)((NI)((NU32)(h) << (NU32)(3))));
	result = (NI)(result ^ (NI)((NU32)(result) >> (NU32)(11)));
	result = (NI)((NU32)(result) + (NU32)((NI)((NU32)(result) << (NU32)(15))));
	return result;
}

N_NIMCALL(NI, hash_307446)(trstnode295009* n) {
	NI result;
	result = 0;
	{
		if (!((*n).Kind == ((NU8) 64))) goto LA3;
		result = hash_120827((*n).Text);
	}
	goto LA1;
	LA3: ;
	{
		NI LOC6;
		NI i_307481;
		NI HEX3Atmp_307482;
		NI LOC9;
		NI res_307484;
		LOC6 = 0;
		LOC6 = len_295080(n);
		if (!(0 < LOC6)) goto LA7;
		result = hash_307446((*n).Sons->data[0]);
		i_307481 = 0;
		HEX3Atmp_307482 = 0;
		LOC9 = 0;
		LOC9 = len_295080(n);
		HEX3Atmp_307482 = LOC9 - 1;
		res_307484 = 1;
		while (1) {
			NI LOC11;
			if (!(res_307484 <= HEX3Atmp_307482)) goto LA10;
			i_307481 = res_307484;
			LOC11 = 0;
			LOC11 = hash_307446((*n).Sons->data[i_307481]);
			result = HEX21HEX26_120015(result, LOC11);
			res_307484 += 1;
		} LA10: ;
		result = HEX21HEX24_120040(result);
	}
	goto LA1;
	LA7: ;
	LA1: ;
	return result;
}

N_NIMCALL(NimStringDesc*, quoteindexcolumn_307421)(NimStringDesc* text) {
	NimStringDesc* result;
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	result = 0;
	LOC1 = 0;
	LOC1 = nsuReplaceStr(text, ((NimStringDesc*) &TMP2310), ((NimStringDesc*) &TMP2311));
	LOC2 = 0;
	LOC2 = nsuReplaceStr(LOC1, ((NimStringDesc*) &TMP2312), ((NimStringDesc*) &TMP2313));
	result = nsuReplaceStr(LOC2, ((NimStringDesc*) &TMP2314), ((NimStringDesc*) &TMP2315));
	return result;
}

N_NIMCALL(void, setindexterm_307433)(trstgenerator307012* d, NimStringDesc* id, NimStringDesc* term, NimStringDesc* linktitle, NimStringDesc* linkdesc) {
	NimStringDesc* htmlfile;
	NimStringDesc* LOC1;
	(*d).Theindex = resizeString((*d).Theindex, term->Sup.len + 0);
appendString((*d).Theindex, term);
	(*d).Theindex = addChar((*d).Theindex, 9);
	LOC1 = 0;
	LOC1 = nosextractFilename((*d).Filename);
	htmlfile = noschangeFileExt(LOC1, ((NimStringDesc*) &TMP2309));
	(*d).Theindex = resizeString((*d).Theindex, htmlfile->Sup.len + 0);
appendString((*d).Theindex, htmlfile);
	(*d).Theindex = addChar((*d).Theindex, 35);
	(*d).Theindex = resizeString((*d).Theindex, id->Sup.len + 0);
appendString((*d).Theindex, id);
	{
		NIM_BOOL LOC4;
		NimStringDesc* LOC8;
		NimStringDesc* LOC9;
		NimStringDesc* LOC10;
		NimStringDesc* LOC11;
		LOC4 = 0;
		LOC4 = (0 < linktitle->Sup.len);
		if (LOC4) goto LA5;
		LOC4 = (0 < linkdesc->Sup.len);
		LA5: ;
		if (!LOC4) goto LA6;
		LOC8 = 0;
		LOC9 = 0;
		LOC9 = quoteindexcolumn_307421(linktitle);
		LOC8 = rawNewString(LOC9->Sup.len + 1);
appendChar(LOC8, 9);
appendString(LOC8, LOC9);
		(*d).Theindex = resizeString((*d).Theindex, LOC8->Sup.len + 0);
appendString((*d).Theindex, LOC8);
		LOC10 = 0;
		LOC11 = 0;
		LOC11 = quoteindexcolumn_307421(linkdesc);
		LOC10 = rawNewString(LOC11->Sup.len + 1);
appendChar(LOC10, 9);
appendString(LOC10, LOC11);
		(*d).Theindex = resizeString((*d).Theindex, LOC10->Sup.len + 0);
appendString((*d).Theindex, LOC10);
	}
	LA6: ;
	(*d).Theindex = resizeString((*d).Theindex, 2);
appendString((*d).Theindex, ((NimStringDesc*) &TMP2312));
}

N_NIMCALL(void, renderindexterm_307489)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result) {
	NimStringDesc* id;
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	NI LOC3;
	NimStringDesc* LOC4;
	NimStringDesc* term;
	TY136887 LOC5;
	LOC1 = 0;
	LOC2 = 0;
	LOC2 = rstnodetorefname_296051(n);
	LOC3 = 0;
	LOC3 = hash_307446(n);
	LOC4 = 0;
	LOC4 = nimIntToStr((NI32)abs(LOC3));
	LOC1 = rawNewString(LOC2->Sup.len + LOC4->Sup.len + 1);
appendString(LOC1, LOC2);
appendChar(LOC1, 95);
appendString(LOC1, LOC4);
	id = LOC1;
	term = copyString(((NimStringDesc*) &TMP1992));
	renderaux_307347(d, n, &term);
	setindexterm_307433(d, id, term, (*d).Currentsection, ((NimStringDesc*) &TMP1992));
	memset((void*)LOC5, 0, sizeof(LOC5));
	LOC5[0] = copyString(id);
	LOC5[1] = copyString(term);
	dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP2316), ((NimStringDesc*) &TMP2317), LOC5, 2);
}

N_NIMCALL(void, rendersmiley_308135)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result) {
	TY164002 LOC1;
	memset((void*)LOC1, 0, sizeof(LOC1));
	LOC1[0] = copyString((*n).Text);
	dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP2320), ((NimStringDesc*) &TMP2321), LOC1, 1);
}

N_NIMCALL(void, renderrsttoout_307339)(trstgenerator307012* d, trstnode295009* n, NimStringDesc** result) {
	{
		if (!(n == NIM_NIL)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	switch ((*n).Kind) {
	case ((NU8) 0):
	{
		renderaux_307347(d, n, result);
	}
	break;
	case ((NU8) 1):
	{
		renderheadline_307879(d, n, result);
	}
	break;
	case ((NU8) 2):
	{
		renderoverline_307962(d, n, result);
	}
	break;
	case ((NU8) 3):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP1999), ((NimStringDesc*) &TMP2000), result);
	}
	break;
	case ((NU8) 4):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2001), ((NimStringDesc*) &TMP2002), result);
	}
	break;
	case ((NU8) 5):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2003), ((NimStringDesc*) &TMP2004), result);
	}
	break;
	case ((NU8) 6):
	case ((NU8) 8):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2005), ((NimStringDesc*) &TMP2006), result);
	}
	break;
	case ((NU8) 7):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2007), ((NimStringDesc*) &TMP2008), result);
	}
	break;
	case ((NU8) 9):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2009), ((NimStringDesc*) &TMP2010), result);
	}
	break;
	case ((NU8) 10):
	{
		renderaux_307347(d, n, result);
	}
	break;
	case ((NU8) 11):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2011), ((NimStringDesc*) &TMP2012), result);
	}
	break;
	case ((NU8) 12):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2013), ((NimStringDesc*) &TMP2014), result);
	}
	break;
	case ((NU8) 13):
	{
		NimStringDesc* tmp;
		NI i_308338;
		NI HEX3Atmp_308407;
		NI LOC18;
		NI res_308409;
		tmp = copyString(((NimStringDesc*) &TMP1992));
		i_308338 = 0;
		HEX3Atmp_308407 = 0;
		LOC18 = 0;
		LOC18 = len_295080(n);
		HEX3Atmp_308407 = (NI32)(LOC18 - 1);
		res_308409 = 0;
		while (1) {
			if (!(res_308409 <= HEX3Atmp_308407)) goto LA19;
			i_308338 = res_308409;
			renderrsttoout_307339(d, (*n).Sons->data[i_308338], &tmp);
			res_308409 += 1;
		} LA19: ;
		{
			TY164002 LOC24;
			if (!!((tmp->Sup.len == 0))) goto LA22;
			memset((void*)LOC24, 0, sizeof(LOC24));
			LOC24[0] = copyString(tmp);
			dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP2015), ((NimStringDesc*) &TMP2010), LOC24, 1);
		}
		LA22: ;
	}
	break;
	case ((NU8) 14):
	{
		renderfield_308282(d, n, result);
	}
	break;
	case ((NU8) 15):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2040), ((NimStringDesc*) &TMP2041), result);
	}
	break;
	case ((NU8) 16):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2042), ((NimStringDesc*) &TMP2043), result);
	}
	break;
	case ((NU8) 51):
	{
		renderrsttoout_307339(d, (*n).Sons->data[2], result);
	}
	break;
	case ((NU8) 17):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2044), ((NimStringDesc*) &TMP2045), result);
	}
	break;
	case ((NU8) 18):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2038), ((NimStringDesc*) &TMP2039), result);
	}
	break;
	case ((NU8) 19):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2046), ((NimStringDesc*) &TMP2047), result);
	}
	break;
	case ((NU8) 23):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2048), ((NimStringDesc*) &TMP2043), result);
	}
	break;
	case ((NU8) 20):
	case ((NU8) 21):
	case ((NU8) 22):
	{
		{
			if (!NIM_TRUE) goto LA36;
			raiseassert_80692(((NimStringDesc*) &TMP2050));
		}
		LA36: ;
	}
	break;
	case ((NU8) 24):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2051), ((NimStringDesc*) &TMP2052), result);
	}
	break;
	case ((NU8) 25):
	{
		{
			if (!NIM_TRUE) goto LA42;
			raiseassert_80692(((NimStringDesc*) &TMP2050));
		}
		LA42: ;
	}
	break;
	case ((NU8) 26):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2053), ((NimStringDesc*) &TMP2002), result);
	}
	break;
	case ((NU8) 27):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2054), ((NimStringDesc*) &TMP2055), result);
	}
	break;
	case ((NU8) 28):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2056), ((NimStringDesc*) &TMP2057), result);
	}
	break;
	case ((NU8) 29):
	case ((NU8) 30):
	{
		NimStringDesc* LOC48;
		NimStringDesc* LOC49;
		LOC48 = 0;
		LOC49 = 0;
		LOC49 = texcolumns_308258(n);
		LOC48 = rawNewString(LOC49->Sup.len + 65);
appendString(LOC48, ((NimStringDesc*) &TMP2059));
appendString(LOC48, LOC49);
appendString(LOC48, ((NimStringDesc*) &TMP2061));
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2058), LOC48, result);
	}
	break;
	case ((NU8) 31):
	{
		{
			NI LOC53;
			LOC53 = 0;
			LOC53 = len_295080(n);
			if (!(1 <= LOC53)) goto LA54;
			{
				NI i_308365;
				NI HEX3Atmp_308411;
				NI LOC60;
				NI res_308413;
				if (!((*d).Target == ((NU8) 1))) goto LA58;
				renderrsttoout_307339(d, (*n).Sons->data[0], result);
				i_308365 = 0;
				HEX3Atmp_308411 = 0;
				LOC60 = 0;
				LOC60 = len_295080(n);
				HEX3Atmp_308411 = (NI32)(LOC60 - 1);
				res_308413 = 1;
				while (1) {
					if (!(res_308413 <= HEX3Atmp_308411)) goto LA61;
					i_308365 = res_308413;
					(*result) = resizeString((*result), 3);
appendString((*result), ((NimStringDesc*) &TMP2062));
					renderrsttoout_307339(d, (*n).Sons->data[i_308365], result);
					res_308413 += 1;
				} LA61: ;
				(*result) = resizeString((*result), 12);
appendString((*result), ((NimStringDesc*) &TMP2063));
			}
			goto LA56;
			LA58: ;
			{
				(*result) = resizeString((*result), 4);
appendString((*result), ((NimStringDesc*) &TMP2064));
				renderaux_307347(d, n, result);
				(*result) = resizeString((*result), 7);
appendString((*result), ((NimStringDesc*) &TMP2065));
			}
			LA56: ;
		}
		LA54: ;
	}
	break;
	case ((NU8) 33):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2042), ((NimStringDesc*) &TMP2039), result);
	}
	break;
	case ((NU8) 32):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2066), ((NimStringDesc*) &TMP2067), result);
	}
	break;
	case ((NU8) 34):
	{
		{
			if (!NIM_TRUE) goto LA68;
			raiseassert_80692(((NimStringDesc*) &TMP2050));
		}
		LA68: ;
	}
	break;
	case ((NU8) 35):
	{
		{
			if (!NIM_TRUE) goto LA73;
			raiseassert_80692(((NimStringDesc*) &TMP2050));
		}
		LA73: ;
	}
	break;
	case ((NU8) 36):
	{
		{
			if (!NIM_TRUE) goto LA78;
			raiseassert_80692(((NimStringDesc*) &TMP2050));
		}
		LA78: ;
	}
	break;
	case ((NU8) 39):
	{
		NimStringDesc* tmp;
		TY136887 LOC81;
		tmp = copyString(((NimStringDesc*) &TMP1992));
		renderaux_307347(d, n, &tmp);
		memset((void*)LOC81, 0, sizeof(LOC81));
		LOC81[0] = copyString(tmp);
		LOC81[1] = rstnodetorefname_296051(n);
		dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP2068), ((NimStringDesc*) &TMP2069), LOC81, 2);
	}
	break;
	case ((NU8) 37):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2070), ((NimStringDesc*) &TMP2071), result);
	}
	break;
	case ((NU8) 38):
	{
		NimStringDesc* tmp0;
		NimStringDesc* tmp1;
		TY136887 LOC84;
		tmp0 = copyString(((NimStringDesc*) &TMP1992));
		tmp1 = copyString(((NimStringDesc*) &TMP1992));
		renderrsttoout_307339(d, (*n).Sons->data[0], &tmp0);
		renderrsttoout_307339(d, (*n).Sons->data[1], &tmp1);
		memset((void*)LOC84, 0, sizeof(LOC84));
		LOC84[0] = copyString(tmp0);
		LOC84[1] = copyString(tmp1);
		dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP2072), ((NimStringDesc*) &TMP2073), LOC84, 2);
	}
	break;
	case ((NU8) 41):
	case ((NU8) 42):
	{
		renderaux_307347(d, n, result);
	}
	break;
	case ((NU8) 48):
	{
		{
			trstnode295009* LOC91;
			NimStringDesc* LOC92;
			if (!!(((*d).Target == ((NU8) 1)))) goto LA89;
			LOC91 = 0;
			LOC91 = lastson_295146(n);
			LOC92 = 0;
			LOC92 = addnodes_296055(LOC91);
			(*result) = resizeString((*result), LOC92->Sup.len + 0);
appendString((*result), LOC92);
		}
		LA89: ;
	}
	break;
	case ((NU8) 49):
	{
		{
			trstnode295009* LOC98;
			NimStringDesc* LOC99;
			if (!((*d).Target == ((NU8) 1))) goto LA96;
			LOC98 = 0;
			LOC98 = lastson_295146(n);
			LOC99 = 0;
			LOC99 = addnodes_296055(LOC98);
			(*result) = resizeString((*result), LOC99->Sup.len + 0);
appendString((*result), LOC99);
		}
		LA96: ;
	}
	break;
	case ((NU8) 45):
	case ((NU8) 46):
	{
		renderimage_308091(d, n, result);
	}
	break;
	case ((NU8) 47):
	{
		rendercodeblock_308147(d, n, result);
	}
	break;
	case ((NU8) 50):
	{
		rendercontainer_308239(d, n, result);
	}
	break;
	case ((NU8) 62):
	case ((NU8) 52):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2298), ((NimStringDesc*) &TMP2298), result);
	}
	break;
	case ((NU8) 40):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP1992), ((NimStringDesc*) &TMP1992), result);
	}
	break;
	case ((NU8) 53):
	{
		NimStringDesc* tmp0;
		NimStringDesc* tmp1;
		TY136887 LOC106;
		tmp0 = copyString(((NimStringDesc*) &TMP1992));
		tmp1 = copyString(((NimStringDesc*) &TMP1992));
		renderrsttoout_307339(d, (*n).Sons->data[0], &tmp0);
		renderrsttoout_307339(d, (*n).Sons->data[1], &tmp1);
		memset((void*)LOC106, 0, sizeof(LOC106));
		LOC106[0] = copyString(tmp0);
		LOC106[1] = copyString(tmp1);
		dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP2258), ((NimStringDesc*) &TMP2259), LOC106, 2);
	}
	break;
	case ((NU8) 54):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2299), ((NimStringDesc*) &TMP2300), result);
	}
	break;
	case ((NU8) 55):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2301), ((NimStringDesc*) &TMP2302), result);
	}
	break;
	case ((NU8) 57):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2303), ((NimStringDesc*) &TMP2304), result);
	}
	break;
	case ((NU8) 58):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2305), ((NimStringDesc*) &TMP2067), result);
	}
	break;
	case ((NU8) 59):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2306), ((NimStringDesc*) &TMP2307), result);
	}
	break;
	case ((NU8) 60):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2308), ((NimStringDesc*) &TMP2304), result);
	}
	break;
	case ((NU8) 56):
	{
		renderindexterm_307489(d, n, result);
	}
	break;
	case ((NU8) 61):
	{
		renderaux_307373(d, n, ((NimStringDesc*) &TMP2318), ((NimStringDesc*) &TMP2319), result);
	}
	break;
	case ((NU8) 63):
	{
		rendersmiley_308135(d, n, result);
	}
	break;
	case ((NU8) 64):
	{
		NimStringDesc* LOC117;
		LOC117 = 0;
		LOC117 = esc_307216((*d).Target, (*n).Text, -1);
		(*result) = resizeString((*result), LOC117->Sup.len + 0);
appendString((*result), LOC117);
	}
	break;
	case ((NU8) 44):
	{
		(*d).Hastoc = NIM_TRUE;
	}
	break;
	case ((NU8) 43):
	{
		unsureAsgnRef((void**) &(*d).Meta[(((NU8) 1))- 0], copyString(((NimStringDesc*) &TMP1992)));
		renderrsttoout_307339(d, (*n).Sons->data[0], &(*d).Meta[(((NU8) 1))- 0]);
	}
	break;
	}
	BeforeRet: ;
}
N_NIMCALL(void, TMP4327)(void* p, NI op) {
	TY307028* a;
	NI LOC1;
	a = (TY307028*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].N, op);
	nimGCvisit((void*)a->data[LOC1].Refname, op);
	nimGCvisit((void*)a->data[LOC1].Header, op);
	}
}

N_NIMCALL(void, initrstgenerator_307042)(trstgenerator307012* g, NU8 target, tstringtable122810* config, NimStringDesc* filename, NU8 options, tfindfilehandler296018 findfile, tmsghandler296016 msghandler) {
	NimStringDesc* s;
	NU8 i_307113;
	NU8 res_307115;
	unsureAsgnRef((void**) &(*g).Config, config);
	(*g).Target = target;
	unsureAsgnRef((void**) &(*g).Tocpart, (TY307028*) newSeq((&NTI307028), 0));
	unsureAsgnRef((void**) &(*g).Filename, copyString(filename));
	(*g).Splitafter = 20;
	unsureAsgnRef((void**) &(*g).Theindex, copyString(((NimStringDesc*) &TMP1992)));
	(*g).Options = options;
	(*g).Findfile = findfile;
	unsureAsgnRef((void**) &(*g).Currentsection, copyString(((NimStringDesc*) &TMP1992)));
	(*g).Msghandler = msghandler;
	s = nstGet(config, ((NimStringDesc*) &TMP4330));
	{
		if (!!(((s) && (s)->Sup.len == 0))) goto LA3;
		(*g).Splitafter = nsuParseInt(s);
	}
	LA3: ;
	i_307113 = 0;
	res_307115 = ((NU8) 0);
	while (1) {
		if (!(res_307115 <= ((NU8) 4))) goto LA5;
		i_307113 = res_307115;
		unsureAsgnRef((void**) &(*g).Meta[(i_307113)- 0], copyString(((NimStringDesc*) &TMP1992)));
		res_307115 += 1;
	} LA5: ;
}

N_NIMCALL(void, rendertocentry_308041)(trstgenerator307012* d, ttocentry307008 e, NimStringDesc** result) {
	TY136887 LOC1;
	memset((void*)LOC1, 0, sizeof(LOC1));
	LOC1[0] = copyString(e.Refname);
	LOC1[1] = copyString(e.Header);
	dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP4401), ((NimStringDesc*) &TMP4402), LOC1, 2);
}

N_NIMCALL(void, rendertocentries_308053)(trstgenerator307012* d, NI* j, NI lvl, NimStringDesc** result) {
	NimStringDesc* tmp;
	tmp = copyString(((NimStringDesc*) &TMP1992));
	while (1) {
		NI a;
		if (!((*j) <= ((*d).Tocpart->Sup.len-1))) goto LA1;
		a = (NI32)abs((*(*d).Tocpart->data[(*j)].N).Level);
		{
			if (!(a == lvl)) goto LA4;
			rendertocentry_308041(d, (*d).Tocpart->data[(*j)], &tmp);
			(*j) += 1;
		}
		goto LA2;
		LA4: ;
		{
			if (!(lvl < a)) goto LA7;
			rendertocentries_308053(d, j, a, &tmp);
		}
		goto LA2;
		LA7: ;
		{
			goto LA1;
		}
		LA2: ;
	} LA1: ;
	{
		TY164002 LOC14;
		if (!(1 < lvl)) goto LA12;
		memset((void*)LOC14, 0, sizeof(LOC14));
		LOC14[0] = copyString(tmp);
		dispa_307319((*d).Target, result, ((NimStringDesc*) &TMP4403), ((NimStringDesc*) &TMP4404), LOC14, 1);
	}
	goto LA10;
	LA12: ;
	{
		(*result) = resizeString((*result), tmp->Sup.len + 0);
appendString((*result), tmp);
	}
	LA10: ;
}

N_NIMCALL(void, writeindexfile_307120)(trstgenerator307012* g, NimStringDesc* outfile) {
	{
		if (!(0 < (*g).Theindex->Sup.len)) goto LA3;
		writefile_10443(outfile, (*g).Theindex);
	}
	LA3: ;
}
N_NIMCALL(void, TMP4481)(void* p, NI op) {
	TY307574* a;
	NI LOC1;
	a = (TY307574*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Keyword, op);
	nimGCvisit((void*)a->data[LOC1].Link, op);
	nimGCvisit((void*)a->data[LOC1].Linktitle, op);
	nimGCvisit((void*)a->data[LOC1].Linkdesc, op);
	}
}

static N_INLINE(NIM_BOOL, skipfinddata_104634)(twin32finddata95815* f) {
	NIM_BOOL result;
	NIM_BOOL LOC1;
	NIM_BOOL LOC3;
	NIM_BOOL LOC5;
	result = 0;
	LOC1 = 0;
	LOC1 = (((NI) ((*f).Cfilename[(0)- 0])) == 46);
	if (!(LOC1)) goto LA2;
	LOC3 = 0;
	LOC3 = (((NI) ((*f).Cfilename[(1)- 0])) == 0);
	if (LOC3) goto LA4;
	LOC5 = 0;
	LOC5 = (((NI) ((*f).Cfilename[(1)- 0])) == 46);
	if (!(LOC5)) goto LA6;
	LOC5 = (((NI) ((*f).Cfilename[(2)- 0])) == 0);
	LA6: ;
	LOC3 = LOC5;
	LA4: ;
	LOC1 = LOC3;
	LA2: ;
	result = LOC1;
	return result;
}

N_NIMCALL(NimStringDesc*, unquoteindexcolumn_307427)(NimStringDesc* text) {
	NimStringDesc* result;
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	result = 0;
	LOC1 = 0;
	LOC1 = nsuReplaceStr(text, ((NimStringDesc*) &TMP2315), ((NimStringDesc*) &TMP2314));
	LOC2 = 0;
	LOC2 = nsuReplaceStr(LOC1, ((NimStringDesc*) &TMP2313), ((NimStringDesc*) &TMP2312));
	result = nsuReplaceStr(LOC2, ((NimStringDesc*) &TMP2311), ((NimStringDesc*) &TMP2310));
	return result;
}

N_NIMCALL(void, HEX3CHEX2D_307518)(tindexentry307505* a, tindexentry307505 b) {
	unsureAsgnRef((void**) &(*a).Keyword, b.Keyword);
	unsureAsgnRef((void**) &(*a).Link, b.Link);
	{
		if (!b.Linktitle == 0) goto LA3;
		unsureAsgnRef((void**) &(*a).Linktitle, copyString(NIM_NIL));
	}
	goto LA1;
	LA3: ;
	{
		unsureAsgnRef((void**) &(*a).Linktitle, b.Linktitle);
	}
	LA1: ;
	{
		if (!b.Linkdesc == 0) goto LA8;
		unsureAsgnRef((void**) &(*a).Linkdesc, copyString(NIM_NIL));
	}
	goto LA6;
	LA8: ;
	{
		unsureAsgnRef((void**) &(*a).Linkdesc, b.Linkdesc);
	}
	LA6: ;
}

N_NIMCALL(NI, cmp_307511)(tindexentry307505 a, tindexentry307505 b) {
	NI result;
	result = 0;
	result = nsuCmpIgnoreStyle(a.Keyword, b.Keyword);
	{
		if (!(result == 0)) goto LA3;
		result = nsuCmpIgnoreStyle(a.Link, b.Link);
	}
	LA3: ;
	return result;
}

N_NIMCALL(void, sortindex_307525)(tindexentry307505* a, NI aLen0) {
	NI n;
	NI h;
	n = aLen0;
	h = 1;
	while (1) {
		h = (NI32)((NI32)(3 * h) + 1);
		{
			if (!(n < h)) goto LA4;
			goto LA1;
		}
		LA4: ;
	} LA1: ;
	while (1) {
		NI i_307552;
		NI HEX3Atmp_307560;
		NI res_307562;
		h = (NI32)(h / 3);
		i_307552 = 0;
		HEX3Atmp_307560 = 0;
		HEX3Atmp_307560 = (NI32)(n - 1);
		res_307562 = h;
		while (1) {
			tindexentry307505 v;
			NI j;
			if (!(res_307562 <= HEX3Atmp_307560)) goto LA7;
			i_307552 = res_307562;
			memset((void*)&v, 0, sizeof(v));
			HEX3CHEX2D_307518(&v, a[i_307552]);
			j = i_307552;
			while (1) {
				NI LOC9;
				LOC9 = 0;
				LOC9 = cmp_307511(a[(NI32)(j - h)], v);
				if (!(0 <= LOC9)) goto LA8;
				HEX3CHEX2D_307518(&a[j], a[(NI32)(j - h)]);
				j = (NI32)(j - h);
				{
					if (!(j < h)) goto LA12;
					goto LA8;
				}
				LA12: ;
			} LA8: ;
			HEX3CHEX2D_307518(&a[j], v);
			res_307562 += 1;
		} LA7: ;
		{
			if (!(h == 1)) goto LA16;
			goto LA6;
		}
		LA16: ;
	} LA6: ;
}

N_NIMCALL(NimStringDesc*, mergeindexes_307570)(NimStringDesc* dir) {
	NimStringDesc* result;
	TY307574* a;
	NI l;
	NU8 kind_307610;
	NimStringDesc* path_307611;
	twin32finddata95815 f_307865;
	NI h_307867;
	NimStringDesc* LOC1;
	NI i;
	result = 0;
	a = 0;
	a = (TY307574*) newSeq((&NTI307574), 15000);
	a = (TY307574*) setLengthSeq(&(a)->Sup, sizeof(tindexentry307505), 0);
	l = 0;
	kind_307610 = 0;
	path_307611 = 0;
	memset((void*)&f_307865, 0, sizeof(f_307865));
	LOC1 = 0;
	LOC1 = HEX2F_107477(dir, ((NimStringDesc*) &TMP4482));
	h_307867 = findfirstfile_104616(LOC1, &f_307865);
	{
		if (!!((h_307867 == -1))) goto LA4;
		while (1) {
			NU8 k_307869;
			k_307869 = ((NU8) 0);
			{
				NIM_BOOL LOC9;
				NimStringDesc* LOC20;
				NimStringDesc* LOC21;
				LOC9 = 0;
				LOC9 = skipfinddata_104634(&f_307865);
				if (!!(LOC9)) goto LA10;
				{
					if (!!(((NI32)(f_307865.Dwfileattributes & ((NI32) 16)) == ((NI32) 0)))) goto LA14;
					k_307869 = ((NU8) 2);
				}
				LA14: ;
				{
					if (!!(((NI32)(f_307865.Dwfileattributes & ((NI32) 1024)) == ((NI32) 0)))) goto LA18;
					k_307869 = k_307869 + 1;
				}
				LA18: ;
				kind_307610 = k_307869;
				LOC20 = 0;
				LOC20 = HEX24_74191(((NI16*) (&f_307865.Cfilename[(0)- 0])));
				LOC21 = 0;
				LOC21 = nosextractFilename(LOC20);
				path_307611 = HEX2F_107477(dir, LOC21);
				{
					NIM_BOOL LOC24;
					NimStringDesc* line_307621;
					FILE* f_307860;
					NimStringDesc* res_307862;
					LOC24 = 0;
					LOC24 = (kind_307610 == ((NU8) 0));
					if (!(LOC24)) goto LA25;
					LOC24 = nsuEndsWith(path_307611, ((NimStringDesc*) &TMP4483));
					LA25: ;
					if (!LOC24) goto LA26;
					line_307621 = 0;
					f_307860 = open_10217(path_307611, ((NU8) 0), -1);
					res_307862 = rawNewString(80);
					while (1) {
						NIM_BOOL LOC29;
						LOC29 = 0;
						LOC29 = readline_10487(f_307860, &res_307862);
						if (!LOC29) goto LA28;
						line_307621 = res_307862;
						{
							NI s;
							s = nsuFindChar(line_307621, 9, 0);
							{
								if (!(s < 0)) goto LA33;
								goto LA30;
							}
							LA33: ;
							a = (TY307574*) setLengthSeq(&(a)->Sup, sizeof(tindexentry307505), (NI32)(l + 1));
							asgnRefNoCycle((void**) &a->data[l].Keyword, copyStrLast(line_307621, 0, (NI32)(s - 1)));
							asgnRefNoCycle((void**) &a->data[l].Link, copyStr(line_307621, (NI32)(s + 1)));
							{
								NI LOC37;
								TY111405* extracols;
								NimStringDesc* LOC40;
								LOC37 = 0;
								LOC37 = nsuFindChar(a->data[l].Link, 9, 0);
								if (!(0 < LOC37)) goto LA38;
								extracols = nsuSplitChar(a->data[l].Link, 9);
								LOC40 = 0;
								LOC40 = a->data[l].Link; a->data[l].Link = copyStringRC1(extracols->data[0]);
								if (LOC40) nimGCunrefNoCycle(LOC40);
								asgnRefNoCycle((void**) &a->data[l].Linktitle, unquoteindexcolumn_307427(extracols->data[1]));
								asgnRefNoCycle((void**) &a->data[l].Linkdesc, unquoteindexcolumn_307427(extracols->data[2]));
							}
							goto LA35;
							LA38: ;
							{
								NimStringDesc* LOC42;
								NimStringDesc* LOC43;
								LOC42 = 0;
								LOC42 = a->data[l].Linktitle; a->data[l].Linktitle = copyStringRC1(NIM_NIL);
								if (LOC42) nimGCunrefNoCycle(LOC42);
								LOC43 = 0;
								LOC43 = a->data[l].Linkdesc; a->data[l].Linkdesc = copyStringRC1(NIM_NIL);
								if (LOC43) nimGCunrefNoCycle(LOC43);
							}
							LA35: ;
							l += 1;
						} LA30: ;
					} LA28: ;
					fclose(f_307860);
				}
				LA26: ;
			}
			LA10: ;
			{
				NI32 LOC46;
				LOC46 = 0;
				LOC46 = Dl_95838(h_307867, &f_307865);
				if (!(LOC46 == ((NI32) 0))) goto LA47;
				goto LA6;
			}
			LA47: ;
		} LA6: ;
		Dl_96002(h_307867);
	}
	LA4: ;
	sortindex_307525(a->data, a->Sup.len);
	result = copyString(((NimStringDesc*) &TMP1992));
	i = 0;
	while (1) {
		TY164002 LOC50;
		NI j;
		if (!(i < l)) goto LA49;
		memset((void*)LOC50, 0, sizeof(LOC50));
		LOC50[0] = copyString(a->data[i].Keyword);
		nsuAddf(&result, ((NimStringDesc*) &TMP4484), LOC50, 1);
		j = i;
		while (1) {
			NIM_BOOL LOC52;
			NimStringDesc* url;
			NimStringDesc* text;
			NimStringDesc* desc;
			LOC52 = 0;
			LOC52 = (j < l);
			if (!(LOC52)) goto LA53;
			LOC52 = eqStrings(a->data[i].Keyword, a->data[j].Keyword);
			LA53: ;
			if (!LOC52) goto LA51;
			url = a->data[j].Link;
			{
				if (!!(a->data[j].Linktitle == 0)) goto LA56;
				text = a->data[j].Linktitle;
			}
			goto LA54;
			LA56: ;
			{
				text = url;
			}
			LA54: ;
			{
				if (!!(a->data[j].Linkdesc == 0)) goto LA61;
				desc = a->data[j].Linkdesc;
			}
			goto LA59;
			LA61: ;
			{
				desc = copyString(((NimStringDesc*) &TMP1992));
			}
			LA59: ;
			{
				TY172034 LOC68;
				if (!(0 < desc->Sup.len)) goto LA66;
				memset((void*)LOC68, 0, sizeof(LOC68));
				LOC68[0] = copyString(url);
				LOC68[1] = copyString(text);
				LOC68[2] = copyString(desc);
				nsuAddf(&result, ((NimStringDesc*) &TMP4485), LOC68, 3);
			}
			goto LA64;
			LA66: ;
			{
				TY136887 LOC70;
				memset((void*)LOC70, 0, sizeof(LOC70));
				LOC70[0] = copyString(url);
				LOC70[1] = copyString(text);
				nsuAddf(&result, ((NimStringDesc*) &TMP4486), LOC70, 2);
			}
			LA64: ;
			j += 1;
		} LA51: ;
		result = resizeString(result, 12);
appendString(result, ((NimStringDesc*) &TMP4487));
		i = j;
	} LA49: ;
	return result;
}
N_NOINLINE(void, docutilsrstgenInit)(void) {
	NimStringDesc* LOC1;
	LOC1 = 0;
	LOC1 = splitter_307149; splitter_307149 = copyStringRC1(((NimStringDesc*) &TMP887));
	if (LOC1) nimGCunrefNoCycle(LOC1);
}

N_NOINLINE(void, docutilsrstgenDatInit)(void) {
static TNimNode* TMP4322[12];
static TNimNode* TMP4323[2];
NI TMP4325;
static char* NIM_CONST TMP4324[2] = {
"outHtml", 
"outLatex"};
static TNimNode* TMP4326[3];
static TNimNode* TMP4480[4];
static TNimNode TMP883[25];
NTI307012.size = sizeof(trstgenerator307012);
NTI307012.kind = 17;
NTI307012.base = (&NTI2409);
TMP4322[0] = &TMP883[1];
NTI307006.size = sizeof(NU8);
NTI307006.kind = 14;
NTI307006.base = 0;
NTI307006.flags = 3;
for (TMP4325 = 0; TMP4325 < 2; TMP4325++) {
TMP883[TMP4325+2].kind = 1;
TMP883[TMP4325+2].offset = TMP4325;
TMP883[TMP4325+2].name = TMP4324[TMP4325];
TMP4323[TMP4325] = &TMP883[TMP4325+2];
}
TMP883[4].len = 2; TMP883[4].kind = 2; TMP883[4].sons = &TMP4323[0];
NTI307006.node = &TMP883[4];
TMP883[1].kind = 1;
TMP883[1].offset = offsetof(trstgenerator307012, Target);
TMP883[1].typ = (&NTI307006);
TMP883[1].name = "target";
TMP4322[1] = &TMP883[5];
TMP883[5].kind = 1;
TMP883[5].offset = offsetof(trstgenerator307012, Config);
TMP883[5].typ = (&NTI122812);
TMP883[5].name = "config";
TMP4322[2] = &TMP883[6];
TMP883[6].kind = 1;
TMP883[6].offset = offsetof(trstgenerator307012, Splitafter);
TMP883[6].typ = (&NTI106);
TMP883[6].name = "splitAfter";
TMP4322[3] = &TMP883[7];
NTI307008.size = sizeof(ttocentry307008);
NTI307008.kind = 18;
NTI307008.base = 0;
NTI307008.flags = 2;
TMP4326[0] = &TMP883[9];
TMP883[9].kind = 1;
TMP883[9].offset = offsetof(ttocentry307008, N);
TMP883[9].typ = (&NTI295005);
TMP883[9].name = "n";
TMP4326[1] = &TMP883[10];
TMP883[10].kind = 1;
TMP883[10].offset = offsetof(ttocentry307008, Refname);
TMP883[10].typ = (&NTI143);
TMP883[10].name = "refname";
TMP4326[2] = &TMP883[11];
TMP883[11].kind = 1;
TMP883[11].offset = offsetof(ttocentry307008, Header);
TMP883[11].typ = (&NTI143);
TMP883[11].name = "header";
TMP883[8].len = 3; TMP883[8].kind = 2; TMP883[8].sons = &TMP4326[0];
NTI307008.node = &TMP883[8];
NTI307028.size = sizeof(TY307028*);
NTI307028.kind = 24;
NTI307028.base = (&NTI307008);
NTI307028.flags = 2;
NTI307028.marker = TMP4327;
TMP883[7].kind = 1;
TMP883[7].offset = offsetof(trstgenerator307012, Tocpart);
TMP883[7].typ = (&NTI307028);
TMP883[7].name = "tocPart";
TMP4322[4] = &TMP883[12];
TMP883[12].kind = 1;
TMP883[12].offset = offsetof(trstgenerator307012, Hastoc);
TMP883[12].typ = (&NTI134);
TMP883[12].name = "hasToc";
TMP4322[5] = &TMP883[13];
TMP883[13].kind = 1;
TMP883[13].offset = offsetof(trstgenerator307012, Theindex);
TMP883[13].typ = (&NTI143);
TMP883[13].name = "theIndex";
TMP4322[6] = &TMP883[14];
TMP883[14].kind = 1;
TMP883[14].offset = offsetof(trstgenerator307012, Options);
TMP883[14].typ = (&NTI296010);
TMP883[14].name = "options";
TMP4322[7] = &TMP883[15];
TMP883[15].kind = 1;
TMP883[15].offset = offsetof(trstgenerator307012, Findfile);
TMP883[15].typ = (&NTI296018);
TMP883[15].name = "findFile";
TMP4322[8] = &TMP883[16];
TMP883[16].kind = 1;
TMP883[16].offset = offsetof(trstgenerator307012, Msghandler);
TMP883[16].typ = (&NTI296016);
TMP883[16].name = "msgHandler";
TMP4322[9] = &TMP883[17];
TMP883[17].kind = 1;
TMP883[17].offset = offsetof(trstgenerator307012, Filename);
TMP883[17].typ = (&NTI143);
TMP883[17].name = "filename";
TMP4322[10] = &TMP883[18];
NTI307036.size = sizeof(TY307036);
NTI307036.kind = 16;
NTI307036.base = (&NTI143);
NTI307036.flags = 2;
TMP883[18].kind = 1;
TMP883[18].offset = offsetof(trstgenerator307012, Meta);
TMP883[18].typ = (&NTI307036);
TMP883[18].name = "meta";
TMP4322[11] = &TMP883[19];
TMP883[19].kind = 1;
TMP883[19].offset = offsetof(trstgenerator307012, Currentsection);
TMP883[19].typ = (&NTI143);
TMP883[19].name = "currentSection";
TMP883[0].len = 12; TMP883[0].kind = 2; TMP883[0].sons = &TMP4322[0];
NTI307012.node = &TMP883[0];
NTI307505.size = sizeof(tindexentry307505);
NTI307505.kind = 18;
NTI307505.base = 0;
NTI307505.flags = 2;
TMP4480[0] = &TMP883[21];
TMP883[21].kind = 1;
TMP883[21].offset = offsetof(tindexentry307505, Keyword);
TMP883[21].typ = (&NTI143);
TMP883[21].name = "keyword";
TMP4480[1] = &TMP883[22];
TMP883[22].kind = 1;
TMP883[22].offset = offsetof(tindexentry307505, Link);
TMP883[22].typ = (&NTI143);
TMP883[22].name = "link";
TMP4480[2] = &TMP883[23];
TMP883[23].kind = 1;
TMP883[23].offset = offsetof(tindexentry307505, Linktitle);
TMP883[23].typ = (&NTI143);
TMP883[23].name = "linkTitle";
TMP4480[3] = &TMP883[24];
TMP883[24].kind = 1;
TMP883[24].offset = offsetof(tindexentry307505, Linkdesc);
TMP883[24].typ = (&NTI143);
TMP883[24].name = "linkDesc";
TMP883[20].len = 4; TMP883[20].kind = 2; TMP883[20].sons = &TMP4480[0];
NTI307505.node = &TMP883[20];
NTI307574.size = sizeof(TY307574*);
NTI307574.kind = 24;
NTI307574.base = (&NTI307505);
NTI307574.flags = 2;
NTI307574.marker = TMP4481;
}

