/* Generated by Nimrod Compiler v0.9.4 */
/*   (c) 2014 Andreas Rumpf */
/* The generated code is subject to the original license. */
#define NIM_INTBITS 64
#include "nimbase.h"

#include <string.h>

#include <stdio.h>
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct trstnode295009 trstnode295009;
typedef struct trstnodeseq295007 trstnodeseq295007;
typedef struct trstparser296677 trstparser296677;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct ttokenseq296116 ttokenseq296116;
typedef struct ttoken296114 ttoken296114;
typedef struct tsharedstate296673 tsharedstate296673;
typedef struct TY296698 TY296698;
typedef struct TY296687 TY296687;
typedef struct tsubstitution296671 tsubstitution296671;
typedef struct tcell40888 tcell40888;
typedef struct tcellseq40904 tcellseq40904;
typedef struct tgcheap42816 tgcheap42816;
typedef struct tcellset40900 tcellset40900;
typedef struct tpagedesc40896 tpagedesc40896;
typedef struct tmemregion23210 tmemregion23210;
typedef struct tsmallchunk22438 tsmallchunk22438;
typedef struct tllchunk23204 tllchunk23204;
typedef struct tbigchunk22440 tbigchunk22440;
typedef struct tintset22415 tintset22415;
typedef struct ttrunk22411 ttrunk22411;
typedef struct tavlnode23208 tavlnode23208;
typedef struct tgcstat42814 tgcstat42814;
typedef struct eparseerror296679 eparseerror296679;
typedef struct einvalidvalue2453 einvalidvalue2453;
typedef struct esynch2429 esynch2429;
typedef struct E_Base E_Base;
typedef struct tlexer296118 tlexer296118;
typedef struct tkeyvaluepair122806 tkeyvaluepair122806;
typedef struct TY111405 TY111405;
typedef struct tbasechunk22436 tbasechunk22436;
typedef struct tfreecell22428 tfreecell22428;
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct  trstnode295009  {
NU8 Kind;
NimStringDesc* Text;
NI Level;
trstnodeseq295007* Sons;
};
typedef N_NIMCALL_PTR(NimStringDesc*, tfindfilehandler296018) (NimStringDesc* filename);
typedef N_NIMCALL_PTR(void, tmsghandler296016) (NimStringDesc* filename, NI line, NI col, NU8 msgkind, NimStringDesc* arg);
typedef N_NIMCALL_PTR(void, TY2289) (void* p, NI op);
struct  TNimType  {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY2289 marker;
};
struct  TNimObject  {
TNimType* m_type;
};
struct  ttoken296114  {
NU8 Kind;
NI Ival;
NimStringDesc* Symbol;
NI Line;
NI Col;
};
struct  trstparser296677  {
  TNimObject Sup;
NI Idx;
ttokenseq296116* Tok;
tsharedstate296673* S;
TY296698* Indentstack;
NimStringDesc* Filename;
NI Line;
NI Col;
NIM_BOOL Hastoc;
};
struct  TNimNode  {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct  tsubstitution296671  {
NimStringDesc* Key;
trstnode295009* Value;
};
typedef NI tskiptable91032[256];
struct  tsharedstate296673  {
NU8 Options;
NI Ulevel;
NI Olevel;
TY296687* Subs;
TY296687* Refs;
tskiptable91032 Underlinetolevel;
tskiptable91032 Overlinetolevel;
tmsghandler296016 Msghandler;
tfindfilehandler296018 Findfile;
};
struct  tcell40888  {
NI Refcount;
TNimType* Typ;
};
struct  tcellseq40904  {
NI Len;
NI Cap;
tcell40888** D;
};
struct  tcellset40900  {
NI Counter;
NI Max;
tpagedesc40896* Head;
tpagedesc40896** Data;
};
typedef tsmallchunk22438* TY23222[512];
typedef ttrunk22411* ttrunkbuckets22413[256];
struct  tintset22415  {
ttrunkbuckets22413 Data;
};
struct  tmemregion23210  {
NI Minlargeobj;
NI Maxlargeobj;
TY23222 Freesmallchunks;
tllchunk23204* Llmem;
NI Currmem;
NI Maxmem;
NI Freemem;
NI Lastsize;
tbigchunk22440* Freechunkslist;
tintset22415 Chunkstarts;
tavlnode23208* Root;
tavlnode23208* Deleted;
tavlnode23208* Last;
tavlnode23208* Freeavlnodes;
};
struct  tgcstat42814  {
NI Stackscans;
NI Cyclecollections;
NI Maxthreshold;
NI Maxstacksize;
NI Maxstackcells;
NI Cycletablesize;
NI64 Maxpause;
};
struct  tgcheap42816  {
void* Stackbottom;
NI Cyclethreshold;
tcellseq40904 Zct;
tcellseq40904 Decstack;
tcellset40900 Cycleroots;
tcellseq40904 Tempstack;
NI Recgclock;
tmemregion23210 Region;
tgcstat42814 Stat;
};
typedef NimStringDesc* TY296045[9];
typedef NimStringDesc* TY296821[5];
struct  E_Base  {
  TNimObject Sup;
E_Base* parent;
NCSTRING name;
NimStringDesc* message;
NimStringDesc* trace;
};
struct  esynch2429  {
  E_Base Sup;
};
struct  einvalidvalue2453  {
  esynch2429 Sup;
};
struct  eparseerror296679  {
  einvalidvalue2453 Sup;
};
typedef NimStringDesc* TY164002[1];
struct  tlexer296118  {
  TNimObject Sup;
NCSTRING Buf;
NI Bufpos;
NI Line;
NI Col;
NI Baseindent;
NIM_BOOL Skippounds;
};
typedef NU8 TY91161[32];
typedef NimStringDesc* TY299215[12];
typedef N_NIMCALL_PTR(trstnode295009*, tsectionparser301608) (trstparser296677* p);
struct tkeyvaluepair122806 {
NimStringDesc* Field0;
NimStringDesc* Field1;
};
typedef tkeyvaluepair122806 TY296074[34];
typedef NimStringDesc* TY301290[3];
typedef NI TY301295[3];
typedef NI TY22418[8];
struct  tpagedesc40896  {
tpagedesc40896* Next;
NI Key;
TY22418 Bits;
};
struct  tbasechunk22436  {
NI Prevsize;
NI Size;
NIM_BOOL Used;
};
struct  tsmallchunk22438  {
  tbasechunk22436 Sup;
tsmallchunk22438* Next;
tsmallchunk22438* Prev;
tfreecell22428* Freelist;
NI Free;
NI Acc;
NF Data;
};
struct  tllchunk23204  {
NI Size;
NI Acc;
tllchunk23204* Next;
};
struct  tbigchunk22440  {
  tbasechunk22436 Sup;
tbigchunk22440* Next;
tbigchunk22440* Prev;
NI Align;
NF Data;
};
struct  ttrunk22411  {
ttrunk22411* Next;
NI Key;
TY22418 Bits;
};
typedef tavlnode23208* TY23214[2];
struct  tavlnode23208  {
TY23214 Link;
NI Key;
NI Upperbound;
NI Level;
};
struct  tfreecell22428  {
tfreecell22428* Next;
NI Zerofield;
};
struct trstnodeseq295007 {
  TGenericSeq Sup;
  trstnode295009* data[SEQ_DECL_SIZE];
};
struct ttokenseq296116 {
  TGenericSeq Sup;
  ttoken296114 data[SEQ_DECL_SIZE];
};
struct TY296698 {
  TGenericSeq Sup;
  NI data[SEQ_DECL_SIZE];
};
struct TY296687 {
  TGenericSeq Sup;
  tsubstitution296671 data[SEQ_DECL_SIZE];
};
struct TY111405 {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
N_NIMCALL(void, rstnodetorefnameaux_297163)(trstnode295009* n, NimStringDesc** r, NIM_BOOL* b);
N_NIMCALL(NimStringDesc*, addChar)(NimStringDesc* s, NIM_CHAR c);
N_NIMCALL(NI, len_295080)(trstnode295009* n);
N_NIMCALL(void, addnodesaux_297122)(trstnode295009* n, NimStringDesc** result);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* dest, NI addlen);
N_NIMCALL(NI, nsuCmpIgnoreStyle)(NimStringDesc* a, NimStringDesc* b);
N_NIMCALL(NimStringDesc*, addnodes_296055)(trstnode295009* n);
N_NIMCALL(void, nimGCvisit)(void* d, NI op);
N_NIMCALL(void, TMP2327)(void* p, NI op);
N_NIMCALL(void, TMP2339)(void* p, NI op);
N_NIMCALL(void, TMP2340)(void* p, NI op);
N_NIMCALL(void, TMP2341)(void* p, NI op);
N_NIMCALL(void, initparser_297077)(trstparser296677* p, tsharedstate296673* sharedstate);
N_NIMCALL(void, genericSeqAssign)(void* dest, void* src_75804, TNimType* mt);
N_NIMCALL(void*, newSeq)(TNimType* typ, NI len);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
N_NIMCALL(tsharedstate296673*, newsharedstate_296878)(NU8 options, tfindfilehandler296018 findfile, tmsghandler296016 msghandler);
N_NIMCALL(void*, newObj)(TNimType* typ, NI size);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
static N_INLINE(tcell40888*, usrtocell_44243)(void* usr);
static N_INLINE(void, rtladdzct_45802)(tcell40888* c);
N_NOINLINE(void, addzct_44218)(tcellseq40904* s, tcell40888* c);
N_NIMCALL(void*, newSeqRC1)(TNimType* typ, NI len);
N_NIMCALL(void, defaultmsghandler_296803)(NimStringDesc* filename, NI line, NI col, NU8 msgkind, NimStringDesc* arg);
N_NIMCALL(NU8, whichmsgclass_296705)(NU8 k);
N_NIMCALL(NimStringDesc*, reprEnum)(NI e_77080, TNimType* typ);
N_NIMCALL(NimStringDesc*, nsuFormatSingleElem)(NimStringDesc* formatstr, NimStringDesc* a);
N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* formatstr, NimStringDesc** a, NI aLen0);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI x);
N_NIMCALL(void, TMP2360)(void* p, NI op);
N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
N_NIMCALL(void, raiseException)(E_Base* e, NCSTRING ename);
static N_INLINE(void, writeln_137205)(FILE* f_137209, NimStringDesc** x_137213, NI x_137213Len0);
N_NIMCALL(void, write_10463)(FILE* f, NimStringDesc* s);
N_NIMCALL(NimStringDesc*, defaultfindfile_296872)(NimStringDesc* filename);
N_NIMCALL(NIM_BOOL, nosexistsFile)(NimStringDesc* filename);
N_NIMCALL(NI, gettokens_296463)(NimStringDesc* buffer, NIM_BOOL skippounds, ttokenseq296116** tokens);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* seq, NI elemsize, NI newlen);
N_NIMCALL(void, rawgettok_296404)(tlexer296118* l, ttoken296114* tok);
N_NIMCALL(void, getthing_296138)(tlexer296118* l, ttoken296114* tok, TY91161 s);
N_NIMCALL(void, getindent_296377)(tlexer296118* l, ttoken296114* tok);
N_NIMCALL(NI, getindentaux_296237)(tlexer296118* l, NI start);
N_NIMCALL(NimStringDesc*, nsuRepeatChar)(NI count, NIM_CHAR c);
N_NIMCALL(NimStringDesc*, rawNewString)(NI space);
N_NIMCALL(void, getadornment_296194)(tlexer296118* l, ttoken296114* tok);
N_NIMCALL(trstnode295009*, resolvesubs_302486)(trstparser296677* p, trstnode295009* n);
N_NIMCALL(NI, findsub_297255)(trstparser296677* p, trstnode295009* n);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b);
N_NIMCALL(NimStringDesc*, getenv_112025)(NimStringDesc* key);
N_NIMCALL(trstnode295009*, newrstnode_295139)(NU8 kind, NimStringDesc* s);
N_NIMCALL(void, rstmessage_296956)(trstparser296677* p, NU8 msgkind, NimStringDesc* arg);
N_NIMCALL(trstnode295009*, findref_297408)(trstparser296677* p, NimStringDesc* key);
N_NIMCALL(NimStringDesc*, rstnodetorefname_296051)(trstnode295009* n);
N_NIMCALL(trstnode295009*, newrstnode_295097)(NU8 kind);
N_NIMCALL(void, add_295163)(trstnode295009* father, trstnode295009* son);
static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src);
N_NIMCALL(trstnode295009*, parsedoc_300480)(trstparser296677* p);
N_NIMCALL(trstnode295009*, parsesectionwrapper_301521)(trstparser296677* p);
N_NIMCALL(void, parsesection_299312)(trstparser296677* p, trstnode295009* result);
N_NIMCALL(NI, currind_297001)(trstparser296677* p);
N_NIMCALL(void, pushind_297007)(trstparser296677* p, NI ind);
N_NIMCALL(TGenericSeq*, incrSeq)(TGenericSeq* seq, NI elemsize);
N_NIMCALL(void, popind_297032)(trstparser296677* p);
N_NIMCALL(NU8, whichsection_299704)(trstparser296677* p);
N_NIMCALL(NIM_BOOL, match_297647)(trstparser296677* p, NI start, NimStringDesc* expr);
N_NIMCALL(NIM_BOOL, allcharsinset_90836)(NimStringDesc* s, TY91161 theset);
N_NIMCALL(NI, tokenafternewline_299613)(trstparser296677* p);
N_NIMCALL(NIM_BOOL, prednl_299660)(trstparser296677* p);
N_NIMCALL(NIM_BOOL, islineblock_299652)(trstparser296677* p);
N_NIMCALL(void, rstmessage_296972)(trstparser296677* p, NU8 msgkind);
N_NIMCALL(NIM_BOOL, isdeflist_299676)(trstparser296677* p);
N_NIMCALL(NIM_BOOL, isoptionlist_299698)(trstparser296677* p);
N_NIMCALL(trstnode295009*, parseliteralblock_299488)(trstparser296677* p);
N_NIMCALL(trstnode295009*, parsebulletlist_301002)(trstparser296677* p);
N_NIMCALL(trstnode295009*, parselineblock_299719)(trstparser296677* p);
N_NIMCALL(trstnode295009*, parsedotdot_299483)(trstparser296677* p);
N_NIMCALL(NimStringDesc*, getdirective_298953)(trstparser296677* p);
N_NIMCALL(NU8, getdirkind_299220)(NimStringDesc* s);
static N_INLINE(NI, find_299225)(TY299215 a_299230, NimStringDesc* item_299232);
N_NIMCALL(trstnode295009*, dirinclude_301799)(trstparser296677* p);
N_NIMCALL(trstnode295009*, parsedirective_301774)(trstparser296677* p, NU8 flags, tsectionparser301608 contentparser);
N_NIMCALL(trstnode295009*, parsedirective_301617)(trstparser296677* p, NU8 flags);
N_NIMCALL(trstnode295009*, newleaf_297434)(trstparser296677* p);
N_NIMCALL(void, parseline_299296)(trstparser296677* p, trstnode295009* father);
N_NIMCALL(void, parseinline_298802)(trstparser296677* p, trstnode295009* father);
N_NIMCALL(NIM_BOOL, isinlinemarkupstart_297594)(trstparser296677* p, NimStringDesc* markup);
N_NIMCALL(void, parseuntil_298601)(trstparser296677* p, trstnode295009* father, NimStringDesc* postfix, NIM_BOOL interpretbackslash);
N_NIMCALL(NIM_BOOL, isinlinemarkupend_297544)(trstparser296677* p, NimStringDesc* markup);
N_NIMCALL(void, parsebackslash_298333)(trstparser296677* p, trstnode295009* father);
N_NIMCALL(void, rstmessage_296963)(trstparser296677* p, NU8 msgkind, NimStringDesc* arg, NI line, NI col);
N_NIMCALL(trstnode295009*, parsemarkdowncodeblock_298718)(trstparser296677* p);
N_NIMCALL(trstnode295009*, parsepostfix_297897)(trstparser296677* p, trstnode295009* n);
N_NIMCALL(void, fixupembeddedref_297834)(trstnode295009* n, trstnode295009* a, trstnode295009* b);
N_NIMCALL(void, setref_297354)(trstparser296677* p, NimStringDesc* key, trstnode295009* value);
N_NIMCALL(trstnode295009*, parsesmiley_298004)(trstparser296677* p);
N_NIMCALL(NI, matchverbatim_297948)(trstparser296677* p, NI start, NimStringDesc* expr);
N_NIMCALL(NIM_BOOL, nsuContinuesWith)(NimStringDesc* s, NimStringDesc* substr, NI start);
N_NIMCALL(void, parseurl_298277)(trstparser296677* p, trstnode295009* father);
N_NIMCALL(NIM_BOOL, isurl_298201)(trstparser296677* p, NI i);
static N_INLINE(NIM_BOOL, contains_298219)(NimStringDesc** a_298225, NI a_298225Len0, NimStringDesc* item_298228);
static N_INLINE(NI, find_298231)(NimStringDesc** a_298236, NI a_298236Len0, NimStringDesc* item_298238);
N_NIMCALL(trstnode295009*, parsefields_299348)(trstparser296677* p);
N_NIMCALL(trstnode295009*, parsefield_299318)(trstparser296677* p);
N_NIMCALL(NIM_BOOL, indfollows_301758)(trstparser296677* p);
N_NIMCALL(NimStringDesc*, nsuStrip)(NimStringDesc* s, NIM_BOOL leading, NIM_BOOL trailing);
N_NIMCALL(NimStringDesc*, getfieldvalue_296059)(trstnode295009* n, NimStringDesc* fieldname);
N_NIMCALL(NimStringDesc*, readfile_10440)(NimStringDesc* filename);
N_NIMCALL(trstnode295009*, dirimage_302203)(trstparser296677* p);
N_NIMCALL(trstnode295009*, dirfigure_302211)(trstparser296677* p);
N_NIMCALL(trstnode295009*, dirtitle_302219)(trstparser296677* p);
N_NIMCALL(trstnode295009*, dircontainer_301838)(trstparser296677* p);
N_NIMCALL(trstnode295009*, dircontents_302227)(trstparser296677* p);
N_NIMCALL(trstnode295009*, dirraw_302258)(trstparser296677* p);
N_NIMCALL(NI, nsuCmpIgnoreCase)(NimStringDesc* a, NimStringDesc* b);
N_NIMCALL(void, dirrawaux_302244)(trstparser296677* p, trstnode295009** result, NU8 kind, tsectionparser301608 contentparser);
N_NIMCALL(trstnode295009*, parsedirbody_301791)(trstparser296677* p, tsectionparser301608 contentparser);
N_NIMCALL(trstnode295009*, dircodeblock_301827)(trstparser296677* p);
N_NIMCALL(trstnode295009*, dirindex_302235)(trstparser296677* p);
N_NIMCALL(trstnode295009*, getreferencename_297441)(trstparser296677* p, NimStringDesc* endstr);
N_NIMCALL(trstnode295009*, untileol_297483)(trstparser296677* p);
N_NIMCALL(void, expect_297521)(trstparser296677* p, NimStringDesc* tok);
N_NIMCALL(void, setsub_297300)(trstparser296677* p, NimStringDesc* key, trstnode295009* value);
N_NIMCALL(trstnode295009*, parsecomment_299108)(trstparser296677* p);
N_NIMCALL(trstnode295009*, parseenumlist_301284)(trstparser296677* p);
N_NIMCALL(trstnode295009*, parsedefinitionlist_301193)(trstparser296677* p);
N_NIMCALL(trstnode295009*, parsetransition_300826)(trstparser296677* p);
N_NIMCALL(trstnode295009*, parseheadline_299863)(trstparser296677* p);
N_NIMCALL(void, parseuntilnewline_299304)(trstparser296677* p, trstnode295009* father);
N_NIMCALL(NI, getlevel_299587)(NI* map, NI* lvl, NIM_CHAR c);
N_NIMCALL(trstnode295009*, parseoverline_300899)(trstparser296677* p);
N_NIMCALL(trstnode295009*, parsesimpletable_300485)(trstparser296677* p);
N_NIMCALL(void, getcolumns_300231)(trstparser296677* p, TY296698** cols);
N_NIMCALL(NI, tokend_300225)(trstparser296677* p);
N_NIMCALL(trstnode295009*, parseoptionlist_301072)(trstparser296677* p);
N_NIMCALL(void, parseparagraph_299788)(trstparser296677* p, trstnode295009* result);
N_NIMCALL(void, addifnotnil_295187)(trstnode295009* father, trstnode295009* son);
N_NIMCALL(NU8, sonkind_301380)(trstnode295009* father, NI i);
STRING_LITERAL(TMP1993, "", 0);
STRING_LITERAL(TMP2074, "\001\001", 2);
NIM_CONST struct {
  TGenericSeq Sup;
  NI data[1];
} CNSTSEQ2344 = {{1, 1}, {0}};
NIM_CONST TY296698* TMP2342 = ((TY296698*)&CNSTSEQ2344);
STRING_LITERAL(TMP2347, "cannot open \'$1\'", 16);
STRING_LITERAL(TMP2348, "\'$1\' expected", 13);
STRING_LITERAL(TMP2349, "grid table is not implemented", 29);
STRING_LITERAL(TMP2350, "new section expected", 20);
STRING_LITERAL(TMP2351, "general parse error", 19);
STRING_LITERAL(TMP2352, "invalid directive: \'$1\'", 23);
STRING_LITERAL(TMP2353, "redefinition of label \'$1\'", 26);
STRING_LITERAL(TMP2354, "unknown substitution \'$1\'", 25);
STRING_LITERAL(TMP2355, "language \'$1\' not supported", 27);
NIM_CONST TY296045 messages_296044 = {((NimStringDesc*) &TMP2347),
((NimStringDesc*) &TMP2348),
((NimStringDesc*) &TMP2349),
((NimStringDesc*) &TMP2350),
((NimStringDesc*) &TMP2351),
((NimStringDesc*) &TMP2352),
((NimStringDesc*) &TMP2353),
((NimStringDesc*) &TMP2354),
((NimStringDesc*) &TMP2355)}
;
STRING_LITERAL(TMP2356, "$1($2, $3) $4: $5", 17);
STRING_LITERAL(TMP2361, "\015\012", 2);
static NIM_CONST TY91161 TMP2363 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0xFE, 0xFF, 0xFF, 0x07, 0xFE, 0xFF, 0xFF, 0x07,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF}
;
static NIM_CONST TY91161 TMP2364 = {
0x00, 0x02, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP2365, "#", 1);
static NIM_CONST TY91161 TMP2366 = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x03,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP2367, "ii", 2);
STRING_LITERAL(TMP2368, " a", 2);
STRING_LITERAL(TMP2369, "i", 1);
STRING_LITERAL(TMP2370, "ai", 2);
STRING_LITERAL(TMP2371, "::", 2);
STRING_LITERAL(TMP2372, "+", 1);
STRING_LITERAL(TMP2373, "*", 1);
STRING_LITERAL(TMP2374, "-", 1);
STRING_LITERAL(TMP2375, "|", 1);
STRING_LITERAL(TMP2376, "..", 2);
STRING_LITERAL(TMP2377, ":w:", 3);
STRING_LITERAL(TMP2378, "(e) ", 4);
STRING_LITERAL(TMP2379, "+a+", 3);
STRING_LITERAL(TMP2380, "-w", 2);
STRING_LITERAL(TMP2381, "--w", 3);
STRING_LITERAL(TMP2382, "/w", 2);
STRING_LITERAL(TMP2383, "//w", 3);
STRING_LITERAL(TMP2384, "e) ", 3);
STRING_LITERAL(TMP2385, "e. ", 3);
STRING_LITERAL(TMP2386, "author", 6);
STRING_LITERAL(TMP2387, "authors", 7);
STRING_LITERAL(TMP2388, "code-block", 10);
STRING_LITERAL(TMP2389, "container", 9);
STRING_LITERAL(TMP2390, "contents", 8);
STRING_LITERAL(TMP2391, "figure", 6);
STRING_LITERAL(TMP2392, "image", 5);
STRING_LITERAL(TMP2393, "include", 7);
STRING_LITERAL(TMP2394, "index", 5);
STRING_LITERAL(TMP2395, "raw", 3);
STRING_LITERAL(TMP2396, "title", 5);
NIM_CONST TY299215 dirids_299214 = {((NimStringDesc*) &TMP1993),
((NimStringDesc*) &TMP2386),
((NimStringDesc*) &TMP2387),
((NimStringDesc*) &TMP2388),
((NimStringDesc*) &TMP2389),
((NimStringDesc*) &TMP2390),
((NimStringDesc*) &TMP2391),
((NimStringDesc*) &TMP2392),
((NimStringDesc*) &TMP2393),
((NimStringDesc*) &TMP2394),
((NimStringDesc*) &TMP2395),
((NimStringDesc*) &TMP2396)}
;
static NIM_CONST TY91161 TMP2397 = {
0x00, 0x00, 0x00, 0x00, 0x84, 0xA1, 0x00, 0x14,
0x00, 0x00, 0x00, 0x88, 0x00, 0x00, 0x00, 0x08,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP2398, "\\", 1);
STRING_LITERAL(TMP2399, "***", 3);
static NIM_CONST TY91161 TMP2400 = {
0x00, 0x00, 0x00, 0x00, 0x86, 0xF2, 0x00, 0xCC,
0x00, 0x00, 0x00, 0xB0, 0x00, 0x00, 0x00, 0x20,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP2401, "``", 2);
STRING_LITERAL(TMP2402, "\\\\", 2);
STRING_LITERAL(TMP2403, " ", 1);
STRING_LITERAL(TMP2404, "**", 2);
STRING_LITERAL(TMP2405, "```", 3);
STRING_LITERAL(TMP2406, "`", 1);
STRING_LITERAL(TMP2407, "_", 1);
STRING_LITERAL(TMP2408, ">", 1);
STRING_LITERAL(TMP2409, "<", 1);
STRING_LITERAL(TMP2410, "idx", 3);
STRING_LITERAL(TMP2411, "literal", 7);
STRING_LITERAL(TMP2412, "strong", 6);
STRING_LITERAL(TMP2413, "emphasis", 8);
STRING_LITERAL(TMP2414, "sub", 3);
STRING_LITERAL(TMP2415, "subscript", 9);
STRING_LITERAL(TMP2416, "sup", 3);
STRING_LITERAL(TMP2417, "supscript", 9);
STRING_LITERAL(TMP2418, ":D", 2);
STRING_LITERAL(TMP2419, "icon_e_biggrin", 14);
STRING_LITERAL(TMP2420, ":-D", 3);
STRING_LITERAL(TMP2421, ":)", 2);
STRING_LITERAL(TMP2422, "icon_e_smile", 12);
STRING_LITERAL(TMP2423, ":-)", 3);
STRING_LITERAL(TMP2424, ";)", 2);
STRING_LITERAL(TMP2425, "icon_e_wink", 11);
STRING_LITERAL(TMP2426, ";-)", 3);
STRING_LITERAL(TMP2427, ":(", 2);
STRING_LITERAL(TMP2428, "icon_e_sad", 10);
STRING_LITERAL(TMP2429, ":-(", 3);
STRING_LITERAL(TMP2430, ":o", 2);
STRING_LITERAL(TMP2431, "icon_e_surprised", 16);
STRING_LITERAL(TMP2432, ":-o", 3);
STRING_LITERAL(TMP2433, ":shock:", 7);
STRING_LITERAL(TMP2434, "icon_eek", 8);
STRING_LITERAL(TMP2435, ":?", 2);
STRING_LITERAL(TMP2436, "icon_e_confused", 15);
STRING_LITERAL(TMP2437, ":-?", 3);
STRING_LITERAL(TMP2438, ":-/", 3);
STRING_LITERAL(TMP2439, "8-)", 3);
STRING_LITERAL(TMP2440, "icon_cool", 9);
STRING_LITERAL(TMP2441, ":lol:", 5);
STRING_LITERAL(TMP2442, "icon_lol", 8);
STRING_LITERAL(TMP2443, ":x", 2);
STRING_LITERAL(TMP2444, "icon_mad", 8);
STRING_LITERAL(TMP2445, ":-x", 3);
STRING_LITERAL(TMP2446, ":P", 2);
STRING_LITERAL(TMP2447, "icon_razz", 9);
STRING_LITERAL(TMP2448, ":-P", 3);
STRING_LITERAL(TMP2449, ":oops:", 6);
STRING_LITERAL(TMP2450, "icon_redface", 12);
STRING_LITERAL(TMP2451, ":cry:", 5);
STRING_LITERAL(TMP2452, "icon_cry", 8);
STRING_LITERAL(TMP2453, ":evil:", 6);
STRING_LITERAL(TMP2454, "icon_evil", 9);
STRING_LITERAL(TMP2455, ":twisted:", 9);
STRING_LITERAL(TMP2456, "icon_twisted", 12);
STRING_LITERAL(TMP2457, ":roll:", 6);
STRING_LITERAL(TMP2458, "icon_rolleyes", 13);
STRING_LITERAL(TMP2459, ":!:", 3);
STRING_LITERAL(TMP2460, "icon_exclaim", 12);
STRING_LITERAL(TMP2461, ":?:", 3);
STRING_LITERAL(TMP2462, "icon_question", 13);
STRING_LITERAL(TMP2463, ":idea:", 6);
STRING_LITERAL(TMP2464, "icon_idea", 9);
STRING_LITERAL(TMP2465, ":arrow:", 7);
STRING_LITERAL(TMP2466, "icon_arrow", 10);
STRING_LITERAL(TMP2467, ":|", 2);
STRING_LITERAL(TMP2468, "icon_neutral", 12);
STRING_LITERAL(TMP2469, ":-|", 3);
STRING_LITERAL(TMP2470, ":mrgreen:", 9);
STRING_LITERAL(TMP2471, "icon_mrgreen", 12);
STRING_LITERAL(TMP2472, ":geek:", 6);
STRING_LITERAL(TMP2473, "icon_e_geek", 11);
STRING_LITERAL(TMP2474, ":ugeek:", 7);
STRING_LITERAL(TMP2475, "icon_e_ugeek", 12);
NIM_CONST TY296074 smilies_296073 = {{((NimStringDesc*) &TMP2418),
((NimStringDesc*) &TMP2419)}
,
{((NimStringDesc*) &TMP2420),
((NimStringDesc*) &TMP2419)}
,
{((NimStringDesc*) &TMP2421),
((NimStringDesc*) &TMP2422)}
,
{((NimStringDesc*) &TMP2423),
((NimStringDesc*) &TMP2422)}
,
{((NimStringDesc*) &TMP2424),
((NimStringDesc*) &TMP2425)}
,
{((NimStringDesc*) &TMP2426),
((NimStringDesc*) &TMP2425)}
,
{((NimStringDesc*) &TMP2427),
((NimStringDesc*) &TMP2428)}
,
{((NimStringDesc*) &TMP2429),
((NimStringDesc*) &TMP2428)}
,
{((NimStringDesc*) &TMP2430),
((NimStringDesc*) &TMP2431)}
,
{((NimStringDesc*) &TMP2432),
((NimStringDesc*) &TMP2431)}
,
{((NimStringDesc*) &TMP2433),
((NimStringDesc*) &TMP2434)}
,
{((NimStringDesc*) &TMP2435),
((NimStringDesc*) &TMP2436)}
,
{((NimStringDesc*) &TMP2437),
((NimStringDesc*) &TMP2436)}
,
{((NimStringDesc*) &TMP2438),
((NimStringDesc*) &TMP2436)}
,
{((NimStringDesc*) &TMP2439),
((NimStringDesc*) &TMP2440)}
,
{((NimStringDesc*) &TMP2441),
((NimStringDesc*) &TMP2442)}
,
{((NimStringDesc*) &TMP2443),
((NimStringDesc*) &TMP2444)}
,
{((NimStringDesc*) &TMP2445),
((NimStringDesc*) &TMP2444)}
,
{((NimStringDesc*) &TMP2446),
((NimStringDesc*) &TMP2447)}
,
{((NimStringDesc*) &TMP2448),
((NimStringDesc*) &TMP2447)}
,
{((NimStringDesc*) &TMP2449),
((NimStringDesc*) &TMP2450)}
,
{((NimStringDesc*) &TMP2451),
((NimStringDesc*) &TMP2452)}
,
{((NimStringDesc*) &TMP2453),
((NimStringDesc*) &TMP2454)}
,
{((NimStringDesc*) &TMP2455),
((NimStringDesc*) &TMP2456)}
,
{((NimStringDesc*) &TMP2457),
((NimStringDesc*) &TMP2458)}
,
{((NimStringDesc*) &TMP2459),
((NimStringDesc*) &TMP2460)}
,
{((NimStringDesc*) &TMP2461),
((NimStringDesc*) &TMP2462)}
,
{((NimStringDesc*) &TMP2463),
((NimStringDesc*) &TMP2464)}
,
{((NimStringDesc*) &TMP2465),
((NimStringDesc*) &TMP2466)}
,
{((NimStringDesc*) &TMP2467),
((NimStringDesc*) &TMP2468)}
,
{((NimStringDesc*) &TMP2469),
((NimStringDesc*) &TMP2468)}
,
{((NimStringDesc*) &TMP2470),
((NimStringDesc*) &TMP2471)}
,
{((NimStringDesc*) &TMP2472),
((NimStringDesc*) &TMP2473)}
,
{((NimStringDesc*) &TMP2474),
((NimStringDesc*) &TMP2475)}
}
;
STRING_LITERAL(TMP2476, ":", 1);
STRING_LITERAL(TMP2477, "//", 2);
STRING_LITERAL(TMP2479, "http", 4);
STRING_LITERAL(TMP2480, "https", 5);
STRING_LITERAL(TMP2481, "ftp", 3);
STRING_LITERAL(TMP2482, "telnet", 6);
STRING_LITERAL(TMP2483, "file", 4);
NIM_CONST TY296821 TMP2478 = {((NimStringDesc*) &TMP2479),
((NimStringDesc*) &TMP2480),
((NimStringDesc*) &TMP2481),
((NimStringDesc*) &TMP2482),
((NimStringDesc*) &TMP2483)}
;
STRING_LITERAL(TMP2486, "html", 4);
STRING_LITERAL(TMP2487, "latex", 5);
STRING_LITERAL(TMP2488, " _", 2);
STRING_LITERAL(TMP2489, " |", 2);
STRING_LITERAL(TMP2490, "replace", 7);
STRING_LITERAL(TMP2491, " [", 2);
STRING_LITERAL(TMP2492, "]", 1);
NIM_CONST TY301290 wildcards_301289 = {((NimStringDesc*) &TMP2378),
((NimStringDesc*) &TMP2384),
((NimStringDesc*) &TMP2385)}
;
NIM_CONST TY301295 wildpos_301294 = {1,
0,
0}
;
extern TNimType NTI2409; /* TObject */
TNimType NTI296677; /* TRstParser */
extern TNimType NTI106; /* int */
TNimType NTI296114; /* TToken */
TNimType NTI296112; /* TTokType */
extern TNimType NTI143; /* string */
TNimType NTI296116; /* TTokenSeq */
TNimType NTI296673; /* TSharedState */
TNimType NTI296008; /* TRstParseOption */
TNimType NTI296010; /* TRstParseOptions */
TNimType NTI296671; /* TSubstitution */
extern TNimType NTI295005; /* PRstNode */
TNimType NTI296687; /* seq[TSubstitution] */
extern TNimType NTI91032; /* TSkipTable */
TNimType NTI296016; /* TMsgHandler */
TNimType NTI296018; /* TFindFileHandler */
TNimType NTI296675; /* PSharedState */
TNimType NTI296698; /* seq[int] */
extern TNimType NTI134; /* bool */
extern tgcheap42816 gch_42844;
TNimType NTI296014; /* TMsgKind */
TNimType NTI296012; /* TMsgClass */
extern TNimType NTI2453; /* EInvalidValue */
TNimType NTI296679; /* EParseError */
TNimType NTI296836; /* ref EParseError */
TNimType NTI296118; /* TLexer */
extern TNimType NTI145; /* cstring */
extern TNimType NTI111405; /* seq[string] */

N_NIMCALL(void, rstnodetorefnameaux_297163)(trstnode295009* n, NimStringDesc** r, NIM_BOOL* b) {
	{
		NI i_297191;
		NI HEX3Atmp_297234;
		NI res_297236;
		if (!((*n).Kind == ((NU8) 64))) goto LA3;
		i_297191 = 0;
		HEX3Atmp_297234 = 0;
		HEX3Atmp_297234 = (NI64)((*n).Text->Sup.len - 1);
		res_297236 = 0;
		while (1) {
			if (!(res_297236 <= HEX3Atmp_297234)) goto LA5;
			i_297191 = res_297236;
			switch (((NU8)((*n).Text->data[i_297191]))) {
			case 48 ... 57:
			{
				{
					if (!(*b)) goto LA9;
					(*r) = addChar((*r), 45);
					(*b) = NIM_FALSE;
				}
				LA9: ;
				{
					if (!((*r)->Sup.len == 0)) goto LA13;
					(*r) = addChar((*r), 90);
				}
				LA13: ;
				(*r) = addChar((*r), (*n).Text->data[i_297191]);
			}
			break;
			case 97 ... 122:
			{
				{
					if (!(*b)) goto LA18;
					(*r) = addChar((*r), 45);
					(*b) = NIM_FALSE;
				}
				LA18: ;
				(*r) = addChar((*r), (*n).Text->data[i_297191]);
			}
			break;
			case 65 ... 90:
			{
				{
					if (!(*b)) goto LA23;
					(*r) = addChar((*r), 45);
					(*b) = NIM_FALSE;
				}
				LA23: ;
				(*r) = addChar((*r), ((NIM_CHAR) (((NI) ((NI64)(((NI) ((NI64)(((NI) (((NU8)((*n).Text->data[i_297191])))) - 65))) + 97))))));
			}
			break;
			default:
			{
				{
					if (!(0 < (*r)->Sup.len)) goto LA28;
					(*b) = NIM_TRUE;
				}
				LA28: ;
			}
			break;
			}
			res_297236 += 1;
		} LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		NI i_297233;
		NI HEX3Atmp_297238;
		NI LOC31;
		NI res_297240;
		i_297233 = 0;
		HEX3Atmp_297238 = 0;
		LOC31 = 0;
		LOC31 = len_295080(n);
		HEX3Atmp_297238 = (NI64)(LOC31 - 1);
		res_297240 = 0;
		while (1) {
			if (!(res_297240 <= HEX3Atmp_297238)) goto LA32;
			i_297233 = res_297240;
			rstnodetorefnameaux_297163((*n).Sons->data[i_297233], r, b);
			res_297240 += 1;
		} LA32: ;
	}
	LA1: ;
}

N_NIMCALL(NimStringDesc*, rstnodetorefname_296051)(trstnode295009* n) {
	NimStringDesc* result;
	NIM_BOOL b;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP1993));
	b = NIM_FALSE;
	rstnodetorefnameaux_297163(n, &result, &b);
	return result;
}

static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	memcpy(((NCSTRING) (&(*dest).data[((*dest).Sup.len)- 0])), ((NCSTRING) ((*src).data)), (NI64)((*src).Sup.len + 1));
	(*dest).Sup.len += (*src).Sup.len;
}

N_NIMCALL(void, addnodesaux_297122)(trstnode295009* n, NimStringDesc** result) {
	{
		if (!((*n).Kind == ((NU8) 64))) goto LA3;
		(*result) = resizeString((*result), (*n).Text->Sup.len + 0);
appendString((*result), (*n).Text);
	}
	goto LA1;
	LA3: ;
	{
		NI i_297148;
		NI HEX3Atmp_297149;
		NI LOC6;
		NI res_297151;
		i_297148 = 0;
		HEX3Atmp_297149 = 0;
		LOC6 = 0;
		LOC6 = len_295080(n);
		HEX3Atmp_297149 = (NI64)(LOC6 - 1);
		res_297151 = 0;
		while (1) {
			if (!(res_297151 <= HEX3Atmp_297149)) goto LA7;
			i_297148 = res_297151;
			addnodesaux_297122((*n).Sons->data[i_297148], result);
			res_297151 += 1;
		} LA7: ;
	}
	LA1: ;
}

N_NIMCALL(NimStringDesc*, addnodes_296055)(trstnode295009* n) {
	NimStringDesc* result;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP1993));
	addnodesaux_297122(n, &result);
	return result;
}

N_NIMCALL(NimStringDesc*, getfieldvalue_296059)(trstnode295009* n, NimStringDesc* fieldname) {
	NimStringDesc* result;
	NI i_299451;
	NI HEX3Atmp_299453;
	NI LOC9;
	NI res_299455;
	result = 0;
	result = copyString(((NimStringDesc*) &TMP1993));
	{
		if (!((*n).Sons->data[1] == NIM_NIL)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	{
		if (!!(((*(*n).Sons->data[1]).Kind == ((NU8) 13)))) goto LA7;
		goto BeforeRet;
	}
	LA7: ;
	i_299451 = 0;
	HEX3Atmp_299453 = 0;
	LOC9 = 0;
	LOC9 = len_295080((*n).Sons->data[1]);
	HEX3Atmp_299453 = (NI64)(LOC9 - 1);
	res_299455 = 0;
	while (1) {
		trstnode295009* f;
		if (!(res_299455 <= HEX3Atmp_299453)) goto LA10;
		i_299451 = res_299455;
		f = (*(*n).Sons->data[1]).Sons->data[i_299451];
		{
			NimStringDesc* LOC13;
			NI LOC14;
			LOC13 = 0;
			LOC13 = addnodes_296055((*f).Sons->data[0]);
			LOC14 = 0;
			LOC14 = nsuCmpIgnoreStyle(LOC13, fieldname);
			if (!(LOC14 == 0)) goto LA15;
			result = addnodes_296055((*f).Sons->data[1]);
			{
				if (!((result) && (result)->Sup.len == 0)) goto LA19;
				result = copyString(((NimStringDesc*) &TMP2074));
			}
			LA19: ;
			goto BeforeRet;
		}
		LA15: ;
		res_299455 += 1;
	} LA10: ;
	BeforeRet: ;
	return result;
}

N_NIMCALL(NimStringDesc*, getargument_296064)(trstnode295009* n) {
	NimStringDesc* result;
	result = 0;
	{
		if (!((*n).Sons->data[0] == NIM_NIL)) goto LA3;
		result = copyString(((NimStringDesc*) &TMP1993));
	}
	goto LA1;
	LA3: ;
	{
		result = addnodes_296055((*n).Sons->data[0]);
	}
	LA1: ;
	return result;
}
N_NIMCALL(void, TMP2327)(void* p, NI op) {
	ttokenseq296116* a;
	NI LOC1;
	a = (ttokenseq296116*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Symbol, op);
	}
}
N_NIMCALL(void, TMP2339)(void* p, NI op) {
	TY296687* a;
	NI LOC1;
	a = (TY296687*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Key, op);
	nimGCvisit((void*)a->data[LOC1].Value, op);
	}
}
N_NIMCALL(void, TMP2340)(void* p, NI op) {
	tsharedstate296673* a;
	NI LOC1;
	NI LOC2;
	a = (tsharedstate296673*)p;
	nimGCvisit((void*)(*a).Subs, op);
	nimGCvisit((void*)(*a).Refs, op);
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < 256; LOC1++) {
	}
	LOC2 = 0;
	for (LOC2 = 0; LOC2 < 256; LOC2++) {
	}
}
N_NIMCALL(void, TMP2341)(void* p, NI op) {
	TY296698* a;
	NI LOC1;
	a = (TY296698*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	}
}

N_NIMCALL(void, initparser_297077)(trstparser296677* p, tsharedstate296673* sharedstate) {
	genericSeqAssign(&(*p).Indentstack, TMP2342, (&NTI296698));
	unsureAsgnRef((void**) &(*p).Tok, (ttokenseq296116*) newSeq((&NTI296116), 0));
	(*p).Idx = 0;
	unsureAsgnRef((void**) &(*p).Filename, copyString(((NimStringDesc*) &TMP1993)));
	(*p).Hastoc = NIM_FALSE;
	(*p).Col = 0;
	(*p).Line = 1;
	unsureAsgnRef((void**) &(*p).S, sharedstate);
}

static N_INLINE(tcell40888*, usrtocell_44243)(void* usr) {
	tcell40888* result;
	result = 0;
	result = ((tcell40888*) ((NI)((NU64)(((NI) (usr))) - (NU64)(((NI)sizeof(tcell40888))))));
	return result;
}

static N_INLINE(void, rtladdzct_45802)(tcell40888* c) {
	addzct_44218(&gch_42844.Zct, c);
}

static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	tcell40888* c;
	c = usrtocell_44243(p);
	{
		(*c).Refcount -= 8;
		if (!((NU64)((*c).Refcount) < (NU64)(8))) goto LA3;
		rtladdzct_45802(c);
	}
	LA3: ;
}

N_NIMCALL(NU8, whichmsgclass_296705)(NU8 k) {
	NU8 result;
	result = 0;
	switch (((NU8)(reprEnum(k, (&NTI296014))->data[1]))) {
	case 101:
	case 69:
	{
		result = ((NU8) 2);
	}
	break;
	case 119:
	case 87:
	{
		result = ((NU8) 1);
	}
	break;
	case 104:
	case 72:
	{
		result = ((NU8) 0);
	}
	break;
	default:
	{
	}
	break;
	}
	return result;
}
N_NIMCALL(void, TMP2360)(void* p, NI op) {
	eparseerror296679* a;
	a = (eparseerror296679*)p;
	nimGCvisit((void*)(*a).Sup.Sup.Sup.parent, op);
	nimGCvisit((void*)(*a).Sup.Sup.Sup.message, op);
	nimGCvisit((void*)(*a).Sup.Sup.Sup.trace, op);
}

static N_INLINE(void, writeln_137205)(FILE* f_137209, NimStringDesc** x_137213, NI x_137213Len0) {
	NimStringDesc* i_137226;
	NI i_137232;
	i_137226 = 0;
	i_137232 = 0;
	while (1) {
		if (!(i_137232 < x_137213Len0)) goto LA1;
		i_137226 = x_137213[i_137232];
		write_10463(f_137209, i_137226);
		i_137232 += 1;
	} LA1: ;
	write_10463(f_137209, ((NimStringDesc*) &TMP2361));
}

N_NIMCALL(void, defaultmsghandler_296803)(NimStringDesc* filename, NI line, NI col, NU8 msgkind, NimStringDesc* arg) {
	NU8 mc;
	NimStringDesc* a;
	NimStringDesc* message;
	TY296821 LOC1;
	mc = whichmsgclass_296705(msgkind);
	a = nsuFormatSingleElem(messages_296044[(msgkind)- 0], arg);
	memset((void*)LOC1, 0, sizeof(LOC1));
	LOC1[0] = copyString(filename);
	LOC1[1] = nimIntToStr(line);
	LOC1[2] = nimIntToStr(col);
	LOC1[3] = copyString(reprEnum(mc, (&NTI296012)));
	LOC1[4] = copyString(a);
	message = nsuFormatOpenArray(((NimStringDesc*) &TMP2356), LOC1, 5);
	{
		eparseerror296679* e_296835;
		NimStringDesc* LOC6;
		if (!(mc == ((NU8) 2))) goto LA4;
		e_296835 = 0;
		e_296835 = (eparseerror296679*) newObj((&NTI296836), sizeof(eparseerror296679));
		(*e_296835).Sup.Sup.Sup.Sup.m_type = (&NTI296679);
		LOC6 = 0;
		LOC6 = (*e_296835).Sup.Sup.Sup.message; (*e_296835).Sup.Sup.Sup.message = copyStringRC1(message);
		if (LOC6) nimGCunrefNoCycle(LOC6);
		raiseException((E_Base*)e_296835, "EParseError");
	}
	goto LA2;
	LA4: ;
	{
		TY164002 LOC8;
		memset((void*)LOC8, 0, sizeof(LOC8));
		LOC8[0] = copyString(message);
		writeln_137205(stdout, LOC8, 1);
	}
	LA2: ;
}

N_NIMCALL(NimStringDesc*, defaultfindfile_296872)(NimStringDesc* filename) {
	NimStringDesc* result;
	result = 0;
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = nosexistsFile(filename);
		if (!LOC3) goto LA4;
		result = copyString(filename);
	}
	goto LA1;
	LA4: ;
	{
		result = copyString(((NimStringDesc*) &TMP1993));
	}
	LA1: ;
	return result;
}

N_NIMCALL(tsharedstate296673*, newsharedstate_296878)(NU8 options, tfindfilehandler296018 findfile, tmsghandler296016 msghandler) {
	tsharedstate296673* result;
	result = 0;
	result = (tsharedstate296673*) newObj((&NTI296675), sizeof(tsharedstate296673));
	if ((*result).Subs) nimGCunrefNoCycle((*result).Subs);
	(*result).Subs = (TY296687*) newSeqRC1((&NTI296687), 0);
	if ((*result).Refs) nimGCunrefNoCycle((*result).Refs);
	(*result).Refs = (TY296687*) newSeqRC1((&NTI296687), 0);
	(*result).Options = options;
	{
		if (!!(msghandler == 0)) goto LA3;
		(*result).Msghandler = msghandler;
	}
	goto LA1;
	LA3: ;
	{
		(*result).Msghandler = defaultmsghandler_296803;
	}
	LA1: ;
	{
		if (!!(findfile == 0)) goto LA8;
		(*result).Findfile = findfile;
	}
	goto LA6;
	LA8: ;
	{
		(*result).Findfile = defaultfindfile_296872;
	}
	LA6: ;
	return result;
}

N_NIMCALL(void, getthing_296138)(tlexer296118* l, ttoken296114* tok, TY91161 s) {
	NI pos;
	(*tok).Kind = ((NU8) 3);
	(*tok).Line = (*l).Line;
	(*tok).Col = (*l).Col;
	pos = (*l).Bufpos;
	while (1) {
		(*tok).Symbol = addChar((*tok).Symbol, (*l).Buf[pos]);
		pos += 1;
		{
			if (!!(((s[((NU8)((*l).Buf[pos]))/8] &(1<<(((NU8)((*l).Buf[pos]))%8)))!=0))) goto LA4;
			goto LA1;
		}
		LA4: ;
	} LA1: ;
	(*l).Col += (NI64)(pos - (*l).Bufpos);
	(*l).Bufpos = pos;
}

N_NIMCALL(NI, getindentaux_296237)(tlexer296118* l, NI start) {
	NI result;
	NI pos;
	NCSTRING buf;
	result = 0;
	pos = start;
	buf = (*l).Buf;
	{
		if (!((NU8)(buf[pos]) == (NU8)(13))) goto LA3;
		{
			if (!((NU8)(buf[(NI64)(pos + 1)]) == (NU8)(10))) goto LA7;
			pos += 2;
		}
		goto LA5;
		LA7: ;
		{
			pos += 1;
		}
		LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		if (!((NU8)(buf[pos]) == (NU8)(10))) goto LA11;
		pos += 1;
	}
	goto LA1;
	LA11: ;
	LA1: ;
	{
		if (!(*l).Skippounds) goto LA15;
		{
			if (!((NU8)(buf[pos]) == (NU8)(35))) goto LA19;
			pos += 1;
		}
		LA19: ;
		{
			if (!((NU8)(buf[pos]) == (NU8)(35))) goto LA23;
			pos += 1;
		}
		LA23: ;
	}
	LA15: ;
	while (1) {
		switch (((NU8)(buf[pos]))) {
		case 32:
		case 11:
		case 12:
		{
			pos += 1;
			result += 1;
		}
		break;
		case 9:
		{
			pos += 1;
			result = (NI64)((NI64)(result - ((NI) ((NI64)(result % 8)))) + 8);
		}
		break;
		default:
		{
			goto LA25;
		}
		break;
		}
	} LA25: ;
	{
		if (!((NU8)(buf[pos]) == (NU8)(0))) goto LA31;
		result = 0;
	}
	goto LA29;
	LA31: ;
	{
		NIM_BOOL LOC34;
		LOC34 = 0;
		LOC34 = ((NU8)(buf[pos]) == (NU8)(10));
		if (LOC34) goto LA35;
		LOC34 = ((NU8)(buf[pos]) == (NU8)(13));
		LA35: ;
		if (!LOC34) goto LA36;
		result = getindentaux_296237(l, pos);
	}
	goto LA29;
	LA36: ;
	LA29: ;
	(*l).Bufpos = pos;
	return result;
}

N_NIMCALL(void, getindent_296377)(tlexer296118* l, ttoken296114* tok) {
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	(*tok).Col = 0;
	(*tok).Kind = ((NU8) 1);
	(*tok).Ival = getindentaux_296237(l, (*l).Bufpos);
	(*l).Line += 1;
	(*tok).Line = (*l).Line;
	(*l).Col = (*tok).Ival;
	(*tok).Ival = (((NI64)((*tok).Ival - (*l).Baseindent) >= 0) ? (NI64)((*tok).Ival - (*l).Baseindent) : 0);
	LOC1 = 0;
	LOC2 = 0;
	LOC2 = nsuRepeatChar((*tok).Ival, 32);
	LOC1 = rawNewString(LOC2->Sup.len + 2);
appendString(LOC1, ((NimStringDesc*) &TMP2361));
appendString(LOC1, LOC2);
	unsureAsgnRef((void**) &(*tok).Symbol, LOC1);
}

N_NIMCALL(void, getadornment_296194)(tlexer296118* l, ttoken296114* tok) {
	NI pos;
	NIM_CHAR c;
	(*tok).Kind = ((NU8) 4);
	(*tok).Line = (*l).Line;
	(*tok).Col = (*l).Col;
	pos = (*l).Bufpos;
	c = (*l).Buf[pos];
	while (1) {
		(*tok).Symbol = addChar((*tok).Symbol, (*l).Buf[pos]);
		pos += 1;
		{
			if (!!(((NU8)((*l).Buf[pos]) == (NU8)(c)))) goto LA4;
			goto LA1;
		}
		LA4: ;
	} LA1: ;
	(*l).Col += (NI64)(pos - (*l).Bufpos);
	(*l).Bufpos = pos;
}

N_NIMCALL(void, rawgettok_296404)(tlexer296118* l, ttoken296114* tok) {
	NIM_CHAR c;
	unsureAsgnRef((void**) &(*tok).Symbol, copyString(((NimStringDesc*) &TMP1993)));
	(*tok).Ival = 0;
	c = (*l).Buf[(*l).Bufpos];
	switch (((NU8)(c))) {
	case 97 ... 122:
	case 65 ... 90:
	case 128 ... 255:
	case 48 ... 57:
	{
		getthing_296138(l, tok, TMP2363);
	}
	break;
	case 32:
	case 9:
	case 11:
	case 12:
	{
		getthing_296138(l, tok, TMP2364);
		(*tok).Kind = ((NU8) 2);
		{
			if (!(((NU8)((*l).Buf[(*l).Bufpos])) == ((NU8)(13)) || ((NU8)((*l).Buf[(*l).Bufpos])) == ((NU8)(10)))) goto LA5;
			rawgettok_296404(l, tok);
		}
		LA5: ;
	}
	break;
	case 13:
	case 10:
	{
		getindent_296377(l, tok);
	}
	break;
	case 33:
	case 34:
	case 35:
	case 36:
	case 37:
	case 38:
	case 39:
	case 40:
	case 41:
	case 42:
	case 43:
	case 44:
	case 45:
	case 46:
	case 47:
	case 58:
	case 59:
	case 60:
	case 61:
	case 62:
	case 63:
	case 64:
	case 91:
	case 92:
	case 93:
	case 94:
	case 95:
	case 96:
	case 123:
	case 124:
	case 125:
	case 126:
	{
		getadornment_296194(l, tok);
		{
			if (!((*tok).Symbol->Sup.len <= 3)) goto LA11;
			(*tok).Kind = ((NU8) 5);
		}
		LA11: ;
	}
	break;
	default:
	{
		(*tok).Line = (*l).Line;
		(*tok).Col = (*l).Col;
		{
			if (!((NU8)(c) == (NU8)(0))) goto LA16;
			(*tok).Kind = ((NU8) 0);
		}
		goto LA14;
		LA16: ;
		{
			(*tok).Kind = ((NU8) 6);
			(*tok).Symbol = addChar((*tok).Symbol, c);
			(*l).Bufpos += 1;
			(*l).Col += 1;
		}
		LA14: ;
	}
	break;
	}
	(*tok).Col = (((NI64)((*tok).Col - (*l).Baseindent) >= 0) ? (NI64)((*tok).Col - (*l).Baseindent) : 0);
}

N_NIMCALL(NI, gettokens_296463)(NimStringDesc* buffer, NIM_BOOL skippounds, ttokenseq296116** tokens) {
	NI result;
	tlexer296118 l;
	NI length;
	result = 0;
	memset((void*)&l, 0, sizeof(l));
	l.Sup.m_type = (&NTI296118);
	length = (*tokens)->Sup.len;
	l.Buf = buffer->data;
	l.Line = 0;
	{
		NIM_BOOL LOC3;
		NIM_BOOL LOC4;
		LOC3 = 0;
		LOC4 = 0;
		LOC4 = ((NU8)(l.Buf[0]) == (NU8)(239));
		if (!(LOC4)) goto LA5;
		LOC4 = ((NU8)(l.Buf[1]) == (NU8)(187));
		LA5: ;
		LOC3 = LOC4;
		if (!(LOC3)) goto LA6;
		LOC3 = ((NU8)(l.Buf[2]) == (NU8)(191));
		LA6: ;
		if (!LOC3) goto LA7;
		l.Bufpos += 3;
	}
	LA7: ;
	l.Skippounds = skippounds;
	{
		if (!skippounds) goto LA11;
		{
			if (!((NU8)(l.Buf[l.Bufpos]) == (NU8)(35))) goto LA15;
			l.Bufpos += 1;
			result += 1;
		}
		LA15: ;
		{
			if (!((NU8)(l.Buf[l.Bufpos]) == (NU8)(35))) goto LA19;
			l.Bufpos += 1;
			result += 1;
		}
		LA19: ;
		l.Baseindent = 0;
		while (1) {
			if (!((NU8)(l.Buf[l.Bufpos]) == (NU8)(32))) goto LA21;
			l.Bufpos += 1;
			l.Baseindent += 1;
			result += 1;
		} LA21: ;
	}
	LA11: ;
	while (1) {
		length += 1;
		(*tokens) = (ttokenseq296116*) setLengthSeq(&((*tokens))->Sup, sizeof(ttoken296114), length);
		rawgettok_296404(&l, &(*tokens)->data[(NI64)(length - 1)]);
		{
			if (!((*tokens)->data[(NI64)(length - 1)].Kind == ((NU8) 0))) goto LA25;
			goto LA22;
		}
		LA25: ;
	} LA22: ;
	{
		if (!((*tokens)->data[0].Kind == ((NU8) 2))) goto LA29;
		(*tokens)->data[0].Ival = (*tokens)->data[0].Symbol->Sup.len;
		(*tokens)->data[0].Kind = ((NU8) 1);
	}
	LA29: ;
	return result;
}

static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b) {
	NIM_BOOL result;
	NIM_BOOL LOC11;
	int LOC13;
	result = 0;
	{
		if (!(a == b)) goto LA3;
		result = NIM_TRUE;
		goto BeforeRet;
	}
	LA3: ;
	{
		NIM_BOOL LOC7;
		LOC7 = 0;
		LOC7 = (a == NIM_NIL);
		if (LOC7) goto LA8;
		LOC7 = (b == NIM_NIL);
		LA8: ;
		if (!LOC7) goto LA9;
		result = NIM_FALSE;
		goto BeforeRet;
	}
	LA9: ;
	LOC11 = 0;
	LOC11 = ((*a).Sup.len == (*b).Sup.len);
	if (!(LOC11)) goto LA12;
	LOC13 = 0;
	LOC13 = memcmp(((NCSTRING) ((*a).data)), ((NCSTRING) ((*b).data)), (NI64)((*a).Sup.len * 1));
	LOC11 = (LOC13 == ((NI32) 0));
	LA12: ;
	result = LOC11;
	goto BeforeRet;
	BeforeRet: ;
	return result;
}

N_NIMCALL(NI, findsub_297255)(trstparser296677* p, trstnode295009* n) {
	NI result;
	NimStringDesc* key;
	NI i_297274;
	NI HEX3Atmp_297288;
	NI res_297290;
	NI i_297287;
	NI HEX3Atmp_297292;
	NI res_297294;
	result = 0;
	key = addnodes_296055(n);
	i_297274 = 0;
	HEX3Atmp_297288 = 0;
	HEX3Atmp_297288 = ((*(*p).S).Subs->Sup.len-1);
	res_297290 = 0;
	while (1) {
		if (!(res_297290 <= HEX3Atmp_297288)) goto LA1;
		i_297274 = res_297290;
		{
			if (!eqStrings(key, (*(*p).S).Subs->data[i_297274].Key)) goto LA4;
			result = i_297274;
			goto BeforeRet;
		}
		LA4: ;
		res_297290 += 1;
	} LA1: ;
	i_297287 = 0;
	HEX3Atmp_297292 = 0;
	HEX3Atmp_297292 = ((*(*p).S).Subs->Sup.len-1);
	res_297294 = 0;
	while (1) {
		if (!(res_297294 <= HEX3Atmp_297292)) goto LA6;
		i_297287 = res_297294;
		{
			NI LOC9;
			LOC9 = 0;
			LOC9 = nsuCmpIgnoreStyle(key, (*(*p).S).Subs->data[i_297287].Key);
			if (!(LOC9 == 0)) goto LA10;
			result = i_297287;
			goto BeforeRet;
		}
		LA10: ;
		res_297294 += 1;
	} LA6: ;
	result = -1;
	BeforeRet: ;
	return result;
}

N_NIMCALL(void, rstmessage_296956)(trstparser296677* p, NU8 msgkind, NimStringDesc* arg) {
	(*(*p).S).Msghandler((*p).Filename, (NI64)((*p).Line + (*p).Tok->data[(*p).Idx].Line), (NI64)((*p).Col + (*p).Tok->data[(*p).Idx].Col), msgkind, arg);
}

N_NIMCALL(trstnode295009*, findref_297408)(trstparser296677* p, NimStringDesc* key) {
	trstnode295009* result;
	NI i_297426;
	NI HEX3Atmp_297427;
	NI res_297429;
	result = 0;
	i_297426 = 0;
	HEX3Atmp_297427 = 0;
	HEX3Atmp_297427 = ((*(*p).S).Refs->Sup.len-1);
	res_297429 = 0;
	while (1) {
		if (!(res_297429 <= HEX3Atmp_297427)) goto LA1;
		i_297426 = res_297429;
		{
			if (!eqStrings(key, (*(*p).S).Refs->data[i_297426].Key)) goto LA4;
			result = (*(*p).S).Refs->data[i_297426].Value;
			goto BeforeRet;
		}
		LA4: ;
		res_297429 += 1;
	} LA1: ;
	BeforeRet: ;
	return result;
}

static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src) {
	{
		tcell40888* c;
		if (!!((src == NIM_NIL))) goto LA3;
		c = usrtocell_44243(src);
		(*c).Refcount += 8;
	}
	LA3: ;
	{
		tcell40888* c;
		if (!!(((*dest) == NIM_NIL))) goto LA7;
		c = usrtocell_44243((*dest));
		{
			(*c).Refcount -= 8;
			if (!((NU64)((*c).Refcount) < (NU64)(8))) goto LA11;
			rtladdzct_45802(c);
		}
		LA11: ;
	}
	LA7: ;
	(*dest) = src;
}

N_NIMCALL(trstnode295009*, resolvesubs_302486)(trstparser296677* p, trstnode295009* n) {
	trstnode295009* result;
	result = 0;
	result = n;
	{
		if (!(n == NIM_NIL)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	switch ((*n).Kind) {
	case ((NU8) 62):
	{
		NI x;
		x = findsub_297255(p, n);
		{
			if (!(0 <= x)) goto LA8;
			result = (*(*p).S).Subs->data[x].Value;
		}
		goto LA6;
		LA8: ;
		{
			NimStringDesc* key;
			NimStringDesc* e;
			key = addnodes_296055(n);
			e = getenv_112025(key);
			{
				if (!!(((e) && (e)->Sup.len == 0))) goto LA13;
				result = newrstnode_295139(((NU8) 64), e);
			}
			goto LA11;
			LA13: ;
			{
				rstmessage_296956(&(*p), ((NU8) 7), key);
			}
			LA11: ;
		}
		LA6: ;
	}
	break;
	case ((NU8) 39):
	{
		trstnode295009* y;
		NimStringDesc* LOC17;
		LOC17 = 0;
		LOC17 = rstnodetorefname_296051(n);
		y = findref_297408(p, LOC17);
		{
			if (!!((y == NIM_NIL))) goto LA20;
			result = newrstnode_295097(((NU8) 38));
			(*n).Kind = ((NU8) 0);
			add_295163(result, n);
			add_295163(result, y);
		}
		LA20: ;
	}
	break;
	case ((NU8) 64):
	{
	}
	break;
	case ((NU8) 44):
	{
		(*p).Hastoc = NIM_TRUE;
	}
	break;
	default:
	{
		NI i_302542;
		NI HEX3Atmp_302543;
		NI LOC25;
		NI res_302545;
		i_302542 = 0;
		HEX3Atmp_302543 = 0;
		LOC25 = 0;
		LOC25 = len_295080(n);
		HEX3Atmp_302543 = (NI64)(LOC25 - 1);
		res_302545 = 0;
		while (1) {
			if (!(res_302545 <= HEX3Atmp_302543)) goto LA26;
			i_302542 = res_302545;
			asgnRefNoCycle((void**) &(*n).Sons->data[i_302542], resolvesubs_302486(p, (*n).Sons->data[i_302542]));
			res_302545 += 1;
		} LA26: ;
	}
	break;
	}
	BeforeRet: ;
	return result;
}

N_NIMCALL(NI, currind_297001)(trstparser296677* p) {
	NI result;
	result = 0;
	result = (*p).Indentstack->data[((*p).Indentstack->Sup.len-1)];
	return result;
}

N_NIMCALL(void, pushind_297007)(trstparser296677* p, NI ind) {
	(*p).Indentstack = (TY296698*) incrSeq(&((*p).Indentstack)->Sup, sizeof(NI));
	(*p).Indentstack->data[(*p).Indentstack->Sup.len-1] = ind;
}

N_NIMCALL(void, popind_297032)(trstparser296677* p) {
	{
		if (!(1 < (*p).Indentstack->Sup.len)) goto LA3;
		(*p).Indentstack = (TY296698*) setLengthSeq(&((*p).Indentstack)->Sup, sizeof(NI), (NI64)((*p).Indentstack->Sup.len - 1));
	}
	LA3: ;
}

N_NIMCALL(NIM_BOOL, match_297647)(trstparser296677* p, NI start, NimStringDesc* expr) {
	NIM_BOOL result;
	NI i;
	NI j;
	NI last;
	result = 0;
	i = 0;
	j = start;
	last = (NI64)(expr->Sup.len - 1);
	while (1) {
		if (!(i <= last)) goto LA1;
		switch (((NU8)(expr->data[i]))) {
		case 119:
		{
			result = ((*p).Tok->data[j].Kind == ((NU8) 3));
		}
		break;
		case 32:
		{
			result = ((*p).Tok->data[j].Kind == ((NU8) 2));
		}
		break;
		case 105:
		{
			result = ((*p).Tok->data[j].Kind == ((NU8) 1));
		}
		break;
		case 112:
		{
			result = ((*p).Tok->data[j].Kind == ((NU8) 5));
		}
		break;
		case 97:
		{
			result = ((*p).Tok->data[j].Kind == ((NU8) 4));
		}
		break;
		case 111:
		{
			result = ((*p).Tok->data[j].Kind == ((NU8) 6));
		}
		break;
		case 84:
		{
			result = NIM_TRUE;
		}
		break;
		case 69:
		{
			result = ((7 &(1<<(((*p).Tok->data[j].Kind)&7)))!=0);
		}
		break;
		case 101:
		{
			NIM_BOOL LOC11;
			LOC11 = 0;
			LOC11 = ((*p).Tok->data[j].Kind == ((NU8) 3));
			if (LOC11) goto LA12;
			LOC11 = eqStrings((*p).Tok->data[j].Symbol, ((NimStringDesc*) &TMP2365));
			LA12: ;
			result = LOC11;
			{
				if (!result) goto LA15;
				switch (((NU8)((*p).Tok->data[j].Symbol->data[0]))) {
				case 97 ... 122:
				case 65 ... 90:
				{
					result = ((*p).Tok->data[j].Symbol->Sup.len == 1);
				}
				break;
				case 48 ... 57:
				{
					result = allcharsinset_90836((*p).Tok->data[j].Symbol, TMP2366);
				}
				break;
				default:
				{
				}
				break;
				}
			}
			LA15: ;
		}
		break;
		default:
		{
			NIM_CHAR c;
			NI length;
			NIM_BOOL LOC24;
			NIM_BOOL LOC25;
			c = expr->data[i];
			length = 0;
			while (1) {
				NIM_BOOL LOC22;
				LOC22 = 0;
				LOC22 = (i <= last);
				if (!(LOC22)) goto LA23;
				LOC22 = ((NU8)(expr->data[i]) == (NU8)(c));
				LA23: ;
				if (!LOC22) goto LA21;
				i += 1;
				length += 1;
			} LA21: ;
			i -= 1;
			LOC24 = 0;
			LOC25 = 0;
			LOC25 = ((48 &(1<<(((*p).Tok->data[j].Kind)&7)))!=0);
			if (!(LOC25)) goto LA26;
			LOC25 = ((*p).Tok->data[j].Symbol->Sup.len == length);
			LA26: ;
			LOC24 = LOC25;
			if (!(LOC24)) goto LA27;
			LOC24 = ((NU8)((*p).Tok->data[j].Symbol->data[0]) == (NU8)(c));
			LA27: ;
			result = LOC24;
		}
		break;
		}
		{
			if (!!(result)) goto LA30;
			goto BeforeRet;
		}
		LA30: ;
		j += 1;
		i += 1;
	} LA1: ;
	result = NIM_TRUE;
	BeforeRet: ;
	return result;
}

N_NIMCALL(NI, tokenafternewline_299613)(trstparser296677* p) {
	NI result;
	result = 0;
	result = (*p).Idx;
	while (1) {
		switch ((*p).Tok->data[result].Kind) {
		case ((NU8) 0):
		{
			goto LA1;
		}
		break;
		case ((NU8) 1):
		{
			result += 1;
			goto LA1;
		}
		break;
		default:
		{
			result += 1;
		}
		break;
		}
	} LA1: ;
	return result;
}

N_NIMCALL(NIM_BOOL, prednl_299660)(trstparser296677* p) {
	NIM_BOOL result;
	result = 0;
	result = NIM_TRUE;
	{
		NIM_BOOL LOC5;
		NI LOC7;
		if (!(0 < (*p).Idx)) goto LA3;
		LOC5 = 0;
		LOC5 = ((*p).Tok->data[(NI64)((*p).Idx - 1)].Kind == ((NU8) 1));
		if (!(LOC5)) goto LA6;
		LOC7 = 0;
		LOC7 = currind_297001(p);
		LOC5 = ((*p).Tok->data[(NI64)((*p).Idx - 1)].Ival == LOC7);
		LA6: ;
		result = LOC5;
	}
	LA3: ;
	return result;
}

N_NIMCALL(NIM_BOOL, islineblock_299652)(trstparser296677* p) {
	NIM_BOOL result;
	NI j;
	NIM_BOOL LOC1;
	NIM_BOOL LOC2;
	result = 0;
	j = tokenafternewline_299613(p);
	LOC1 = 0;
	LOC2 = 0;
	LOC2 = ((*p).Tok->data[(*p).Idx].Col == (*p).Tok->data[j].Col);
	if (!(LOC2)) goto LA3;
	LOC2 = eqStrings((*p).Tok->data[j].Symbol, ((NimStringDesc*) &TMP2375));
	LA3: ;
	LOC1 = LOC2;
	if (LOC1) goto LA4;
	LOC1 = ((*p).Tok->data[(*p).Idx].Col < (*p).Tok->data[j].Col);
	LA4: ;
	result = LOC1;
	return result;
}

N_NIMCALL(void, rstmessage_296972)(trstparser296677* p, NU8 msgkind) {
	(*(*p).S).Msghandler((*p).Filename, (NI64)((*p).Line + (*p).Tok->data[(*p).Idx].Line), (NI64)((*p).Col + (*p).Tok->data[(*p).Idx].Col), msgkind, (*p).Tok->data[(*p).Idx].Symbol);
}

N_NIMCALL(NIM_BOOL, isdeflist_299676)(trstparser296677* p) {
	NIM_BOOL result;
	NI j;
	NIM_BOOL LOC1;
	NIM_BOOL LOC2;
	result = 0;
	j = tokenafternewline_299613(p);
	LOC1 = 0;
	LOC2 = 0;
	LOC2 = ((*p).Tok->data[(*p).Idx].Col < (*p).Tok->data[j].Col);
	if (!(LOC2)) goto LA3;
	LOC2 = ((104 &(1<<(((*p).Tok->data[j].Kind)&7)))!=0);
	LA3: ;
	LOC1 = LOC2;
	if (!(LOC1)) goto LA4;
	LOC1 = !(eqStrings((*p).Tok->data[(NI64)(j - 2)].Symbol, ((NimStringDesc*) &TMP2371)));
	LA4: ;
	result = LOC1;
	return result;
}

N_NIMCALL(NIM_BOOL, isoptionlist_299698)(trstparser296677* p) {
	NIM_BOOL result;
	NIM_BOOL LOC1;
	NIM_BOOL LOC2;
	NIM_BOOL LOC3;
	result = 0;
	LOC1 = 0;
	LOC2 = 0;
	LOC3 = 0;
	LOC3 = match_297647(p, (*p).Idx, ((NimStringDesc*) &TMP2380));
	if (LOC3) goto LA4;
	LOC3 = match_297647(p, (*p).Idx, ((NimStringDesc*) &TMP2381));
	LA4: ;
	LOC2 = LOC3;
	if (LOC2) goto LA5;
	LOC2 = match_297647(p, (*p).Idx, ((NimStringDesc*) &TMP2382));
	LA5: ;
	LOC1 = LOC2;
	if (LOC1) goto LA6;
	LOC1 = match_297647(p, (*p).Idx, ((NimStringDesc*) &TMP2383));
	LA6: ;
	result = LOC1;
	return result;
}

N_NIMCALL(NU8, whichsection_299704)(trstparser296677* p) {
	NU8 result;
	result = 0;
	switch ((*p).Tok->data[(*p).Idx].Kind) {
	case ((NU8) 4):
	{
		{
			NIM_BOOL LOC4;
			LOC4 = 0;
			LOC4 = match_297647(p, (NI64)((*p).Idx + 1), ((NimStringDesc*) &TMP2367));
			if (!LOC4) goto LA5;
			result = ((NU8) 3);
		}
		goto LA2;
		LA5: ;
		{
			NIM_BOOL LOC8;
			LOC8 = 0;
			LOC8 = match_297647(p, (NI64)((*p).Idx + 1), ((NimStringDesc*) &TMP2368));
			if (!LOC8) goto LA9;
			result = ((NU8) 29);
		}
		goto LA2;
		LA9: ;
		{
			NIM_BOOL LOC12;
			LOC12 = 0;
			LOC12 = match_297647(p, (NI64)((*p).Idx + 1), ((NimStringDesc*) &TMP2369));
			if (!LOC12) goto LA13;
			result = ((NU8) 2);
		}
		goto LA2;
		LA13: ;
		{
			result = ((NU8) 64);
		}
		LA2: ;
	}
	break;
	case ((NU8) 5):
	{
		{
			NI LOC19;
			NIM_BOOL LOC20;
			LOC19 = 0;
			LOC19 = tokenafternewline_299613(p);
			LOC20 = 0;
			LOC20 = match_297647(p, LOC19, ((NimStringDesc*) &TMP2370));
			if (!LOC20) goto LA21;
			result = ((NU8) 1);
		}
		goto LA17;
		LA21: ;
		{
			if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2371))) goto LA24;
			result = ((NU8) 24);
		}
		goto LA17;
		LA24: ;
		{
			NIM_BOOL LOC27;
			NIM_BOOL LOC28;
			NIM_BOOL LOC30;
			NIM_BOOL LOC31;
			LOC27 = 0;
			LOC28 = 0;
			LOC28 = prednl_299660(p);
			if (!(LOC28)) goto LA29;
			LOC30 = 0;
			LOC31 = 0;
			LOC31 = eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2372));
			if (LOC31) goto LA32;
			LOC31 = eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2373));
			LA32: ;
			LOC30 = LOC31;
			if (LOC30) goto LA33;
			LOC30 = eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2374));
			LA33: ;
			LOC28 = LOC30;
			LA29: ;
			LOC27 = LOC28;
			if (!(LOC27)) goto LA34;
			LOC27 = ((*p).Tok->data[(NI64)((*p).Idx + 1)].Kind == ((NU8) 2));
			LA34: ;
			if (!LOC27) goto LA35;
			result = ((NU8) 5);
		}
		goto LA17;
		LA35: ;
		{
			NIM_BOOL LOC38;
			LOC38 = 0;
			LOC38 = eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2375));
			if (!(LOC38)) goto LA39;
			LOC38 = islineblock_299652(p);
			LA39: ;
			if (!LOC38) goto LA40;
			result = ((NU8) 26);
		}
		goto LA17;
		LA40: ;
		{
			NIM_BOOL LOC43;
			LOC43 = 0;
			LOC43 = eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2376));
			if (!(LOC43)) goto LA44;
			LOC43 = prednl_299660(p);
			LA44: ;
			if (!LOC43) goto LA45;
			result = ((NU8) 40);
		}
		goto LA17;
		LA45: ;
		{
			NIM_BOOL LOC48;
			LOC48 = 0;
			LOC48 = match_297647(p, (*p).Idx, ((NimStringDesc*) &TMP2377));
			if (!(LOC48)) goto LA49;
			LOC48 = prednl_299660(p);
			LA49: ;
			if (!LOC48) goto LA50;
			result = ((NU8) 13);
		}
		goto LA17;
		LA50: ;
		{
			NIM_BOOL LOC53;
			LOC53 = 0;
			LOC53 = match_297647(p, (*p).Idx, ((NimStringDesc*) &TMP2378));
			if (!LOC53) goto LA54;
			result = ((NU8) 7);
		}
		goto LA17;
		LA54: ;
		{
			NIM_BOOL LOC57;
			LOC57 = 0;
			LOC57 = match_297647(p, (*p).Idx, ((NimStringDesc*) &TMP2379));
			if (!LOC57) goto LA58;
			result = ((NU8) 30);
			rstmessage_296972(p, ((NU8) 2));
		}
		goto LA17;
		LA58: ;
		{
			NIM_BOOL LOC61;
			LOC61 = 0;
			LOC61 = isdeflist_299676(p);
			if (!LOC61) goto LA62;
			result = ((NU8) 9);
		}
		goto LA17;
		LA62: ;
		{
			NIM_BOOL LOC65;
			LOC65 = 0;
			LOC65 = isoptionlist_299698(p);
			if (!LOC65) goto LA66;
			result = ((NU8) 17);
		}
		goto LA17;
		LA66: ;
		{
			result = ((NU8) 4);
		}
		LA17: ;
	}
	break;
	case ((NU8) 3):
	case ((NU8) 6):
	case ((NU8) 2):
	{
		{
			NI LOC72;
			NIM_BOOL LOC73;
			LOC72 = 0;
			LOC72 = tokenafternewline_299613(p);
			LOC73 = 0;
			LOC73 = match_297647(p, LOC72, ((NimStringDesc*) &TMP2370));
			if (!LOC73) goto LA74;
			result = ((NU8) 1);
		}
		goto LA70;
		LA74: ;
		{
			NIM_BOOL LOC77;
			LOC77 = 0;
			LOC77 = match_297647(p, (*p).Idx, ((NimStringDesc*) &TMP2384));
			if (LOC77) goto LA78;
			LOC77 = match_297647(p, (*p).Idx, ((NimStringDesc*) &TMP2385));
			LA78: ;
			if (!LOC77) goto LA79;
			result = ((NU8) 7);
		}
		goto LA70;
		LA79: ;
		{
			NIM_BOOL LOC82;
			LOC82 = 0;
			LOC82 = isdeflist_299676(p);
			if (!LOC82) goto LA83;
			result = ((NU8) 9);
		}
		goto LA70;
		LA83: ;
		{
			result = ((NU8) 4);
		}
		LA70: ;
	}
	break;
	default:
	{
		result = ((NU8) 64);
	}
	break;
	}
	return result;
}

N_NIMCALL(trstnode295009*, parseliteralblock_299488)(trstparser296677* p) {
	trstnode295009* result;
	trstnode295009* n;
	result = 0;
	result = newrstnode_295097(((NU8) 24));
	n = newrstnode_295139(((NU8) 64), ((NimStringDesc*) &TMP1993));
	{
		NI indent;
		if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA3;
		indent = (*p).Tok->data[(*p).Idx].Ival;
		(*p).Idx += 1;
		while (1) {
			switch ((*p).Tok->data[(*p).Idx].Kind) {
			case ((NU8) 0):
			{
				goto LA5;
			}
			break;
			case ((NU8) 1):
			{
				{
					if (!((*p).Tok->data[(*p).Idx].Ival < indent)) goto LA10;
					goto LA5;
				}
				goto LA8;
				LA10: ;
				{
					NimStringDesc* LOC13;
					(*n).Text = resizeString((*n).Text, 2);
appendString((*n).Text, ((NimStringDesc*) &TMP2361));
					LOC13 = 0;
					LOC13 = nsuRepeatChar((NI64)((*p).Tok->data[(*p).Idx].Ival - indent), 32);
					(*n).Text = resizeString((*n).Text, LOC13->Sup.len + 0);
appendString((*n).Text, LOC13);
					(*p).Idx += 1;
				}
				LA8: ;
			}
			break;
			default:
			{
				(*n).Text = resizeString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol->Sup.len + 0);
appendString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol);
				(*p).Idx += 1;
			}
			break;
			}
		} LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		while (1) {
			if (!!(((3 &(1<<(((*p).Tok->data[(*p).Idx].Kind)&7)))!=0))) goto LA16;
			(*n).Text = resizeString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol->Sup.len + 0);
appendString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol);
			(*p).Idx += 1;
		} LA16: ;
	}
	LA1: ;
	add_295163(result, n);
	return result;
}

N_NIMCALL(trstnode295009*, parsebulletlist_301002)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	result = NIM_NIL;
	{
		NimStringDesc* bullet;
		NI col;
		if (!((*p).Tok->data[(NI64)((*p).Idx + 1)].Kind == ((NU8) 2))) goto LA3;
		bullet = copyString((*p).Tok->data[(*p).Idx].Symbol);
		col = (*p).Tok->data[(*p).Idx].Col;
		result = newrstnode_295097(((NU8) 5));
		pushind_297007(p, (*p).Tok->data[(NI64)((*p).Idx + 2)].Col);
		(*p).Idx += 2;
		while (1) {
			trstnode295009* item;
			item = newrstnode_295097(((NU8) 6));
			parsesection_299312(p, item);
			add_295163(result, item);
			{
				NIM_BOOL LOC8;
				NIM_BOOL LOC9;
				NIM_BOOL LOC10;
				LOC8 = 0;
				LOC9 = 0;
				LOC10 = 0;
				LOC10 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
				if (!(LOC10)) goto LA11;
				LOC10 = ((*p).Tok->data[(*p).Idx].Ival == col);
				LA11: ;
				LOC9 = LOC10;
				if (!(LOC9)) goto LA12;
				LOC9 = eqStrings((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol, bullet);
				LA12: ;
				LOC8 = LOC9;
				if (!(LOC8)) goto LA13;
				LOC8 = ((*p).Tok->data[(NI64)((*p).Idx + 2)].Kind == ((NU8) 2));
				LA13: ;
				if (!LOC8) goto LA14;
				(*p).Idx += 3;
			}
			goto LA6;
			LA14: ;
			{
				goto LA5;
			}
			LA6: ;
		} LA5: ;
		popind_297032(p);
	}
	LA3: ;
	return result;
}

N_NIMCALL(trstnode295009*, parselineblock_299719)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	result = NIM_NIL;
	{
		NI col;
		if (!((*p).Tok->data[(NI64)((*p).Idx + 1)].Kind == ((NU8) 2))) goto LA3;
		col = (*p).Tok->data[(*p).Idx].Col;
		result = newrstnode_295097(((NU8) 26));
		pushind_297007(p, (*p).Tok->data[(NI64)((*p).Idx + 2)].Col);
		(*p).Idx += 2;
		while (1) {
			trstnode295009* item;
			item = newrstnode_295097(((NU8) 27));
			parsesection_299312(p, item);
			add_295163(result, item);
			{
				NIM_BOOL LOC8;
				NIM_BOOL LOC9;
				NIM_BOOL LOC10;
				LOC8 = 0;
				LOC9 = 0;
				LOC10 = 0;
				LOC10 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
				if (!(LOC10)) goto LA11;
				LOC10 = ((*p).Tok->data[(*p).Idx].Ival == col);
				LA11: ;
				LOC9 = LOC10;
				if (!(LOC9)) goto LA12;
				LOC9 = eqStrings((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2375));
				LA12: ;
				LOC8 = LOC9;
				if (!(LOC8)) goto LA13;
				LOC8 = ((*p).Tok->data[(NI64)((*p).Idx + 2)].Kind == ((NU8) 2));
				LA13: ;
				if (!LOC8) goto LA14;
				(*p).Idx += 3;
			}
			goto LA6;
			LA14: ;
			{
				goto LA5;
			}
			LA6: ;
		} LA5: ;
		popind_297032(p);
	}
	LA3: ;
	return result;
}

N_NIMCALL(NimStringDesc*, getdirective_298953)(trstparser296677* p) {
	NimStringDesc* result;
	result = 0;
	{
		NIM_BOOL LOC3;
		NI j;
		LOC3 = 0;
		LOC3 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2));
		if (!(LOC3)) goto LA4;
		LOC3 = ((*p).Tok->data[(NI64)((*p).Idx + 1)].Kind == ((NU8) 3));
		LA4: ;
		if (!LOC3) goto LA5;
		j = (*p).Idx;
		(*p).Idx += 1;
		result = copyString((*p).Tok->data[(*p).Idx].Symbol);
		(*p).Idx += 1;
		while (1) {
			if (!((120 &(1<<(((*p).Tok->data[(*p).Idx].Kind)&7)))!=0)) goto LA7;
			{
				if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2371))) goto LA10;
				goto LA7;
			}
			LA10: ;
			result = resizeString(result, (*p).Tok->data[(*p).Idx].Symbol->Sup.len + 0);
appendString(result, (*p).Tok->data[(*p).Idx].Symbol);
			(*p).Idx += 1;
		} LA7: ;
		{
			if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2))) goto LA14;
			(*p).Idx += 1;
		}
		LA14: ;
		{
			if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2371))) goto LA18;
			(*p).Idx += 1;
			{
				if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2))) goto LA22;
				(*p).Idx += 1;
			}
			LA22: ;
		}
		goto LA16;
		LA18: ;
		{
			(*p).Idx = j;
			result = copyString(((NimStringDesc*) &TMP1993));
		}
		LA16: ;
	}
	goto LA1;
	LA5: ;
	{
		result = copyString(((NimStringDesc*) &TMP1993));
	}
	LA1: ;
	return result;
}

static N_INLINE(NI, find_299225)(TY299215 a_299230, NimStringDesc* item_299232) {
	NI result;
	NimStringDesc* i_299272;
	NI i_299290;
	result = 0;
	i_299272 = 0;
	i_299290 = 0;
	{
		if (!(((NI) (i_299290)) <= 11)) goto LA3;
		while (1) {
			i_299272 = a_299230[(i_299290)- 0];
			{
				if (!eqStrings(i_299272, item_299232)) goto LA8;
				goto BeforeRet;
			}
			LA8: ;
			result += 1;
			{
				if (!(11 <= ((NI) (i_299290)))) goto LA12;
				goto LA5;
			}
			LA12: ;
			i_299290 += 1;
		} LA5: ;
	}
	LA3: ;
	result = -1;
	BeforeRet: ;
	return result;
}

N_NIMCALL(NU8, getdirkind_299220)(NimStringDesc* s) {
	NU8 result;
	NI i;
	result = 0;
	i = find_299225(dirids_299214, s);
	{
		if (!(0 <= i)) goto LA3;
		result = ((NU8) (i));
	}
	goto LA1;
	LA3: ;
	{
		result = ((NU8) 0);
	}
	LA1: ;
	return result;
}

N_NIMCALL(trstnode295009*, newleaf_297434)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	result = newrstnode_295139(((NU8) 64), (*p).Tok->data[(*p).Idx].Symbol);
	return result;
}

N_NIMCALL(NIM_BOOL, isinlinemarkupstart_297594)(trstparser296677* p, NimStringDesc* markup) {
	NIM_BOOL result;
	NIM_CHAR d;
	NIM_BOOL LOC5;
	NIM_BOOL LOC6;
	result = 0;
	d = 0;
	result = eqStrings((*p).Tok->data[(*p).Idx].Symbol, markup);
	{
		if (!!(result)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	LOC5 = 0;
	LOC6 = 0;
	LOC6 = ((*p).Idx == 0);
	if (LOC6) goto LA7;
	LOC6 = ((6 &(1<<(((*p).Tok->data[(NI64)((*p).Idx - 1)].Kind)&7)))!=0);
	LA7: ;
	LOC5 = LOC6;
	if (LOC5) goto LA8;
	LOC5 = ((TMP2397[((NU8)((*p).Tok->data[(NI64)((*p).Idx - 1)].Symbol->data[0]))/8] &(1<<(((NU8)((*p).Tok->data[(NI64)((*p).Idx - 1)].Symbol->data[0]))%8)))!=0);
	LA8: ;
	result = LOC5;
	{
		if (!!(result)) goto LA11;
		goto BeforeRet;
	}
	LA11: ;
	result = !(((7 &(1<<(((*p).Tok->data[(NI64)((*p).Idx + 1)].Kind)&7)))!=0));
	{
		if (!!(result)) goto LA15;
		goto BeforeRet;
	}
	LA15: ;
	{
		if (!(0 < (*p).Idx)) goto LA19;
		{
			if (!eqStrings((*p).Tok->data[(NI64)((*p).Idx - 1)].Symbol, ((NimStringDesc*) &TMP2398))) goto LA23;
			result = NIM_FALSE;
		}
		goto LA21;
		LA23: ;
		{
			NIM_CHAR c;
			c = (*p).Tok->data[(NI64)((*p).Idx - 1)].Symbol->data[0];
			switch (((NU8)(c))) {
			case 39:
			case 34:
			{
				d = c;
			}
			break;
			case 40:
			{
				d = 41;
			}
			break;
			case 91:
			{
				d = 93;
			}
			break;
			case 123:
			{
				d = 125;
			}
			break;
			case 60:
			{
				d = 62;
			}
			break;
			default:
			{
				d = 0;
			}
			break;
			}
			{
				if (!!(((NU8)(d) == (NU8)(0)))) goto LA34;
				result = !(((NU8)((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol->data[0]) == (NU8)(d)));
			}
			LA34: ;
		}
		LA21: ;
	}
	LA19: ;
	BeforeRet: ;
	return result;
}

N_NIMCALL(NIM_BOOL, isinlinemarkupend_297544)(trstparser296677* p, NimStringDesc* markup) {
	NIM_BOOL result;
	NIM_BOOL LOC9;
	result = 0;
	result = eqStrings((*p).Tok->data[(*p).Idx].Symbol, markup);
	{
		if (!!(result)) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	result = !(((6 &(1<<(((*p).Tok->data[(NI64)((*p).Idx - 1)].Kind)&7)))!=0));
	{
		if (!!(result)) goto LA7;
		goto BeforeRet;
	}
	LA7: ;
	LOC9 = 0;
	LOC9 = ((7 &(1<<(((*p).Tok->data[(NI64)((*p).Idx + 1)].Kind)&7)))!=0);
	if (LOC9) goto LA10;
	LOC9 = ((TMP2400[((NU8)((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol->data[0]))/8] &(1<<(((NU8)((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol->data[0]))%8)))!=0);
	LA10: ;
	result = LOC9;
	{
		if (!!(result)) goto LA13;
		goto BeforeRet;
	}
	LA13: ;
	{
		if (!(0 < (*p).Idx)) goto LA17;
		{
			NIM_BOOL LOC21;
			LOC21 = 0;
			LOC21 = !(eqStrings(markup, ((NimStringDesc*) &TMP2401)));
			if (!(LOC21)) goto LA22;
			LOC21 = eqStrings((*p).Tok->data[(NI64)((*p).Idx - 1)].Symbol, ((NimStringDesc*) &TMP2398));
			LA22: ;
			if (!LOC21) goto LA23;
			result = NIM_FALSE;
		}
		LA23: ;
	}
	LA17: ;
	BeforeRet: ;
	return result;
}

N_NIMCALL(void, parsebackslash_298333)(trstparser296677* p, trstnode295009* father) {
	{
		trstnode295009* LOC5;
		if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2402))) goto LA3;
		LOC5 = 0;
		LOC5 = newrstnode_295139(((NU8) 64), ((NimStringDesc*) &TMP2398));
		add_295163(father, LOC5);
		(*p).Idx += 1;
	}
	goto LA1;
	LA3: ;
	{
		if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2398))) goto LA7;
		(*p).Idx += 1;
		{
			trstnode295009* LOC13;
			if (!!(((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2)))) goto LA11;
			LOC13 = 0;
			LOC13 = newleaf_297434(p);
			add_295163(father, LOC13);
		}
		LA11: ;
		{
			if (!!(((*p).Tok->data[(*p).Idx].Kind == ((NU8) 0)))) goto LA16;
			(*p).Idx += 1;
		}
		LA16: ;
	}
	goto LA1;
	LA7: ;
	{
		trstnode295009* LOC19;
		LOC19 = 0;
		LOC19 = newleaf_297434(p);
		add_295163(father, LOC19);
		(*p).Idx += 1;
	}
	LA1: ;
}

N_NIMCALL(void, rstmessage_296963)(trstparser296677* p, NU8 msgkind, NimStringDesc* arg, NI line, NI col) {
	(*(*p).S).Msghandler((*p).Filename, (NI64)((*p).Line + line), (NI64)((*p).Col + col), msgkind, arg);
}

N_NIMCALL(void, parseuntil_298601)(trstparser296677* p, trstnode295009* father, NimStringDesc* postfix, NIM_BOOL interpretbackslash) {
	NI line;
	NI col;
	line = (*p).Tok->data[(*p).Idx].Line;
	col = (*p).Tok->data[(*p).Idx].Col;
	(*p).Idx += 1;
	while (1) {
		switch ((*p).Tok->data[(*p).Idx].Kind) {
		case ((NU8) 5):
		{
			{
				NIM_BOOL LOC5;
				LOC5 = 0;
				LOC5 = isinlinemarkupend_297544(&(*p), postfix);
				if (!LOC5) goto LA6;
				(*p).Idx += 1;
				goto LA1;
			}
			goto LA3;
			LA6: ;
			{
				if (!interpretbackslash) goto LA9;
				parsebackslash_298333(p, father);
			}
			goto LA3;
			LA9: ;
			{
				trstnode295009* LOC12;
				LOC12 = 0;
				LOC12 = newleaf_297434(p);
				add_295163(father, LOC12);
				(*p).Idx += 1;
			}
			LA3: ;
		}
		break;
		case ((NU8) 4):
		case ((NU8) 3):
		case ((NU8) 6):
		{
			trstnode295009* LOC14;
			LOC14 = 0;
			LOC14 = newleaf_297434(p);
			add_295163(father, LOC14);
			(*p).Idx += 1;
		}
		break;
		case ((NU8) 1):
		{
			trstnode295009* LOC16;
			LOC16 = 0;
			LOC16 = newrstnode_295139(((NU8) 64), ((NimStringDesc*) &TMP2403));
			add_295163(father, LOC16);
			(*p).Idx += 1;
			{
				if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA19;
				rstmessage_296963(&(*p), ((NU8) 1), postfix, line, col);
				goto LA1;
			}
			LA19: ;
		}
		break;
		case ((NU8) 2):
		{
			trstnode295009* LOC22;
			LOC22 = 0;
			LOC22 = newrstnode_295139(((NU8) 64), ((NimStringDesc*) &TMP2403));
			add_295163(father, LOC22);
			(*p).Idx += 1;
		}
		break;
		default:
		{
			rstmessage_296963(&(*p), ((NU8) 1), postfix, line, col);
		}
		break;
		}
	} LA1: ;
}

N_NIMCALL(trstnode295009*, parsemarkdowncodeblock_298718)(trstparser296677* p) {
	trstnode295009* result;
	trstnode295009* args;
	trstnode295009* n;
	trstnode295009* lb;
	result = 0;
	args = newrstnode_295097(((NU8) 41));
	{
		trstnode295009* LOC5;
		if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 3))) goto LA3;
		LOC5 = 0;
		LOC5 = newleaf_297434(p);
		add_295163(args, LOC5);
		(*p).Idx += 1;
	}
	goto LA1;
	LA3: ;
	{
		args = NIM_NIL;
	}
	LA1: ;
	n = newrstnode_295139(((NU8) 64), ((NimStringDesc*) &TMP1993));
	while (1) {
		switch ((*p).Tok->data[(*p).Idx].Kind) {
		case ((NU8) 0):
		{
			rstmessage_296956(&(*p), ((NU8) 1), ((NimStringDesc*) &TMP2405));
			goto LA7;
		}
		break;
		case ((NU8) 5):
		{
			{
				if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2405))) goto LA12;
				(*p).Idx += 1;
				goto LA7;
			}
			goto LA10;
			LA12: ;
			{
				(*n).Text = resizeString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol->Sup.len + 0);
appendString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol);
				(*p).Idx += 1;
			}
			LA10: ;
		}
		break;
		default:
		{
			(*n).Text = resizeString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol->Sup.len + 0);
appendString((*n).Text, (*p).Tok->data[(*p).Idx].Symbol);
			(*p).Idx += 1;
		}
		break;
		}
	} LA7: ;
	lb = newrstnode_295097(((NU8) 24));
	add_295163(lb, n);
	result = newrstnode_295097(((NU8) 47));
	add_295163(result, args);
	add_295163(result, NIM_NIL);
	add_295163(result, lb);
	return result;
}

N_NIMCALL(void, fixupembeddedref_297834)(trstnode295009* n, trstnode295009* a, trstnode295009* b) {
	NI sep;
	NI i_297851;
	NI HEX3Atmp_297880;
	NI LOC1;
	NI res_297882;
	NI incr;
	NI i_297866;
	NI HEX3Atmp_297883;
	NI res_297885;
	NI i_297879;
	NI HEX3Atmp_297887;
	NI HEX3Atmp_297888;
	NI LOC15;
	NI res_297890;
	sep = -1;
	i_297851 = 0;
	HEX3Atmp_297880 = 0;
	LOC1 = 0;
	LOC1 = len_295080(n);
	HEX3Atmp_297880 = (NI64)(LOC1 - 2);
	res_297882 = HEX3Atmp_297880;
	while (1) {
		if (!(0 <= res_297882)) goto LA2;
		i_297851 = res_297882;
		{
			if (!eqStrings((*(*n).Sons->data[i_297851]).Text, ((NimStringDesc*) &TMP2409))) goto LA5;
			sep = i_297851;
			goto LA2;
		}
		LA5: ;
		res_297882 -= 1;
	} LA2: ;
	{
		NIM_BOOL LOC9;
		LOC9 = 0;
		LOC9 = (0 < sep);
		if (!(LOC9)) goto LA10;
		LOC9 = ((NU8)((*(*n).Sons->data[(NI64)(sep - 1)]).Text->data[0]) == (NU8)(32));
		LA10: ;
		if (!LOC9) goto LA11;
		incr = 2;
	}
	goto LA7;
	LA11: ;
	{
		incr = 1;
	}
	LA7: ;
	i_297866 = 0;
	HEX3Atmp_297883 = 0;
	HEX3Atmp_297883 = (NI64)(sep - incr);
	res_297885 = 0;
	while (1) {
		if (!(res_297885 <= HEX3Atmp_297883)) goto LA14;
		i_297866 = res_297885;
		add_295163(a, (*n).Sons->data[i_297866]);
		res_297885 += 1;
	} LA14: ;
	i_297879 = 0;
	HEX3Atmp_297887 = 0;
	HEX3Atmp_297888 = 0;
	HEX3Atmp_297887 = (NI64)(sep + 1);
	LOC15 = 0;
	LOC15 = len_295080(n);
	HEX3Atmp_297888 = (NI64)(LOC15 - 2);
	res_297890 = HEX3Atmp_297887;
	while (1) {
		if (!(res_297890 <= HEX3Atmp_297888)) goto LA16;
		i_297879 = res_297890;
		add_295163(b, (*n).Sons->data[i_297879]);
		res_297890 += 1;
	} LA16: ;
}

N_NIMCALL(void, setref_297354)(trstparser296677* p, NimStringDesc* key, trstnode295009* value) {
	NI length;
	NI i_297384;
	NI HEX3Atmp_297401;
	NI res_297403;
	NimStringDesc* LOC12;
	length = (*(*p).S).Refs->Sup.len;
	i_297384 = 0;
	HEX3Atmp_297401 = 0;
	HEX3Atmp_297401 = (NI64)(length - 1);
	res_297403 = 0;
	while (1) {
		if (!(res_297403 <= HEX3Atmp_297401)) goto LA1;
		i_297384 = res_297403;
		{
			if (!eqStrings(key, (*(*p).S).Refs->data[i_297384].Key)) goto LA4;
			{
				NimStringDesc* LOC8;
				NimStringDesc* LOC9;
				LOC8 = 0;
				LOC8 = addnodes_296055((*(*p).S).Refs->data[i_297384].Value);
				LOC9 = 0;
				LOC9 = addnodes_296055(value);
				if (!!(eqStrings(LOC8, LOC9))) goto LA10;
				rstmessage_296956(&(*p), ((NU8) 6), key);
			}
			LA10: ;
			asgnRefNoCycle((void**) &(*(*p).S).Refs->data[i_297384].Value, value);
			goto BeforeRet;
		}
		LA4: ;
		res_297403 += 1;
	} LA1: ;
	(*(*p).S).Refs = (TY296687*) setLengthSeq(&((*(*p).S).Refs)->Sup, sizeof(tsubstitution296671), (NI64)(length + 1));
	LOC12 = 0;
	LOC12 = (*(*p).S).Refs->data[length].Key; (*(*p).S).Refs->data[length].Key = copyStringRC1(key);
	if (LOC12) nimGCunrefNoCycle(LOC12);
	asgnRefNoCycle((void**) &(*(*p).S).Refs->data[length].Value, value);
	BeforeRet: ;
}

N_NIMCALL(trstnode295009*, parsepostfix_297897)(trstparser296677* p, trstnode295009* n) {
	trstnode295009* result;
	result = 0;
	result = n;
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = isinlinemarkupend_297544(&(*p), ((NimStringDesc*) &TMP2407));
		if (!LOC3) goto LA4;
		(*p).Idx += 1;
		{
			NIM_BOOL LOC8;
			trstnode295009* a;
			trstnode295009* b;
			LOC8 = 0;
			LOC8 = eqStrings((*p).Tok->data[(NI64)((*p).Idx - 2)].Symbol, ((NimStringDesc*) &TMP2406));
			if (!(LOC8)) goto LA9;
			LOC8 = eqStrings((*p).Tok->data[(NI64)((*p).Idx - 3)].Symbol, ((NimStringDesc*) &TMP2408));
			LA9: ;
			if (!LOC8) goto LA10;
			a = newrstnode_295097(((NU8) 0));
			b = newrstnode_295097(((NU8) 0));
			fixupembeddedref_297834(n, a, b);
			{
				NI LOC14;
				LOC14 = 0;
				LOC14 = len_295080(a);
				if (!(LOC14 == 0)) goto LA15;
				result = newrstnode_295097(((NU8) 37));
				add_295163(result, b);
			}
			goto LA12;
			LA15: ;
			{
				NimStringDesc* LOC18;
				result = newrstnode_295097(((NU8) 38));
				add_295163(result, a);
				add_295163(result, b);
				LOC18 = 0;
				LOC18 = rstnodetorefname_296051(a);
				setref_297354(p, LOC18, b);
			}
			LA12: ;
		}
		goto LA6;
		LA10: ;
		{
			if (!((*n).Kind == ((NU8) 60))) goto LA20;
			(*n).Kind = ((NU8) 39);
		}
		goto LA6;
		LA20: ;
		{
			result = newrstnode_295097(((NU8) 39));
			add_295163(result, n);
		}
		LA6: ;
	}
	goto LA1;
	LA4: ;
	{
		NIM_BOOL LOC24;
		LOC24 = 0;
		LOC24 = match_297647(&(*p), (*p).Idx, ((NimStringDesc*) &TMP2377));
		if (!LOC24) goto LA25;
		{
			if (!eqStrings((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2410))) goto LA29;
			(*n).Kind = ((NU8) 56);
		}
		goto LA27;
		LA29: ;
		{
			if (!eqStrings((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2411))) goto LA32;
			(*n).Kind = ((NU8) 61);
		}
		goto LA27;
		LA32: ;
		{
			if (!eqStrings((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2412))) goto LA35;
			(*n).Kind = ((NU8) 58);
		}
		goto LA27;
		LA35: ;
		{
			if (!eqStrings((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2413))) goto LA38;
			(*n).Kind = ((NU8) 57);
		}
		goto LA27;
		LA38: ;
		{
			NIM_BOOL LOC41;
			LOC41 = 0;
			LOC41 = eqStrings((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2414));
			if (LOC41) goto LA42;
			LOC41 = eqStrings((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2415));
			LA42: ;
			if (!LOC41) goto LA43;
			(*n).Kind = ((NU8) 54);
		}
		goto LA27;
		LA43: ;
		{
			NIM_BOOL LOC46;
			LOC46 = 0;
			LOC46 = eqStrings((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2416));
			if (LOC46) goto LA47;
			LOC46 = eqStrings((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2417));
			LA47: ;
			if (!LOC46) goto LA48;
			(*n).Kind = ((NU8) 55);
		}
		goto LA27;
		LA48: ;
		{
			trstnode295009* LOC51;
			result = newrstnode_295097(((NU8) 53));
			(*n).Kind = ((NU8) 0);
			add_295163(result, n);
			LOC51 = 0;
			LOC51 = newrstnode_295139(((NU8) 64), (*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol);
			add_295163(result, LOC51);
		}
		LA27: ;
		(*p).Idx += 3;
	}
	goto LA1;
	LA25: ;
	LA1: ;
	return result;
}

N_NIMCALL(NI, matchverbatim_297948)(trstparser296677* p, NI start, NimStringDesc* expr) {
	NI result;
	NI j;
	result = 0;
	result = start;
	j = 0;
	while (1) {
		NIM_BOOL LOC2;
		NIM_BOOL LOC3;
		LOC2 = 0;
		LOC3 = 0;
		LOC3 = (j < expr->Sup.len);
		if (!(LOC3)) goto LA4;
		LOC3 = (result < (*p).Tok->Sup.len);
		LA4: ;
		LOC2 = LOC3;
		if (!(LOC2)) goto LA5;
		LOC2 = nsuContinuesWith(expr, (*p).Tok->data[result].Symbol, j);
		LA5: ;
		if (!LOC2) goto LA1;
		j += (*p).Tok->data[result].Symbol->Sup.len;
		result += 1;
	} LA1: ;
	{
		if (!(j < expr->Sup.len)) goto LA8;
		result = 0;
	}
	LA8: ;
	return result;
}

N_NIMCALL(trstnode295009*, parsesmiley_298004)(trstparser296677* p) {
	trstnode295009* result;
	NimStringDesc* key_298061;
	NimStringDesc* val_298062;
	NI i_298066;
	result = 0;
	{
		if (!!((((NU8)((*p).Tok->data[(*p).Idx].Symbol->data[0])) == ((NU8)(58)) || ((NU8)((*p).Tok->data[(*p).Idx].Symbol->data[0])) == ((NU8)(59)) || ((NU8)((*p).Tok->data[(*p).Idx].Symbol->data[0])) == ((NU8)(56))))) goto LA3;
		goto BeforeRet;
	}
	LA3: ;
	key_298061 = 0;
	val_298062 = 0;
	i_298066 = 0;
	{
		if (!(((NI) (i_298066)) <= 33)) goto LA7;
		while (1) {
			NI m;
			key_298061 = smilies_296073[(i_298066)- 0].Field0;
			val_298062 = smilies_296073[(i_298066)- 0].Field1;
			m = matchverbatim_297948(&(*p), (*p).Idx, key_298061);
			{
				NimStringDesc* LOC14;
				if (!(0 < m)) goto LA12;
				(*p).Idx = m;
				result = newrstnode_295097(((NU8) 63));
				LOC14 = 0;
				LOC14 = (*result).Text; (*result).Text = copyStringRC1(val_298062);
				if (LOC14) nimGCunrefNoCycle(LOC14);
				goto BeforeRet;
			}
			LA12: ;
			{
				if (!(33 <= ((NI) (i_298066)))) goto LA17;
				goto LA9;
			}
			LA17: ;
			i_298066 += 1;
		} LA9: ;
	}
	LA7: ;
	BeforeRet: ;
	return result;
}

static N_INLINE(NI, find_298231)(NimStringDesc** a_298236, NI a_298236Len0, NimStringDesc* item_298238) {
	NI result;
	NimStringDesc* i_298251;
	NI i_298269;
	result = 0;
	i_298251 = 0;
	i_298269 = 0;
	while (1) {
		if (!(i_298269 < a_298236Len0)) goto LA1;
		i_298251 = a_298236[i_298269];
		{
			if (!eqStrings(i_298251, item_298238)) goto LA4;
			goto BeforeRet;
		}
		LA4: ;
		result += 1;
		i_298269 += 1;
	} LA1: ;
	result = -1;
	BeforeRet: ;
	return result;
}

static N_INLINE(NIM_BOOL, contains_298219)(NimStringDesc** a_298225, NI a_298225Len0, NimStringDesc* item_298228) {
	NIM_BOOL result;
	NI LOC1;
	result = 0;
	LOC1 = 0;
	LOC1 = find_298231(a_298225, a_298225Len0, item_298228);
	result = (0 <= LOC1);
	goto BeforeRet;
	BeforeRet: ;
	return result;
}

N_NIMCALL(NIM_BOOL, isurl_298201)(trstparser296677* p, NI i) {
	NIM_BOOL result;
	NIM_BOOL LOC1;
	NIM_BOOL LOC2;
	NIM_BOOL LOC3;
	result = 0;
	LOC1 = 0;
	LOC2 = 0;
	LOC3 = 0;
	LOC3 = eqStrings((*p).Tok->data[(NI64)(i + 1)].Symbol, ((NimStringDesc*) &TMP2476));
	if (!(LOC3)) goto LA4;
	LOC3 = eqStrings((*p).Tok->data[(NI64)(i + 2)].Symbol, ((NimStringDesc*) &TMP2477));
	LA4: ;
	LOC2 = LOC3;
	if (!(LOC2)) goto LA5;
	LOC2 = ((*p).Tok->data[(NI64)(i + 3)].Kind == ((NU8) 3));
	LA5: ;
	LOC1 = LOC2;
	if (!(LOC1)) goto LA6;
	LOC1 = contains_298219(TMP2478, 5, (*p).Tok->data[i].Symbol);
	LA6: ;
	result = LOC1;
	return result;
}

N_NIMCALL(void, parseurl_298277)(trstparser296677* p, trstnode295009* father) {
	{
		NIM_BOOL LOC3;
		trstnode295009* n;
		LOC3 = 0;
		LOC3 = isurl_298201(&(*p), (*p).Idx);
		if (!LOC3) goto LA4;
		n = newrstnode_295097(((NU8) 37));
		while (1) {
			trstnode295009* LOC14;
			switch ((*p).Tok->data[(*p).Idx].Kind) {
			case ((NU8) 3):
			case ((NU8) 4):
			case ((NU8) 6):
			{
			}
			break;
			case ((NU8) 5):
			{
				{
					if (!!(((120 &(1<<(((*p).Tok->data[(NI64)((*p).Idx + 1)].Kind)&7)))!=0))) goto LA11;
					goto LA6;
				}
				LA11: ;
			}
			break;
			default:
			{
				goto LA6;
			}
			break;
			}
			LOC14 = 0;
			LOC14 = newleaf_297434(p);
			add_295163(n, LOC14);
			(*p).Idx += 1;
		} LA6: ;
		add_295163(father, n);
	}
	goto LA1;
	LA4: ;
	{
		trstnode295009* n;
		n = newleaf_297434(p);
		(*p).Idx += 1;
		{
			if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2407))) goto LA18;
			n = parsepostfix_297897(p, n);
		}
		LA18: ;
		add_295163(father, n);
	}
	LA1: ;
}

N_NIMCALL(void, parseinline_298802)(trstparser296677* p, trstnode295009* father) {
	switch ((*p).Tok->data[(*p).Idx].Kind) {
	case ((NU8) 5):
	{
		{
			NIM_BOOL LOC4;
			trstnode295009* n;
			LOC4 = 0;
			LOC4 = isinlinemarkupstart_297594(&(*p), ((NimStringDesc*) &TMP2399));
			if (!LOC4) goto LA5;
			n = newrstnode_295097(((NU8) 59));
			parseuntil_298601(p, n, ((NimStringDesc*) &TMP2399), NIM_TRUE);
			add_295163(father, n);
		}
		goto LA2;
		LA5: ;
		{
			NIM_BOOL LOC8;
			trstnode295009* n;
			LOC8 = 0;
			LOC8 = isinlinemarkupstart_297594(&(*p), ((NimStringDesc*) &TMP2404));
			if (!LOC8) goto LA9;
			n = newrstnode_295097(((NU8) 58));
			parseuntil_298601(p, n, ((NimStringDesc*) &TMP2404), NIM_TRUE);
			add_295163(father, n);
		}
		goto LA2;
		LA9: ;
		{
			NIM_BOOL LOC12;
			trstnode295009* n;
			LOC12 = 0;
			LOC12 = isinlinemarkupstart_297594(&(*p), ((NimStringDesc*) &TMP2373));
			if (!LOC12) goto LA13;
			n = newrstnode_295097(((NU8) 57));
			parseuntil_298601(p, n, ((NimStringDesc*) &TMP2373), NIM_TRUE);
			add_295163(father, n);
		}
		goto LA2;
		LA13: ;
		{
			NIM_BOOL LOC16;
			trstnode295009* LOC20;
			LOC16 = 0;
			LOC16 = (((*(*p).S).Options &(1<<((((NU8) 3))&7)))!=0);
			if (!(LOC16)) goto LA17;
			LOC16 = eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2405));
			LA17: ;
			if (!LOC16) goto LA18;
			(*p).Idx += 1;
			LOC20 = 0;
			LOC20 = parsemarkdowncodeblock_298718(p);
			add_295163(father, LOC20);
		}
		goto LA2;
		LA18: ;
		{
			NIM_BOOL LOC22;
			trstnode295009* n;
			LOC22 = 0;
			LOC22 = isinlinemarkupstart_297594(&(*p), ((NimStringDesc*) &TMP2401));
			if (!LOC22) goto LA23;
			n = newrstnode_295097(((NU8) 61));
			parseuntil_298601(p, n, ((NimStringDesc*) &TMP2401), NIM_FALSE);
			add_295163(father, n);
		}
		goto LA2;
		LA23: ;
		{
			NIM_BOOL LOC26;
			trstnode295009* n;
			LOC26 = 0;
			LOC26 = isinlinemarkupstart_297594(&(*p), ((NimStringDesc*) &TMP2406));
			if (!LOC26) goto LA27;
			n = newrstnode_295097(((NU8) 60));
			parseuntil_298601(p, n, ((NimStringDesc*) &TMP2406), NIM_TRUE);
			n = parsepostfix_297897(p, n);
			add_295163(father, n);
		}
		goto LA2;
		LA27: ;
		{
			NIM_BOOL LOC30;
			trstnode295009* n;
			LOC30 = 0;
			LOC30 = isinlinemarkupstart_297594(&(*p), ((NimStringDesc*) &TMP2375));
			if (!LOC30) goto LA31;
			n = newrstnode_295097(((NU8) 62));
			parseuntil_298601(p, n, ((NimStringDesc*) &TMP2375), NIM_FALSE);
			add_295163(father, n);
		}
		goto LA2;
		LA31: ;
		{
			{
				trstnode295009* n;
				if (!(((*(*p).S).Options &(1<<((((NU8) 1))&7)))!=0)) goto LA36;
				n = parsesmiley_298004(p);
				{
					if (!!((n == NIM_NIL))) goto LA40;
					add_295163(father, n);
					goto BeforeRet;
				}
				LA40: ;
			}
			LA36: ;
			parsebackslash_298333(p, father);
		}
		LA2: ;
	}
	break;
	case ((NU8) 3):
	{
		{
			trstnode295009* n;
			if (!(((*(*p).S).Options &(1<<((((NU8) 1))&7)))!=0)) goto LA45;
			n = parsesmiley_298004(p);
			{
				if (!!((n == NIM_NIL))) goto LA49;
				add_295163(father, n);
				goto BeforeRet;
			}
			LA49: ;
		}
		LA45: ;
		parseurl_298277(p, father);
	}
	break;
	case ((NU8) 4):
	case ((NU8) 6):
	case ((NU8) 2):
	{
		trstnode295009* LOC60;
		{
			trstnode295009* n;
			if (!(((*(*p).S).Options &(1<<((((NU8) 1))&7)))!=0)) goto LA54;
			n = parsesmiley_298004(p);
			{
				if (!!((n == NIM_NIL))) goto LA58;
				add_295163(father, n);
				goto BeforeRet;
			}
			LA58: ;
		}
		LA54: ;
		LOC60 = 0;
		LOC60 = newleaf_297434(p);
		add_295163(father, LOC60);
		(*p).Idx += 1;
	}
	break;
	default:
	{
	}
	break;
	}
	BeforeRet: ;
}

N_NIMCALL(void, parseline_299296)(trstparser296677* p, trstnode295009* father) {
	while (1) {
		switch ((*p).Tok->data[(*p).Idx].Kind) {
		case ((NU8) 2):
		case ((NU8) 3):
		case ((NU8) 6):
		case ((NU8) 5):
		{
			parseinline_298802(p, father);
		}
		break;
		default:
		{
			goto LA1;
		}
		break;
		}
	} LA1: ;
}

N_NIMCALL(trstnode295009*, parsefield_299318)(trstparser296677* p) {
	trstnode295009* result;
	NI col;
	trstnode295009* fieldname;
	trstnode295009* fieldbody;
	result = 0;
	result = newrstnode_295097(((NU8) 14));
	col = (*p).Tok->data[(*p).Idx].Col;
	fieldname = newrstnode_295097(((NU8) 15));
	parseuntil_298601(p, fieldname, ((NimStringDesc*) &TMP2476), NIM_FALSE);
	fieldbody = newrstnode_295097(((NU8) 16));
	{
		if (!!(((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1)))) goto LA3;
		parseline_299296(p, fieldbody);
	}
	LA3: ;
	{
		NI indent;
		if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA7;
		indent = (*p).Tok->data[(*p).Idx].Ival;
		{
			if (!(col < indent)) goto LA11;
			pushind_297007(p, indent);
			parsesection_299312(p, fieldbody);
			popind_297032(p);
		}
		LA11: ;
	}
	LA7: ;
	add_295163(result, fieldname);
	add_295163(result, fieldbody);
	return result;
}

N_NIMCALL(trstnode295009*, parsefields_299348)(trstparser296677* p) {
	trstnode295009* result;
	NIM_BOOL atstart;
	NIM_BOOL LOC1;
	result = 0;
	result = NIM_NIL;
	LOC1 = 0;
	LOC1 = ((*p).Idx == 0);
	if (!(LOC1)) goto LA2;
	LOC1 = eqStrings((*p).Tok->data[0].Symbol, ((NimStringDesc*) &TMP2476));
	LA2: ;
	atstart = LOC1;
	{
		NIM_BOOL LOC5;
		NIM_BOOL LOC6;
		NI col;
		LOC5 = 0;
		LOC6 = 0;
		LOC6 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
		if (!(LOC6)) goto LA7;
		LOC6 = eqStrings((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2476));
		LA7: ;
		LOC5 = LOC6;
		if (LOC5) goto LA8;
		LOC5 = atstart;
		LA8: ;
		if (!LOC5) goto LA9;
		{
			if (!atstart) goto LA13;
			col = (*p).Tok->data[(*p).Idx].Col;
		}
		goto LA11;
		LA13: ;
		{
			col = (*p).Tok->data[(*p).Idx].Ival;
		}
		LA11: ;
		result = newrstnode_295097(((NU8) 13));
		{
			if (!!(atstart)) goto LA18;
			(*p).Idx += 1;
		}
		LA18: ;
		while (1) {
			trstnode295009* LOC21;
			LOC21 = 0;
			LOC21 = parsefield_299318(p);
			add_295163(result, LOC21);
			{
				NIM_BOOL LOC24;
				NIM_BOOL LOC25;
				LOC24 = 0;
				LOC25 = 0;
				LOC25 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
				if (!(LOC25)) goto LA26;
				LOC25 = ((*p).Tok->data[(*p).Idx].Ival == col);
				LA26: ;
				LOC24 = LOC25;
				if (!(LOC24)) goto LA27;
				LOC24 = eqStrings((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2476));
				LA27: ;
				if (!LOC24) goto LA28;
				(*p).Idx += 1;
			}
			goto LA22;
			LA28: ;
			{
				goto LA20;
			}
			LA22: ;
		} LA20: ;
	}
	LA9: ;
	return result;
}

N_NIMCALL(trstnode295009*, parsedirective_301617)(trstparser296677* p, NU8 flags) {
	trstnode295009* result;
	trstnode295009* args;
	trstnode295009* options;
	result = 0;
	result = newrstnode_295097(((NU8) 40));
	args = NIM_NIL;
	options = NIM_NIL;
	{
		if (!((flags &(1<<((((NU8) 0))&7)))!=0)) goto LA3;
		args = newrstnode_295097(((NU8) 41));
		{
			if (!((flags &(1<<((((NU8) 2))&7)))!=0)) goto LA7;
			while (1) {
				switch ((*p).Tok->data[(*p).Idx].Kind) {
				case ((NU8) 3):
				case ((NU8) 6):
				case ((NU8) 5):
				case ((NU8) 4):
				{
					trstnode295009* LOC11;
					LOC11 = 0;
					LOC11 = newleaf_297434(p);
					add_295163(args, LOC11);
					(*p).Idx += 1;
				}
				break;
				default:
				{
					goto LA9;
				}
				break;
				}
			} LA9: ;
		}
		goto LA5;
		LA7: ;
		{
			if (!((flags &(1<<((((NU8) 3))&7)))!=0)) goto LA14;
			while (1) {
				if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2))) goto LA16;
				(*p).Idx += 1;
			} LA16: ;
			{
				trstnode295009* LOC21;
				if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 3))) goto LA19;
				LOC21 = 0;
				LOC21 = newleaf_297434(p);
				add_295163(args, LOC21);
				(*p).Idx += 1;
			}
			goto LA17;
			LA19: ;
			{
				args = NIM_NIL;
			}
			LA17: ;
		}
		goto LA5;
		LA14: ;
		{
			parseline_299296(p, args);
		}
		LA5: ;
	}
	LA3: ;
	add_295163(result, args);
	{
		if (!((flags &(1<<((((NU8) 1))&7)))!=0)) goto LA26;
		{
			NIM_BOOL LOC30;
			NIM_BOOL LOC31;
			LOC30 = 0;
			LOC31 = 0;
			LOC31 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
			if (!(LOC31)) goto LA32;
			LOC31 = (3 <= (*p).Tok->data[(*p).Idx].Ival);
			LA32: ;
			LOC30 = LOC31;
			if (!(LOC30)) goto LA33;
			LOC30 = eqStrings((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2476));
			LA33: ;
			if (!LOC30) goto LA34;
			options = parsefields_299348(p);
		}
		LA34: ;
	}
	LA26: ;
	add_295163(result, options);
	return result;
}

N_NIMCALL(NIM_BOOL, indfollows_301758)(trstparser296677* p) {
	NIM_BOOL result;
	NIM_BOOL LOC1;
	NI LOC3;
	result = 0;
	LOC1 = 0;
	LOC1 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
	if (!(LOC1)) goto LA2;
	LOC3 = 0;
	LOC3 = currind_297001(p);
	LOC1 = (LOC3 < (*p).Tok->data[(*p).Idx].Ival);
	LA2: ;
	result = LOC1;
	return result;
}

N_NIMCALL(trstnode295009*, parsedirective_301774)(trstparser296677* p, NU8 flags, tsectionparser301608 contentparser) {
	trstnode295009* result;
	result = 0;
	result = parsedirective_301617(p, flags);
	{
		NIM_BOOL LOC3;
		trstnode295009* content;
		LOC3 = 0;
		LOC3 = !(contentparser == 0);
		if (!(LOC3)) goto LA4;
		LOC3 = indfollows_301758(&(*p));
		LA4: ;
		if (!LOC3) goto LA5;
		pushind_297007(p, (*p).Tok->data[(*p).Idx].Ival);
		content = contentparser(p);
		popind_297032(p);
		add_295163(result, content);
	}
	goto LA1;
	LA5: ;
	{
		add_295163(result, NIM_NIL);
	}
	LA1: ;
	return result;
}

N_NIMCALL(trstnode295009*, dirinclude_301799)(trstparser296677* p) {
	trstnode295009* result;
	trstnode295009* n;
	NimStringDesc* filename;
	NimStringDesc* LOC1;
	NimStringDesc* path;
	result = 0;
	result = NIM_NIL;
	n = parsedirective_301774(p, 7, NIM_NIL);
	LOC1 = 0;
	LOC1 = addnodes_296055((*n).Sons->data[0]);
	filename = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE);
	path = (*(*p).S).Findfile(filename);
	{
		if (!((path) && (path)->Sup.len == 0)) goto LA4;
		rstmessage_296956(&(*p), ((NU8) 0), filename);
	}
	goto LA2;
	LA4: ;
	{
		{
			NimStringDesc* LOC9;
			NimStringDesc* LOC12;
			trstnode295009* LOC13;
			LOC9 = 0;
			LOC9 = getfieldvalue_296059(n, ((NimStringDesc*) &TMP2411));
			if (!!(((LOC9) && (LOC9)->Sup.len == 0))) goto LA10;
			result = newrstnode_295097(((NU8) 24));
			LOC12 = 0;
			LOC12 = readfile_10440(path);
			LOC13 = 0;
			LOC13 = newrstnode_295139(((NU8) 64), LOC12);
			add_295163(result, LOC13);
		}
		goto LA7;
		LA10: ;
		{
			trstparser296677 q;
			NimStringDesc* LOC15;
			NI LOC16;
			memset((void*)&q, 0, sizeof(q));
			q.Sup.m_type = (&NTI296677);
			initparser_297077(&q, (*p).S);
			q.Filename = copyString(filename);
			LOC15 = 0;
			LOC15 = readfile_10440(path);
			LOC16 = 0;
			LOC16 = gettokens_296463(LOC15, NIM_FALSE, &q.Tok);
			q.Col += LOC16;
			result = parsedoc_300480(&q);
		}
		LA7: ;
	}
	LA2: ;
	return result;
}

N_NIMCALL(trstnode295009*, dirimage_302203)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	result = parsedirective_301774(p, 7, NIM_NIL);
	(*result).Kind = ((NU8) 45);
	return result;
}

N_NIMCALL(trstnode295009*, dirfigure_302211)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	result = parsedirective_301774(p, 7, parsesectionwrapper_301521);
	(*result).Kind = ((NU8) 46);
	return result;
}

N_NIMCALL(trstnode295009*, dirtitle_302219)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	result = parsedirective_301774(p, 1, NIM_NIL);
	(*result).Kind = ((NU8) 43);
	return result;
}

N_NIMCALL(trstnode295009*, dircontainer_301838)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	result = parsedirective_301774(p, 1, parsesectionwrapper_301521);
	(*result).Kind = ((NU8) 50);
	return result;
}

N_NIMCALL(trstnode295009*, dircontents_302227)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	result = parsedirective_301774(p, 1, NIM_NIL);
	(*result).Kind = ((NU8) 44);
	return result;
}

N_NIMCALL(trstnode295009*, parsedirbody_301791)(trstparser296677* p, tsectionparser301608 contentparser) {
	trstnode295009* result;
	result = 0;
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = indfollows_301758(&(*p));
		if (!LOC3) goto LA4;
		pushind_297007(p, (*p).Tok->data[(*p).Idx].Ival);
		result = contentparser(p);
		popind_297032(p);
	}
	LA4: ;
	return result;
}

N_NIMCALL(void, dirrawaux_302244)(trstparser296677* p, trstnode295009** result, NU8 kind, tsectionparser301608 contentparser) {
	NimStringDesc* filename;
	filename = getfieldvalue_296059((*result), ((NimStringDesc*) &TMP2483));
	{
		NimStringDesc* path;
		if (!(0 < filename->Sup.len)) goto LA3;
		path = (*(*p).S).Findfile(filename);
		{
			if (!(path->Sup.len == 0)) goto LA7;
			rstmessage_296956(&(*p), ((NU8) 0), filename);
		}
		goto LA5;
		LA7: ;
		{
			NimStringDesc* f;
			trstnode295009* LOC10;
			f = readfile_10440(path);
			unsureAsgnRef((void**) &(*result), newrstnode_295097(kind));
			LOC10 = 0;
			LOC10 = newrstnode_295139(((NU8) 64), f);
			add_295163((*result), LOC10);
		}
		LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		trstnode295009* LOC12;
		(*(*result)).Kind = kind;
		LOC12 = 0;
		LOC12 = parsedirbody_301791(p, contentparser);
		add_295163((*result), LOC12);
	}
	LA1: ;
}

N_NIMCALL(trstnode295009*, dirraw_302258)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	result = parsedirective_301617(p, 11);
	{
		if (!!(((*result).Sons->data[0] == NIM_NIL))) goto LA3;
		{
			NI LOC7;
			LOC7 = 0;
			LOC7 = nsuCmpIgnoreCase((*(*(*result).Sons->data[0]).Sons->data[0]).Text, ((NimStringDesc*) &TMP2486));
			if (!(LOC7 == 0)) goto LA8;
			dirrawaux_302244(p, &result, ((NU8) 48), parseliteralblock_299488);
		}
		goto LA5;
		LA8: ;
		{
			NI LOC11;
			LOC11 = 0;
			LOC11 = nsuCmpIgnoreCase((*(*(*result).Sons->data[0]).Sons->data[0]).Text, ((NimStringDesc*) &TMP2487));
			if (!(LOC11 == 0)) goto LA12;
			dirrawaux_302244(p, &result, ((NU8) 49), parseliteralblock_299488);
		}
		goto LA5;
		LA12: ;
		{
			rstmessage_296956(&(*p), ((NU8) 5), (*(*(*result).Sons->data[0]).Sons->data[0]).Text);
		}
		LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		dirrawaux_302244(p, &result, ((NU8) 42), parsesectionwrapper_301521);
	}
	LA1: ;
	return result;
}

N_NIMCALL(trstnode295009*, dircodeblock_301827)(trstparser296677* p) {
	trstnode295009* result;
	NimStringDesc* filename;
	NimStringDesc* LOC1;
	result = 0;
	result = parsedirective_301774(p, 3, parseliteralblock_299488);
	LOC1 = 0;
	LOC1 = getfieldvalue_296059(result, ((NimStringDesc*) &TMP2483));
	filename = nsuStrip(LOC1, NIM_TRUE, NIM_TRUE);
	{
		NimStringDesc* path;
		trstnode295009* n;
		NimStringDesc* LOC10;
		trstnode295009* LOC11;
		if (!!(((filename) && (filename)->Sup.len == 0))) goto LA4;
		path = (*(*p).S).Findfile(filename);
		{
			if (!((path) && (path)->Sup.len == 0)) goto LA8;
			rstmessage_296956(&(*p), ((NU8) 0), filename);
		}
		LA8: ;
		n = newrstnode_295097(((NU8) 24));
		LOC10 = 0;
		LOC10 = readfile_10440(path);
		LOC11 = 0;
		LOC11 = newrstnode_295139(((NU8) 64), LOC10);
		add_295163(n, LOC11);
		asgnRefNoCycle((void**) &(*result).Sons->data[2], n);
	}
	LA4: ;
	(*result).Kind = ((NU8) 47);
	return result;
}

N_NIMCALL(trstnode295009*, dirindex_302235)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	result = parsedirective_301774(p, 0, parsesectionwrapper_301521);
	(*result).Kind = ((NU8) 51);
	return result;
}

N_NIMCALL(trstnode295009*, getreferencename_297441)(trstparser296677* p, NimStringDesc* endstr) {
	trstnode295009* result;
	trstnode295009* res;
	result = 0;
	res = newrstnode_295097(((NU8) 0));
	while (1) {
		switch ((*p).Tok->data[(*p).Idx].Kind) {
		case ((NU8) 3):
		case ((NU8) 6):
		case ((NU8) 2):
		{
			trstnode295009* LOC3;
			LOC3 = 0;
			LOC3 = newleaf_297434(p);
			add_295163(res, LOC3);
		}
		break;
		case ((NU8) 5):
		{
			{
				if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, endstr)) goto LA7;
				(*p).Idx += 1;
				goto LA1;
			}
			goto LA5;
			LA7: ;
			{
				trstnode295009* LOC10;
				LOC10 = 0;
				LOC10 = newleaf_297434(p);
				add_295163(res, LOC10);
			}
			LA5: ;
		}
		break;
		default:
		{
			rstmessage_296956(&(*p), ((NU8) 1), endstr);
			goto LA1;
		}
		break;
		}
		(*p).Idx += 1;
	} LA1: ;
	result = res;
	return result;
}

N_NIMCALL(trstnode295009*, untileol_297483)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	result = newrstnode_295097(((NU8) 0));
	while (1) {
		trstnode295009* LOC2;
		if (!!(((3 &(1<<(((*p).Tok->data[(*p).Idx].Kind)&7)))!=0))) goto LA1;
		LOC2 = 0;
		LOC2 = newleaf_297434(p);
		add_295163(result, LOC2);
		(*p).Idx += 1;
	} LA1: ;
	return result;
}

N_NIMCALL(void, expect_297521)(trstparser296677* p, NimStringDesc* tok) {
	{
		if (!eqStrings((*p).Tok->data[(*p).Idx].Symbol, tok)) goto LA3;
		(*p).Idx += 1;
	}
	goto LA1;
	LA3: ;
	{
		rstmessage_296956(&(*p), ((NU8) 1), tok);
	}
	LA1: ;
}

N_NIMCALL(void, setsub_297300)(trstparser296677* p, NimStringDesc* key, trstnode295009* value) {
	NI length;
	NI i_297330;
	NI HEX3Atmp_297347;
	NI res_297349;
	NimStringDesc* LOC6;
	length = (*(*p).S).Subs->Sup.len;
	i_297330 = 0;
	HEX3Atmp_297347 = 0;
	HEX3Atmp_297347 = (NI64)(length - 1);
	res_297349 = 0;
	while (1) {
		if (!(res_297349 <= HEX3Atmp_297347)) goto LA1;
		i_297330 = res_297349;
		{
			if (!eqStrings(key, (*(*p).S).Subs->data[i_297330].Key)) goto LA4;
			asgnRefNoCycle((void**) &(*(*p).S).Subs->data[i_297330].Value, value);
			goto BeforeRet;
		}
		LA4: ;
		res_297349 += 1;
	} LA1: ;
	(*(*p).S).Subs = (TY296687*) setLengthSeq(&((*(*p).S).Subs)->Sup, sizeof(tsubstitution296671), (NI64)(length + 1));
	LOC6 = 0;
	LOC6 = (*(*p).S).Subs->data[length].Key; (*(*p).S).Subs->data[length].Key = copyStringRC1(key);
	if (LOC6) nimGCunrefNoCycle(LOC6);
	asgnRefNoCycle((void**) &(*(*p).S).Subs->data[length].Value, value);
	BeforeRet: ;
}

N_NIMCALL(trstnode295009*, parsecomment_299108)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	switch ((*p).Tok->data[(*p).Idx].Kind) {
	case ((NU8) 1):
	case ((NU8) 0):
	{
		{
			NIM_BOOL LOC4;
			LOC4 = 0;
			LOC4 = !(((*p).Tok->data[(*p).Idx].Kind == ((NU8) 0)));
			if (!(LOC4)) goto LA5;
			LOC4 = ((*p).Tok->data[(NI64)((*p).Idx + 1)].Kind == ((NU8) 1));
			LA5: ;
			if (!LOC4) goto LA6;
			(*p).Idx += 1;
		}
		goto LA2;
		LA6: ;
		{
			NI indent;
			indent = (*p).Tok->data[(*p).Idx].Ival;
			while (1) {
				switch ((*p).Tok->data[(*p).Idx].Kind) {
				case ((NU8) 0):
				{
					goto LA9;
				}
				break;
				case ((NU8) 1):
				{
					{
						if (!((*p).Tok->data[(*p).Idx].Ival < indent)) goto LA14;
						goto LA9;
					}
					LA14: ;
				}
				break;
				default:
				{
				}
				break;
				}
				(*p).Idx += 1;
			} LA9: ;
		}
		LA2: ;
	}
	break;
	default:
	{
		while (1) {
			if (!!(((3 &(1<<(((*p).Tok->data[(*p).Idx].Kind)&7)))!=0))) goto LA18;
			(*p).Idx += 1;
		} LA18: ;
	}
	break;
	}
	result = NIM_NIL;
	return result;
}

N_NIMCALL(trstnode295009*, parsedotdot_299483)(trstparser296677* p) {
	trstnode295009* result;
	NI col;
	NimStringDesc* d;
	result = 0;
	result = NIM_NIL;
	col = (*p).Tok->data[(*p).Idx].Col;
	(*p).Idx += 1;
	d = getdirective_298953(p);
	{
		NU8 LOC5;
		if (!!(((d) && (d)->Sup.len == 0))) goto LA3;
		pushind_297007(p, col);
		LOC5 = 0;
		LOC5 = getdirkind_299220(d);
		switch (LOC5) {
		case ((NU8) 8):
		{
			result = dirinclude_301799(p);
		}
		break;
		case ((NU8) 7):
		{
			result = dirimage_302203(p);
		}
		break;
		case ((NU8) 6):
		{
			result = dirfigure_302211(p);
		}
		break;
		case ((NU8) 11):
		{
			result = dirtitle_302219(p);
		}
		break;
		case ((NU8) 4):
		{
			result = dircontainer_301838(p);
		}
		break;
		case ((NU8) 5):
		{
			result = dircontents_302227(p);
		}
		break;
		case ((NU8) 10):
		{
			{
				if (!(((*(*p).S).Options &(1<<((((NU8) 2))&7)))!=0)) goto LA15;
				result = dirraw_302258(p);
			}
			goto LA13;
			LA15: ;
			{
				rstmessage_296956(&(*p), ((NU8) 5), d);
			}
			LA13: ;
		}
		break;
		case ((NU8) 3):
		{
			result = dircodeblock_301827(p);
		}
		break;
		case ((NU8) 9):
		{
			result = dirindex_302235(p);
		}
		break;
		default:
		{
			rstmessage_296956(&(*p), ((NU8) 5), d);
		}
		break;
		}
		popind_297032(p);
	}
	goto LA1;
	LA3: ;
	{
		NIM_BOOL LOC22;
		trstnode295009* a;
		trstnode295009* b;
		NimStringDesc* LOC29;
		LOC22 = 0;
		LOC22 = match_297647(&(*p), (*p).Idx, ((NimStringDesc*) &TMP2488));
		if (!LOC22) goto LA23;
		(*p).Idx += 2;
		a = getreferencename_297441(p, ((NimStringDesc*) &TMP2476));
		{
			if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2))) goto LA27;
			(*p).Idx += 1;
		}
		LA27: ;
		b = untileol_297483(p);
		LOC29 = 0;
		LOC29 = rstnodetorefname_296051(a);
		setref_297354(p, LOC29, b);
	}
	goto LA1;
	LA23: ;
	{
		NIM_BOOL LOC31;
		trstnode295009* a;
		trstnode295009* b;
		NimStringDesc* LOC48;
		LOC31 = 0;
		LOC31 = match_297647(&(*p), (*p).Idx, ((NimStringDesc*) &TMP2489));
		if (!LOC31) goto LA32;
		(*p).Idx += 2;
		a = getreferencename_297441(p, ((NimStringDesc*) &TMP2375));
		b = 0;
		{
			if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2))) goto LA36;
			(*p).Idx += 1;
		}
		LA36: ;
		{
			NI LOC40;
			LOC40 = 0;
			LOC40 = nsuCmpIgnoreStyle((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2490));
			if (!(LOC40 == 0)) goto LA41;
			(*p).Idx += 1;
			expect_297521(p, ((NimStringDesc*) &TMP2371));
			b = untileol_297483(p);
		}
		goto LA38;
		LA41: ;
		{
			NI LOC44;
			LOC44 = 0;
			LOC44 = nsuCmpIgnoreStyle((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2392));
			if (!(LOC44 == 0)) goto LA45;
			(*p).Idx += 1;
			b = dirimage_302203(p);
		}
		goto LA38;
		LA45: ;
		{
			rstmessage_296956(&(*p), ((NU8) 5), (*p).Tok->data[(*p).Idx].Symbol);
		}
		LA38: ;
		LOC48 = 0;
		LOC48 = addnodes_296055(a);
		setsub_297300(p, LOC48, b);
	}
	goto LA1;
	LA32: ;
	{
		NIM_BOOL LOC50;
		trstnode295009* a;
		trstnode295009* b;
		NimStringDesc* LOC57;
		LOC50 = 0;
		LOC50 = match_297647(&(*p), (*p).Idx, ((NimStringDesc*) &TMP2491));
		if (!LOC50) goto LA51;
		(*p).Idx += 2;
		a = getreferencename_297441(p, ((NimStringDesc*) &TMP2492));
		{
			if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2))) goto LA55;
			(*p).Idx += 1;
		}
		LA55: ;
		b = untileol_297483(p);
		LOC57 = 0;
		LOC57 = rstnodetorefname_296051(a);
		setref_297354(p, LOC57, b);
	}
	goto LA1;
	LA51: ;
	{
		result = parsecomment_299108(p);
	}
	LA1: ;
	return result;
}

N_NIMCALL(trstnode295009*, parseenumlist_301284)(trstparser296677* p) {
	trstnode295009* result;
	NI w;
	result = 0;
	result = NIM_NIL;
	w = 0;
	while (1) {
		if (!(w <= 2)) goto LA1;
		{
			NIM_BOOL LOC4;
			LOC4 = 0;
			LOC4 = match_297647(&(*p), (*p).Idx, wildcards_301289[(w)- 0]);
			if (!LOC4) goto LA5;
			goto LA1;
		}
		LA5: ;
		w += 1;
	} LA1: ;
	{
		NI col;
		NI j;
		if (!(w <= 2)) goto LA9;
		col = (*p).Tok->data[(*p).Idx].Col;
		result = newrstnode_295097(((NU8) 7));
		(*p).Idx += (NI64)(wildpos_301294[(w)- 0] + 3);
		j = tokenafternewline_299613(&(*p));
		{
			NIM_BOOL LOC13;
			LOC13 = 0;
			LOC13 = ((*p).Tok->data[j].Col == (*p).Tok->data[(*p).Idx].Col);
			if (LOC13) goto LA14;
			LOC13 = match_297647(&(*p), j, wildcards_301289[(w)- 0]);
			LA14: ;
			if (!LOC13) goto LA15;
			pushind_297007(p, (*p).Tok->data[(*p).Idx].Col);
			while (1) {
				trstnode295009* item;
				item = newrstnode_295097(((NU8) 8));
				parsesection_299312(p, item);
				add_295163(result, item);
				{
					NIM_BOOL LOC20;
					NIM_BOOL LOC21;
					LOC20 = 0;
					LOC21 = 0;
					LOC21 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
					if (!(LOC21)) goto LA22;
					LOC21 = ((*p).Tok->data[(*p).Idx].Ival == col);
					LA22: ;
					LOC20 = LOC21;
					if (!(LOC20)) goto LA23;
					LOC20 = match_297647(&(*p), (NI64)((*p).Idx + 1), wildcards_301289[(w)- 0]);
					LA23: ;
					if (!LOC20) goto LA24;
					(*p).Idx += (NI64)(wildpos_301294[(w)- 0] + 4);
				}
				goto LA18;
				LA24: ;
				{
					goto LA17;
				}
				LA18: ;
			} LA17: ;
			popind_297032(p);
		}
		goto LA11;
		LA15: ;
		{
			(*p).Idx -= (NI64)(wildpos_301294[(w)- 0] + 3);
			result = NIM_NIL;
		}
		LA11: ;
	}
	LA9: ;
	return result;
}

N_NIMCALL(trstnode295009*, parsedefinitionlist_301193)(trstparser296677* p) {
	trstnode295009* result;
	NI j;
	NI LOC1;
	result = 0;
	result = NIM_NIL;
	LOC1 = 0;
	LOC1 = tokenafternewline_299613(&(*p));
	j = (NI64)(LOC1 - 1);
	{
		NIM_BOOL LOC4;
		NIM_BOOL LOC5;
		NIM_BOOL LOC6;
		NI LOC9;
		NI col;
		LOC4 = 0;
		LOC5 = 0;
		LOC6 = 0;
		LOC6 = (1 <= j);
		if (!(LOC6)) goto LA7;
		LOC6 = ((*p).Tok->data[j].Kind == ((NU8) 1));
		LA7: ;
		LOC5 = LOC6;
		if (!(LOC5)) goto LA8;
		LOC9 = 0;
		LOC9 = currind_297001(&(*p));
		LOC5 = (LOC9 < (*p).Tok->data[j].Ival);
		LA8: ;
		LOC4 = LOC5;
		if (!(LOC4)) goto LA10;
		LOC4 = !(eqStrings((*p).Tok->data[(NI64)(j - 1)].Symbol, ((NimStringDesc*) &TMP2371)));
		LA10: ;
		if (!LOC4) goto LA11;
		col = (*p).Tok->data[(*p).Idx].Col;
		result = newrstnode_295097(((NU8) 9));
		while (1) {
			trstnode295009* a;
			j = (*p).Idx;
			a = newrstnode_295097(((NU8) 11));
			parseline_299296(p, a);
			{
				NIM_BOOL LOC16;
				NIM_BOOL LOC17;
				NIM_BOOL LOC18;
				NI LOC20;
				trstnode295009* b;
				trstnode295009* c;
				LOC16 = 0;
				LOC17 = 0;
				LOC18 = 0;
				LOC18 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
				if (!(LOC18)) goto LA19;
				LOC20 = 0;
				LOC20 = currind_297001(&(*p));
				LOC18 = (LOC20 < (*p).Tok->data[(*p).Idx].Ival);
				LA19: ;
				LOC17 = LOC18;
				if (!(LOC17)) goto LA21;
				LOC17 = !(eqStrings((*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol, ((NimStringDesc*) &TMP2371)));
				LA21: ;
				LOC16 = LOC17;
				if (!(LOC16)) goto LA22;
				LOC16 = !(((3 &(1<<(((*p).Tok->data[(NI64)((*p).Idx + 1)].Kind)&7)))!=0));
				LA22: ;
				if (!LOC16) goto LA23;
				pushind_297007(p, (*p).Tok->data[(*p).Idx].Ival);
				b = newrstnode_295097(((NU8) 12));
				parsesection_299312(p, b);
				c = newrstnode_295097(((NU8) 10));
				add_295163(c, a);
				add_295163(c, b);
				add_295163(result, c);
				popind_297032(p);
			}
			goto LA14;
			LA23: ;
			{
				(*p).Idx = j;
				goto LA13;
			}
			LA14: ;
			{
				NIM_BOOL LOC28;
				NI LOC32;
				LOC28 = 0;
				LOC28 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1));
				if (!(LOC28)) goto LA29;
				LOC28 = ((*p).Tok->data[(*p).Idx].Ival == col);
				LA29: ;
				if (!LOC28) goto LA30;
				(*p).Idx += 1;
				LOC32 = 0;
				LOC32 = tokenafternewline_299613(&(*p));
				j = (NI64)(LOC32 - 1);
				{
					NIM_BOOL LOC35;
					NIM_BOOL LOC36;
					NIM_BOOL LOC37;
					NIM_BOOL LOC38;
					LOC35 = 0;
					LOC36 = 0;
					LOC37 = 0;
					LOC38 = 0;
					LOC38 = (1 <= j);
					if (!(LOC38)) goto LA39;
					LOC38 = ((*p).Tok->data[j].Kind == ((NU8) 1));
					LA39: ;
					LOC37 = LOC38;
					if (!(LOC37)) goto LA40;
					LOC37 = (col < (*p).Tok->data[j].Ival);
					LA40: ;
					LOC36 = LOC37;
					if (!(LOC36)) goto LA41;
					LOC36 = !(eqStrings((*p).Tok->data[(NI64)(j - 1)].Symbol, ((NimStringDesc*) &TMP2371)));
					LA41: ;
					LOC35 = LOC36;
					if (!(LOC35)) goto LA42;
					LOC35 = !(((*p).Tok->data[(NI64)(j + 1)].Kind == ((NU8) 1)));
					LA42: ;
					if (!LOC35) goto LA43;
				}
				goto LA33;
				LA43: ;
				{
					goto LA13;
				}
				LA33: ;
			}
			LA30: ;
		} LA13: ;
		{
			NI LOC48;
			LOC48 = 0;
			LOC48 = len_295080(result);
			if (!(LOC48 == 0)) goto LA49;
			result = NIM_NIL;
		}
		LA49: ;
	}
	LA11: ;
	return result;
}

N_NIMCALL(trstnode295009*, parsetransition_300826)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	result = newrstnode_295097(((NU8) 3));
	(*p).Idx += 1;
	{
		if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA3;
		(*p).Idx += 1;
	}
	LA3: ;
	{
		if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA7;
		(*p).Idx += 1;
	}
	LA7: ;
	return result;
}

N_NIMCALL(void, parseuntilnewline_299304)(trstparser296677* p, trstnode295009* father) {
	while (1) {
		switch ((*p).Tok->data[(*p).Idx].Kind) {
		case ((NU8) 2):
		case ((NU8) 3):
		case ((NU8) 4):
		case ((NU8) 6):
		case ((NU8) 5):
		{
			parseinline_298802(p, father);
		}
		break;
		case ((NU8) 0):
		case ((NU8) 1):
		{
			goto LA1;
		}
		break;
		}
	} LA1: ;
}

N_NIMCALL(NI, getlevel_299587)(NI* map, NI* lvl, NIM_CHAR c) {
	NI result;
	result = 0;
	{
		if (!(map[(((NU8)(c)))- 0] == 0)) goto LA3;
		(*lvl) += 1;
		map[(((NU8)(c)))- 0] = (*lvl);
	}
	LA3: ;
	result = map[(((NU8)(c)))- 0];
	return result;
}

N_NIMCALL(trstnode295009*, parseheadline_299863)(trstparser296677* p) {
	trstnode295009* result;
	NIM_CHAR c;
	result = 0;
	result = newrstnode_295097(((NU8) 1));
	parseuntilnewline_299304(p, result);
	c = (*p).Tok->data[(NI64)((*p).Idx + 1)].Symbol->data[0];
	(*p).Idx += 2;
	(*result).Level = getlevel_299587((*(*p).S).Underlinetolevel, &(*(*p).S).Ulevel, c);
	return result;
}

N_NIMCALL(trstnode295009*, parseoverline_300899)(trstparser296677* p) {
	trstnode295009* result;
	NIM_CHAR c;
	result = 0;
	c = (*p).Tok->data[(*p).Idx].Symbol->data[0];
	(*p).Idx += 2;
	result = newrstnode_295097(((NU8) 2));
	while (1) {
		parseuntilnewline_299304(p, result);
		{
			if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA4;
			(*p).Idx += 1;
			{
				NI LOC8;
				trstnode295009* LOC11;
				LOC8 = 0;
				LOC8 = currind_297001(&(*p));
				if (!(LOC8 < (*p).Tok->data[(NI64)((*p).Idx - 1)].Ival)) goto LA9;
				LOC11 = 0;
				LOC11 = newrstnode_295139(((NU8) 64), ((NimStringDesc*) &TMP2403));
				add_295163(result, LOC11);
			}
			goto LA6;
			LA9: ;
			{
				goto LA1;
			}
			LA6: ;
		}
		goto LA2;
		LA4: ;
		{
			goto LA1;
		}
		LA2: ;
	} LA1: ;
	(*result).Level = getlevel_299587((*(*p).S).Overlinetolevel, &(*(*p).S).Olevel, c);
	{
		if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 4))) goto LA16;
		(*p).Idx += 1;
		{
			if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA20;
			(*p).Idx += 1;
		}
		LA20: ;
	}
	LA16: ;
	return result;
}

N_NIMCALL(NI, tokend_300225)(trstparser296677* p) {
	NI result;
	result = 0;
	result = (NI64)((NI64)((*p).Tok->data[(*p).Idx].Col + (*p).Tok->data[(*p).Idx].Symbol->Sup.len) - 1);
	return result;
}

N_NIMCALL(void, getcolumns_300231)(trstparser296677* p, TY296698** cols) {
	NI l;
	l = 0;
	while (1) {
		l += 1;
		(*cols) = (TY296698*) setLengthSeq(&((*cols))->Sup, sizeof(NI), l);
		(*cols)->data[(NI64)(l - 1)] = tokend_300225(&(*p));
		(*p).Idx += 1;
		{
			if (!!(((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2)))) goto LA4;
			goto LA1;
		}
		LA4: ;
		(*p).Idx += 1;
		{
			if (!!(((*p).Tok->data[(*p).Idx].Kind == ((NU8) 4)))) goto LA8;
			goto LA1;
		}
		LA8: ;
	} LA1: ;
	{
		if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA12;
		(*p).Idx += 1;
	}
	LA12: ;
	(*cols)->data[(NI64)(l - 1)] = 32000;
}

N_NIMCALL(trstnode295009*, parsesimpletable_300485)(trstparser296677* p) {
	trstnode295009* result;
	TY296698* cols;
	TY111405* row;
	NI i;
	NI last;
	NI line;
	NIM_CHAR c;
	trstparser296677 q;
	trstnode295009* a;
	trstnode295009* b;
	result = 0;
	cols = 0;
	row = 0;
	i = 0;
	last = 0;
	line = 0;
	c = 0;
	memset((void*)&q, 0, sizeof(q));
	q.Sup.m_type = (&NTI296677);
	a = 0;
	b = 0;
	result = newrstnode_295097(((NU8) 29));
	cols = (TY296698*) newSeq((&NTI296698), 0);
	row = (TY111405*) newSeq((&NTI111405), 0);
	a = NIM_NIL;
	c = (*p).Tok->data[(*p).Idx].Symbol->data[0];
	while (1) {
		NI j_300640;
		NI HEX3Atmp_300805;
		NI res_300807;
		NI j_300776;
		NI HEX3Atmp_300813;
		NI res_300815;
		{
			if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 4))) goto LA4;
			last = tokenafternewline_299613(&(*p));
			{
				if (!((3 &(1<<(((*p).Tok->data[last].Kind)&7)))!=0)) goto LA8;
				(*p).Idx = last;
				goto LA1;
			}
			LA8: ;
			getcolumns_300231(p, &cols);
			row = (TY111405*) setLengthSeq(&(row)->Sup, sizeof(NimStringDesc*), cols->Sup.len);
			{
				NI j_300618;
				NI HEX3Atmp_300801;
				NI LOC14;
				NI res_300803;
				if (!!((a == NIM_NIL))) goto LA12;
				j_300618 = 0;
				HEX3Atmp_300801 = 0;
				LOC14 = 0;
				LOC14 = len_295080(a);
				HEX3Atmp_300801 = (NI64)(LOC14 - 1);
				res_300803 = 0;
				while (1) {
					if (!(res_300803 <= HEX3Atmp_300801)) goto LA15;
					j_300618 = res_300803;
					(*(*a).Sons->data[j_300618]).Kind = ((NU8) 32);
					res_300803 += 1;
				} LA15: ;
			}
			LA12: ;
		}
		LA4: ;
		{
			if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 0))) goto LA18;
			goto LA1;
		}
		LA18: ;
		j_300640 = 0;
		HEX3Atmp_300805 = 0;
		HEX3Atmp_300805 = (row->Sup.len-1);
		res_300807 = 0;
		while (1) {
			NimStringDesc* LOC21;
			if (!(res_300807 <= HEX3Atmp_300805)) goto LA20;
			j_300640 = res_300807;
			LOC21 = 0;
			LOC21 = row->data[j_300640]; row->data[j_300640] = copyStringRC1(((NimStringDesc*) &TMP1993));
			if (LOC21) nimGCunrefNoCycle(LOC21);
			res_300807 += 1;
		} LA20: ;
		line = (*p).Tok->data[(*p).Idx].Line;
		while (1) {
			NI j_300763;
			NI HEX3Atmp_300809;
			NI res_300811;
			i = 0;
			while (1) {
				if (!!(((3 &(1<<(((*p).Tok->data[(*p).Idx].Kind)&7)))!=0))) goto LA23;
				{
					NI LOC26;
					LOC26 = 0;
					LOC26 = tokend_300225(&(*p));
					if (!(LOC26 <= cols->data[i])) goto LA27;
					row->data[i] = resizeString(row->data[i], (*p).Tok->data[(*p).Idx].Symbol->Sup.len + 0);
appendString(row->data[i], (*p).Tok->data[(*p).Idx].Symbol);
					(*p).Idx += 1;
				}
				goto LA24;
				LA27: ;
				{
					{
						if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2))) goto LA32;
						(*p).Idx += 1;
					}
					LA32: ;
					i += 1;
				}
				LA24: ;
			} LA23: ;
			{
				if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA36;
				(*p).Idx += 1;
			}
			LA36: ;
			{
				NI LOC40;
				LOC40 = 0;
				LOC40 = tokend_300225(&(*p));
				if (!(LOC40 <= cols->data[0])) goto LA41;
				goto LA22;
			}
			LA41: ;
			{
				if (!((17 &(1<<(((*p).Tok->data[(*p).Idx].Kind)&7)))!=0)) goto LA45;
				goto LA22;
			}
			LA45: ;
			j_300763 = 0;
			HEX3Atmp_300809 = 0;
			HEX3Atmp_300809 = (row->Sup.len-1);
			res_300811 = 1;
			while (1) {
				if (!(res_300811 <= HEX3Atmp_300809)) goto LA47;
				j_300763 = res_300811;
				row->data[j_300763] = addChar(row->data[j_300763], 10);
				res_300811 += 1;
			} LA47: ;
		} LA22: ;
		a = newrstnode_295097(((NU8) 31));
		j_300776 = 0;
		HEX3Atmp_300813 = 0;
		HEX3Atmp_300813 = (row->Sup.len-1);
		res_300815 = 0;
		while (1) {
			NI LOC49;
			trstnode295009* LOC50;
			if (!(res_300815 <= HEX3Atmp_300813)) goto LA48;
			j_300776 = res_300815;
			initparser_297077(&q, (*p).S);
			q.Col = cols->data[j_300776];
			q.Line = (NI64)(line - 1);
			q.Filename = copyString((*p).Filename);
			LOC49 = 0;
			LOC49 = gettokens_296463(row->data[j_300776], NIM_FALSE, &q.Tok);
			q.Col += LOC49;
			b = newrstnode_295097(((NU8) 33));
			LOC50 = 0;
			LOC50 = parsedoc_300480(&q);
			add_295163(b, LOC50);
			add_295163(a, b);
			res_300815 += 1;
		} LA48: ;
		add_295163(result, a);
	} LA1: ;
	return result;
}

N_NIMCALL(trstnode295009*, parseoptionlist_301072)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	result = newrstnode_295097(((NU8) 17));
	while (1) {
		{
			NIM_BOOL LOC4;
			trstnode295009* a;
			trstnode295009* b;
			trstnode295009* c;
			NI j;
			LOC4 = 0;
			LOC4 = isoptionlist_299698(&(*p));
			if (!LOC4) goto LA5;
			a = newrstnode_295097(((NU8) 19));
			b = newrstnode_295097(((NU8) 23));
			c = newrstnode_295097(((NU8) 18));
			{
				NIM_BOOL LOC9;
				LOC9 = 0;
				LOC9 = match_297647(&(*p), (*p).Idx, ((NimStringDesc*) &TMP2383));
				if (!LOC9) goto LA10;
				(*p).Idx += 1;
			}
			LA10: ;
			while (1) {
				trstnode295009* LOC19;
				if (!!(((3 &(1<<(((*p).Tok->data[(*p).Idx].Kind)&7)))!=0))) goto LA12;
				{
					NIM_BOOL LOC15;
					LOC15 = 0;
					LOC15 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 2));
					if (!(LOC15)) goto LA16;
					LOC15 = (1 < (*p).Tok->data[(*p).Idx].Symbol->Sup.len);
					LA16: ;
					if (!LOC15) goto LA17;
					(*p).Idx += 1;
					goto LA12;
				}
				LA17: ;
				LOC19 = 0;
				LOC19 = newleaf_297434(p);
				add_295163(a, LOC19);
				(*p).Idx += 1;
			} LA12: ;
			j = tokenafternewline_299613(&(*p));
			{
				NIM_BOOL LOC22;
				NIM_BOOL LOC23;
				NI LOC26;
				LOC22 = 0;
				LOC23 = 0;
				LOC23 = (0 < j);
				if (!(LOC23)) goto LA24;
				LOC23 = ((*p).Tok->data[(NI64)(j - 1)].Kind == ((NU8) 1));
				LA24: ;
				LOC22 = LOC23;
				if (!(LOC22)) goto LA25;
				LOC26 = 0;
				LOC26 = currind_297001(&(*p));
				LOC22 = (LOC26 < (*p).Tok->data[(NI64)(j - 1)].Ival);
				LA25: ;
				if (!LOC22) goto LA27;
				pushind_297007(p, (*p).Tok->data[(NI64)(j - 1)].Ival);
				parsesection_299312(p, b);
				popind_297032(p);
			}
			goto LA20;
			LA27: ;
			{
				parseline_299296(p, b);
			}
			LA20: ;
			{
				if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA32;
				(*p).Idx += 1;
			}
			LA32: ;
			add_295163(c, a);
			add_295163(c, b);
			add_295163(result, c);
		}
		goto LA2;
		LA5: ;
		{
			goto LA1;
		}
		LA2: ;
	} LA1: ;
	return result;
}

N_NIMCALL(void, parseparagraph_299788)(trstparser296677* p, trstnode295009* result) {
	while (1) {
		switch ((*p).Tok->data[(*p).Idx].Kind) {
		case ((NU8) 1):
		{
			{
				if (!((*p).Tok->data[(NI64)((*p).Idx + 1)].Kind == ((NU8) 1))) goto LA5;
				(*p).Idx += 1;
				goto LA1;
			}
			goto LA3;
			LA5: ;
			{
				NI LOC8;
				NU8 LOC11;
				LOC8 = 0;
				LOC8 = currind_297001(&(*p));
				if (!((*p).Tok->data[(*p).Idx].Ival == LOC8)) goto LA9;
				(*p).Idx += 1;
				LOC11 = 0;
				LOC11 = whichsection_299704(&(*p));
				switch (LOC11) {
				case ((NU8) 4):
				case ((NU8) 64):
				case ((NU8) 1):
				case ((NU8) 2):
				case ((NU8) 40):
				{
					trstnode295009* LOC13;
					LOC13 = 0;
					LOC13 = newrstnode_295139(((NU8) 64), ((NimStringDesc*) &TMP2403));
					add_295163(result, LOC13);
				}
				break;
				case ((NU8) 26):
				{
					trstnode295009* LOC15;
					LOC15 = 0;
					LOC15 = parselineblock_299719(p);
					addifnotnil_295187(result, LOC15);
				}
				break;
				default:
				{
					goto LA1;
				}
				break;
				}
			}
			goto LA3;
			LA9: ;
			{
				goto LA1;
			}
			LA3: ;
		}
		break;
		case ((NU8) 5):
		{
			{
				NIM_BOOL LOC21;
				NIM_BOOL LOC22;
				NI LOC25;
				trstnode295009* LOC28;
				trstnode295009* LOC29;
				LOC21 = 0;
				LOC22 = 0;
				LOC22 = eqStrings((*p).Tok->data[(*p).Idx].Symbol, ((NimStringDesc*) &TMP2371));
				if (!(LOC22)) goto LA23;
				LOC22 = ((*p).Tok->data[(NI64)((*p).Idx + 1)].Kind == ((NU8) 1));
				LA23: ;
				LOC21 = LOC22;
				if (!(LOC21)) goto LA24;
				LOC25 = 0;
				LOC25 = currind_297001(&(*p));
				LOC21 = (LOC25 < (*p).Tok->data[(NI64)((*p).Idx + 1)].Ival);
				LA24: ;
				if (!LOC21) goto LA26;
				LOC28 = 0;
				LOC28 = newrstnode_295139(((NU8) 64), ((NimStringDesc*) &TMP2476));
				add_295163(result, LOC28);
				(*p).Idx += 1;
				LOC29 = 0;
				LOC29 = parseliteralblock_299488(p);
				add_295163(result, LOC29);
				goto LA1;
			}
			goto LA19;
			LA26: ;
			{
				parseinline_298802(p, result);
			}
			LA19: ;
		}
		break;
		case ((NU8) 2):
		case ((NU8) 3):
		case ((NU8) 4):
		case ((NU8) 6):
		{
			parseinline_298802(p, result);
		}
		break;
		default:
		{
			goto LA1;
		}
		break;
		}
	} LA1: ;
}

N_NIMCALL(NU8, sonkind_301380)(trstnode295009* father, NI i) {
	NU8 result;
	result = 0;
	result = ((NU8) 64);
	{
		NI LOC3;
		LOC3 = 0;
		LOC3 = len_295080(father);
		if (!(i < LOC3)) goto LA4;
		result = (*(*father).Sons->data[i]).Kind;
	}
	LA4: ;
	return result;
}

N_NIMCALL(void, parsesection_299312)(trstparser296677* p, trstnode295009* result) {
	while (1) {
		NIM_BOOL leave;
		trstnode295009* a;
		NU8 k;
		leave = NIM_FALSE;
		while (1) {
			if (!((*p).Tok->data[(*p).Idx].Kind == ((NU8) 1))) goto LA2;
			{
				NI LOC5;
				LOC5 = 0;
				LOC5 = currind_297001(&(*p));
				if (!(LOC5 == (*p).Tok->data[(*p).Idx].Ival)) goto LA6;
				(*p).Idx += 1;
			}
			goto LA3;
			LA6: ;
			{
				NI LOC9;
				trstnode295009* a;
				LOC9 = 0;
				LOC9 = currind_297001(&(*p));
				if (!(LOC9 < (*p).Tok->data[(*p).Idx].Ival)) goto LA10;
				pushind_297007(p, (*p).Tok->data[(*p).Idx].Ival);
				a = newrstnode_295097(((NU8) 28));
				parsesection_299312(p, a);
				add_295163(result, a);
				popind_297032(p);
			}
			goto LA3;
			LA10: ;
			{
				leave = NIM_TRUE;
				goto LA2;
			}
			LA3: ;
		} LA2: ;
		{
			NIM_BOOL LOC15;
			LOC15 = 0;
			LOC15 = leave;
			if (LOC15) goto LA16;
			LOC15 = ((*p).Tok->data[(*p).Idx].Kind == ((NU8) 0));
			LA16: ;
			if (!LOC15) goto LA17;
			goto LA1;
		}
		LA17: ;
		a = NIM_NIL;
		k = whichsection_299704(&(*p));
		switch (k) {
		case ((NU8) 24):
		{
			(*p).Idx += 1;
			a = parseliteralblock_299488(p);
		}
		break;
		case ((NU8) 5):
		{
			a = parsebulletlist_301002(p);
		}
		break;
		case ((NU8) 26):
		{
			a = parselineblock_299719(p);
		}
		break;
		case ((NU8) 40):
		{
			a = parsedotdot_299483(p);
		}
		break;
		case ((NU8) 7):
		{
			a = parseenumlist_301284(p);
		}
		break;
		case ((NU8) 64):
		{
			rstmessage_296972(&(*p), ((NU8) 3));
		}
		break;
		case ((NU8) 4):
		{
		}
		break;
		case ((NU8) 9):
		{
			a = parsedefinitionlist_301193(p);
		}
		break;
		case ((NU8) 13):
		{
			{
				if (!(0 < (*p).Idx)) goto LA30;
				(*p).Idx -= 1;
			}
			LA30: ;
			a = parsefields_299348(p);
		}
		break;
		case ((NU8) 3):
		{
			a = parsetransition_300826(p);
		}
		break;
		case ((NU8) 1):
		{
			a = parseheadline_299863(p);
		}
		break;
		case ((NU8) 2):
		{
			a = parseoverline_300899(p);
		}
		break;
		case ((NU8) 29):
		{
			a = parsesimpletable_300485(p);
		}
		break;
		case ((NU8) 17):
		{
			a = parseoptionlist_301072(p);
		}
		break;
		default:
		{
		}
		break;
		}
		{
			NIM_BOOL LOC40;
			LOC40 = 0;
			LOC40 = (a == NIM_NIL);
			if (!(LOC40)) goto LA41;
			LOC40 = !((k == ((NU8) 40)));
			LA41: ;
			if (!LOC40) goto LA42;
			a = newrstnode_295097(((NU8) 4));
			parseparagraph_299788(p, a);
		}
		LA42: ;
		addifnotnil_295187(result, a);
	} LA1: ;
	{
		NIM_BOOL LOC46;
		NU8 LOC47;
		NU8 LOC49;
		LOC46 = 0;
		LOC47 = 0;
		LOC47 = sonkind_301380(result, 0);
		LOC46 = (LOC47 == ((NU8) 4));
		if (!(LOC46)) goto LA48;
		LOC49 = 0;
		LOC49 = sonkind_301380(result, 1);
		LOC46 = !((LOC49 == ((NU8) 4)));
		LA48: ;
		if (!LOC46) goto LA50;
		(*(*result).Sons->data[0]).Kind = ((NU8) 0);
	}
	LA50: ;
}

N_NIMCALL(trstnode295009*, parsesectionwrapper_301521)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	result = newrstnode_295097(((NU8) 0));
	parsesection_299312(p, result);
	while (1) {
		NIM_BOOL LOC2;
		NI LOC4;
		LOC2 = 0;
		LOC2 = ((*result).Kind == ((NU8) 0));
		if (!(LOC2)) goto LA3;
		LOC4 = 0;
		LOC4 = len_295080(result);
		LOC2 = (LOC4 == 1);
		LA3: ;
		if (!LOC2) goto LA1;
		result = (*result).Sons->data[0];
	} LA1: ;
	return result;
}

N_NIMCALL(trstnode295009*, parsedoc_300480)(trstparser296677* p) {
	trstnode295009* result;
	result = 0;
	result = parsesectionwrapper_301521(p);
	{
		if (!!(((*p).Tok->data[(*p).Idx].Kind == ((NU8) 0)))) goto LA3;
		rstmessage_296972(&(*p), ((NU8) 4));
	}
	LA3: ;
	return result;
}

N_NIMCALL(trstnode295009*, rstparse_302550)(NimStringDesc* text, NimStringDesc* filename, NI line, NI column, NIM_BOOL* hastoc, NU8 options, tfindfilehandler296018 findfile, tmsghandler296016 msghandler) {
	trstnode295009* result;
	trstparser296677 p;
	tsharedstate296673* LOC1;
	NI LOC2;
	trstnode295009* LOC3;
	result = 0;
	memset((void*)&p, 0, sizeof(p));
	p.Sup.m_type = (&NTI296677);
	LOC1 = 0;
	LOC1 = newsharedstate_296878(options, findfile, msghandler);
	initparser_297077(&p, LOC1);
	p.Filename = copyString(filename);
	p.Line = line;
	LOC2 = 0;
	LOC2 = gettokens_296463(text, ((options &(1<<((((NU8) 0))&7)))!=0), &p.Tok);
	p.Col = (NI64)(column + LOC2);
	LOC3 = 0;
	LOC3 = parsedoc_300480(&p);
	result = resolvesubs_302486(&p, LOC3);
	(*hastoc) = p.Hastoc;
	return result;
}
N_NOINLINE(void, docutilsrstInit)(void) {
}

N_NOINLINE(void, docutilsrstDatInit)(void) {
static TNimNode* TMP2322[8];
static TNimNode* TMP2323[5];
static TNimNode* TMP2324[7];
NI TMP2326;
static char* NIM_CONST TMP2325[7] = {
"tkEof", 
"tkIndent", 
"tkWhite", 
"tkWord", 
"tkAdornment", 
"tkPunct", 
"tkOther"};
static TNimNode* TMP2328[9];
static TNimNode* TMP2329[4];
NI TMP2331;
static char* NIM_CONST TMP2330[4] = {
"roSkipPounds", 
"roSupportSmilies", 
"roSupportRawDirective", 
"roSupportMarkdown"};
static TNimNode* TMP2332[2];
static TNimNode* TMP2344[9];
NI TMP2346;
static char* NIM_CONST TMP2345[9] = {
"meCannotOpenFile", 
"meExpected", 
"meGridTableNotImplemented", 
"meNewSectionExpected", 
"meGeneralParseError", 
"meInvalidDirective", 
"mwRedefinitionOfLabel", 
"mwUnknownSubstitution", 
"mwUnsupportedLanguage"};
static TNimNode* TMP2357[3];
NI TMP2359;
static char* NIM_CONST TMP2358[3] = {
"Hint", 
"Warning", 
"Error"};
static TNimNode* TMP2362[6];
static TNimNode TMP881[64];
NTI296677.size = sizeof(trstparser296677);
NTI296677.kind = 17;
NTI296677.base = (&NTI2409);
TMP2322[0] = &TMP881[1];
TMP881[1].kind = 1;
TMP881[1].offset = offsetof(trstparser296677, Idx);
TMP881[1].typ = (&NTI106);
TMP881[1].name = "idx";
TMP2322[1] = &TMP881[2];
NTI296114.size = sizeof(ttoken296114);
NTI296114.kind = 18;
NTI296114.base = 0;
NTI296114.flags = 2;
TMP2323[0] = &TMP881[4];
NTI296112.size = sizeof(NU8);
NTI296112.kind = 14;
NTI296112.base = 0;
NTI296112.flags = 3;
for (TMP2326 = 0; TMP2326 < 7; TMP2326++) {
TMP881[TMP2326+5].kind = 1;
TMP881[TMP2326+5].offset = TMP2326;
TMP881[TMP2326+5].name = TMP2325[TMP2326];
TMP2324[TMP2326] = &TMP881[TMP2326+5];
}
TMP881[12].len = 7; TMP881[12].kind = 2; TMP881[12].sons = &TMP2324[0];
NTI296112.node = &TMP881[12];
TMP881[4].kind = 1;
TMP881[4].offset = offsetof(ttoken296114, Kind);
TMP881[4].typ = (&NTI296112);
TMP881[4].name = "kind";
TMP2323[1] = &TMP881[13];
TMP881[13].kind = 1;
TMP881[13].offset = offsetof(ttoken296114, Ival);
TMP881[13].typ = (&NTI106);
TMP881[13].name = "ival";
TMP2323[2] = &TMP881[14];
TMP881[14].kind = 1;
TMP881[14].offset = offsetof(ttoken296114, Symbol);
TMP881[14].typ = (&NTI143);
TMP881[14].name = "symbol";
TMP2323[3] = &TMP881[15];
TMP881[15].kind = 1;
TMP881[15].offset = offsetof(ttoken296114, Line);
TMP881[15].typ = (&NTI106);
TMP881[15].name = "line";
TMP2323[4] = &TMP881[16];
TMP881[16].kind = 1;
TMP881[16].offset = offsetof(ttoken296114, Col);
TMP881[16].typ = (&NTI106);
TMP881[16].name = "col";
TMP881[3].len = 5; TMP881[3].kind = 2; TMP881[3].sons = &TMP2323[0];
NTI296114.node = &TMP881[3];
NTI296116.size = sizeof(ttokenseq296116*);
NTI296116.kind = 24;
NTI296116.base = (&NTI296114);
NTI296116.flags = 2;
NTI296116.marker = TMP2327;
TMP881[2].kind = 1;
TMP881[2].offset = offsetof(trstparser296677, Tok);
TMP881[2].typ = (&NTI296116);
TMP881[2].name = "tok";
TMP2322[2] = &TMP881[17];
NTI296673.size = sizeof(tsharedstate296673);
NTI296673.kind = 18;
NTI296673.base = 0;
NTI296673.flags = 2;
TMP2328[0] = &TMP881[19];
NTI296008.size = sizeof(NU8);
NTI296008.kind = 14;
NTI296008.base = 0;
NTI296008.flags = 3;
for (TMP2331 = 0; TMP2331 < 4; TMP2331++) {
TMP881[TMP2331+20].kind = 1;
TMP881[TMP2331+20].offset = TMP2331;
TMP881[TMP2331+20].name = TMP2330[TMP2331];
TMP2329[TMP2331] = &TMP881[TMP2331+20];
}
TMP881[24].len = 4; TMP881[24].kind = 2; TMP881[24].sons = &TMP2329[0];
NTI296008.node = &TMP881[24];
NTI296010.size = sizeof(NU8);
NTI296010.kind = 19;
NTI296010.base = (&NTI296008);
NTI296010.flags = 3;
TMP881[25].len = 0; TMP881[25].kind = 0;
NTI296010.node = &TMP881[25];
TMP881[19].kind = 1;
TMP881[19].offset = offsetof(tsharedstate296673, Options);
TMP881[19].typ = (&NTI296010);
TMP881[19].name = "options";
TMP2328[1] = &TMP881[26];
TMP881[26].kind = 1;
TMP881[26].offset = offsetof(tsharedstate296673, Ulevel);
TMP881[26].typ = (&NTI106);
TMP881[26].name = "uLevel";
TMP2328[2] = &TMP881[27];
TMP881[27].kind = 1;
TMP881[27].offset = offsetof(tsharedstate296673, Olevel);
TMP881[27].typ = (&NTI106);
TMP881[27].name = "oLevel";
TMP2328[3] = &TMP881[28];
NTI296671.size = sizeof(tsubstitution296671);
NTI296671.kind = 18;
NTI296671.base = 0;
NTI296671.flags = 2;
TMP2332[0] = &TMP881[30];
TMP881[30].kind = 1;
TMP881[30].offset = offsetof(tsubstitution296671, Key);
TMP881[30].typ = (&NTI143);
TMP881[30].name = "key";
TMP2332[1] = &TMP881[31];
TMP881[31].kind = 1;
TMP881[31].offset = offsetof(tsubstitution296671, Value);
TMP881[31].typ = (&NTI295005);
TMP881[31].name = "value";
TMP881[29].len = 2; TMP881[29].kind = 2; TMP881[29].sons = &TMP2332[0];
NTI296671.node = &TMP881[29];
NTI296687.size = sizeof(TY296687*);
NTI296687.kind = 24;
NTI296687.base = (&NTI296671);
NTI296687.flags = 2;
NTI296687.marker = TMP2339;
TMP881[28].kind = 1;
TMP881[28].offset = offsetof(tsharedstate296673, Subs);
TMP881[28].typ = (&NTI296687);
TMP881[28].name = "subs";
TMP2328[4] = &TMP881[32];
TMP881[32].kind = 1;
TMP881[32].offset = offsetof(tsharedstate296673, Refs);
TMP881[32].typ = (&NTI296687);
TMP881[32].name = "refs";
TMP2328[5] = &TMP881[33];
TMP881[33].kind = 1;
TMP881[33].offset = offsetof(tsharedstate296673, Underlinetolevel);
TMP881[33].typ = (&NTI91032);
TMP881[33].name = "underlineToLevel";
TMP2328[6] = &TMP881[34];
TMP881[34].kind = 1;
TMP881[34].offset = offsetof(tsharedstate296673, Overlinetolevel);
TMP881[34].typ = (&NTI91032);
TMP881[34].name = "overlineToLevel";
TMP2328[7] = &TMP881[35];
NTI296016.size = sizeof(tmsghandler296016);
NTI296016.kind = 25;
NTI296016.base = 0;
NTI296016.flags = 3;
TMP881[35].kind = 1;
TMP881[35].offset = offsetof(tsharedstate296673, Msghandler);
TMP881[35].typ = (&NTI296016);
TMP881[35].name = "msgHandler";
TMP2328[8] = &TMP881[36];
NTI296018.size = sizeof(tfindfilehandler296018);
NTI296018.kind = 25;
NTI296018.base = 0;
NTI296018.flags = 3;
TMP881[36].kind = 1;
TMP881[36].offset = offsetof(tsharedstate296673, Findfile);
TMP881[36].typ = (&NTI296018);
TMP881[36].name = "findFile";
TMP881[18].len = 9; TMP881[18].kind = 2; TMP881[18].sons = &TMP2328[0];
NTI296673.node = &TMP881[18];
NTI296675.size = sizeof(tsharedstate296673*);
NTI296675.kind = 22;
NTI296675.base = (&NTI296673);
NTI296675.flags = 2;
NTI296675.marker = TMP2340;
TMP881[17].kind = 1;
TMP881[17].offset = offsetof(trstparser296677, S);
TMP881[17].typ = (&NTI296675);
TMP881[17].name = "s";
TMP2322[3] = &TMP881[37];
NTI296698.size = sizeof(TY296698*);
NTI296698.kind = 24;
NTI296698.base = (&NTI106);
NTI296698.flags = 2;
NTI296698.marker = TMP2341;
TMP881[37].kind = 1;
TMP881[37].offset = offsetof(trstparser296677, Indentstack);
TMP881[37].typ = (&NTI296698);
TMP881[37].name = "indentStack";
TMP2322[4] = &TMP881[38];
TMP881[38].kind = 1;
TMP881[38].offset = offsetof(trstparser296677, Filename);
TMP881[38].typ = (&NTI143);
TMP881[38].name = "filename";
TMP2322[5] = &TMP881[39];
TMP881[39].kind = 1;
TMP881[39].offset = offsetof(trstparser296677, Line);
TMP881[39].typ = (&NTI106);
TMP881[39].name = "line";
TMP2322[6] = &TMP881[40];
TMP881[40].kind = 1;
TMP881[40].offset = offsetof(trstparser296677, Col);
TMP881[40].typ = (&NTI106);
TMP881[40].name = "col";
TMP2322[7] = &TMP881[41];
TMP881[41].kind = 1;
TMP881[41].offset = offsetof(trstparser296677, Hastoc);
TMP881[41].typ = (&NTI134);
TMP881[41].name = "hasToc";
TMP881[0].len = 8; TMP881[0].kind = 2; TMP881[0].sons = &TMP2322[0];
NTI296677.node = &TMP881[0];
NTI296014.size = sizeof(NU8);
NTI296014.kind = 14;
NTI296014.base = 0;
NTI296014.flags = 3;
for (TMP2346 = 0; TMP2346 < 9; TMP2346++) {
TMP881[TMP2346+42].kind = 1;
TMP881[TMP2346+42].offset = TMP2346;
TMP881[TMP2346+42].name = TMP2345[TMP2346];
TMP2344[TMP2346] = &TMP881[TMP2346+42];
}
TMP881[51].len = 9; TMP881[51].kind = 2; TMP881[51].sons = &TMP2344[0];
NTI296014.node = &TMP881[51];
NTI296012.size = sizeof(NU8);
NTI296012.kind = 14;
NTI296012.base = 0;
NTI296012.flags = 3;
for (TMP2359 = 0; TMP2359 < 3; TMP2359++) {
TMP881[TMP2359+52].kind = 1;
TMP881[TMP2359+52].offset = TMP2359;
TMP881[TMP2359+52].name = TMP2358[TMP2359];
TMP2357[TMP2359] = &TMP881[TMP2359+52];
}
TMP881[55].len = 3; TMP881[55].kind = 2; TMP881[55].sons = &TMP2357[0];
NTI296012.node = &TMP881[55];
NTI296679.size = sizeof(eparseerror296679);
NTI296679.kind = 17;
NTI296679.base = (&NTI2453);
TMP881[56].len = 0; TMP881[56].kind = 2;
NTI296679.node = &TMP881[56];
NTI296836.size = sizeof(eparseerror296679*);
NTI296836.kind = 22;
NTI296836.base = (&NTI296679);
NTI296836.marker = TMP2360;
NTI296118.size = sizeof(tlexer296118);
NTI296118.kind = 17;
NTI296118.base = (&NTI2409);
NTI296118.flags = 1;
TMP2362[0] = &TMP881[58];
TMP881[58].kind = 1;
TMP881[58].offset = offsetof(tlexer296118, Buf);
TMP881[58].typ = (&NTI145);
TMP881[58].name = "buf";
TMP2362[1] = &TMP881[59];
TMP881[59].kind = 1;
TMP881[59].offset = offsetof(tlexer296118, Bufpos);
TMP881[59].typ = (&NTI106);
TMP881[59].name = "bufpos";
TMP2362[2] = &TMP881[60];
TMP881[60].kind = 1;
TMP881[60].offset = offsetof(tlexer296118, Line);
TMP881[60].typ = (&NTI106);
TMP881[60].name = "line";
TMP2362[3] = &TMP881[61];
TMP881[61].kind = 1;
TMP881[61].offset = offsetof(tlexer296118, Col);
TMP881[61].typ = (&NTI106);
TMP881[61].name = "col";
TMP2362[4] = &TMP881[62];
TMP881[62].kind = 1;
TMP881[62].offset = offsetof(tlexer296118, Baseindent);
TMP881[62].typ = (&NTI106);
TMP881[62].name = "baseIndent";
TMP2362[5] = &TMP881[63];
TMP881[63].kind = 1;
TMP881[63].offset = offsetof(tlexer296118, Skippounds);
TMP881[63].typ = (&NTI134);
TMP881[63].name = "skipPounds";
TMP881[57].len = 6; TMP881[57].kind = 2; TMP881[57].sons = &TMP2362[0];
NTI296118.node = &TMP881[57];
}

